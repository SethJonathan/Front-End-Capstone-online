"use strict";(self.webpackChunkreviewmotion=self.webpackChunkreviewmotion||[]).push([[179],{367:(Ba,ci,Wt)=>{Wt.d(ci,{Z:()=>nt});var zt,Et,pe=Wt(655),T=Wt(492),We=Wt(461),ot=Wt(3),io=((zt={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",zt["bad-app-name"]="Illegal App name: '{$appName}",zt["duplicate-app"]="Firebase App named '{$appName}' already exists",zt["app-deleted"]="Firebase App named '{$appName}' already deleted",zt["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",zt["invalid-log-argument"]="First argument to `onLog` must be null or a function.",zt),Ir=new T.LL("app","Firebase",io),Ci="@firebase/app",Jn="[DEFAULT]",Xe=((Et={})[Ci]="fire-core",Et["@firebase/analytics"]="fire-analytics",Et["@firebase/app-check"]="fire-app-check",Et["@firebase/auth"]="fire-auth",Et["@firebase/database"]="fire-rtdb",Et["@firebase/functions"]="fire-fn",Et["@firebase/installations"]="fire-iid",Et["@firebase/messaging"]="fire-fcm",Et["@firebase/performance"]="fire-perf",Et["@firebase/remote-config"]="fire-rc",Et["@firebase/storage"]="fire-gcs",Et["@firebase/firestore"]="fire-fst",Et["fire-js"]="fire-js",Et["firebase-wrapper"]="fire-js-all",Et),nn=new ot.Yd("@firebase/app"),oo=function(){function Se(Ke,st,gt){var rt=this;this.firebase_=gt,this.isDeleted_=!1,this.name_=st.name,this.automaticDataCollectionEnabled_=st.automaticDataCollectionEnabled||!1,this.options_=(0,T.p$)(Ke),this.container=new We.H0(st.name),this._addComponent(new We.wA("app",function(){return rt},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(Si){return rt._addComponent(Si)})}return Object.defineProperty(Se.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Ke){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Ke},enumerable:!1,configurable:!0}),Object.defineProperty(Se.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Se.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Se.prototype.delete=function(){var Ke=this;return new Promise(function(st){Ke.checkDestroyed_(),st()}).then(function(){return Ke.firebase_.INTERNAL.removeApp(Ke.name_),Promise.all(Ke.container.getProviders().map(function(st){return st.delete()}))}).then(function(){Ke.isDeleted_=!0})},Se.prototype._getService=function(Ke,st){var gt;void 0===st&&(st=Jn),this.checkDestroyed_();var rt=this.container.getProvider(Ke);return!rt.isInitialized()&&"EXPLICIT"===(null===(gt=rt.getComponent())||void 0===gt?void 0:gt.instantiationMode)&&rt.initialize(),rt.getImmediate({identifier:st})},Se.prototype._removeServiceInstance=function(Ke,st){void 0===st&&(st=Jn),this.container.getProvider(Ke).clearInstance(st)},Se.prototype._addComponent=function(Ke){try{this.container.addComponent(Ke)}catch(st){nn.debug("Component "+Ke.name+" failed to register with FirebaseApp "+this.name,st)}},Se.prototype._addOrOverwriteComponent=function(Ke){this.container.addOrOverwriteComponent(Ke)},Se.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},Se.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Ir.create("app-deleted",{appName:this.name_})},Se}();oo.prototype.name&&oo.prototype.options||oo.prototype.delete||console.log("dc");var ge=function V(){var Se=function de(Se){var Ke={},st=new Map,gt={__esModule:!0,initializeApp:function mt(Kt,rn){void 0===rn&&(rn={}),("object"!=typeof rn||null===rn)&&(rn={name:rn});var Rn=rn;void 0===Rn.name&&(Rn.name=Jn);var Fn=Rn.name;if("string"!=typeof Fn||!Fn)throw Ir.create("bad-app-name",{appName:String(Fn)});if((0,T.r3)(Ke,Fn))throw Ir.create("duplicate-app",{appName:Fn});var Un=new Se(Kt,Rn,gt);return Ke[Fn]=Un,Un},app:Si,registerVersion:function En(Kt,rn,li){var Rn,Fn=null!==(Rn=Xe[Kt])&&void 0!==Rn?Rn:Kt;li&&(Fn+="-"+li);var Un=Fn.match(/\s|\//),yn=rn.match(/\s|\//);if(Un||yn){var Hn=['Unable to register library "'+Fn+'" with version "'+rn+'":'];return Un&&Hn.push('library name "'+Fn+'" contains illegal characters (whitespace or "/")'),Un&&yn&&Hn.push("and"),yn&&Hn.push('version name "'+rn+'" contains illegal characters (whitespace or "/")'),void nn.warn(Hn.join(" "))}Wo(new We.wA(Fn+"-version",function(){return{library:Fn,version:rn}},"VERSION"))},setLogLevel:ot.Ub,onLog:function pr(Kt,rn){if(null!==Kt&&"function"!=typeof Kt)throw Ir.create("invalid-log-argument");(0,ot.Am)(Kt,rn)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:Wo,removeApp:function rt(Kt){delete Ke[Kt]},components:st,useAsService:function $u(Kt,rn){return"serverAuth"===rn?null:rn}}};function Si(Kt){if(!(0,T.r3)(Ke,Kt=Kt||Jn))throw Ir.create("no-app",{appName:Kt});return Ke[Kt]}function Wo(Kt){var rn=Kt.name;if(st.has(rn))return nn.debug("There were multiple attempts to register component "+rn+"."),"PUBLIC"===Kt.type?gt[rn]:null;if(st.set(rn,Kt),"PUBLIC"===Kt.type){var li=function(yn){if(void 0===yn&&(yn=Si()),"function"!=typeof yn[rn])throw Ir.create("invalid-app-argument",{appName:rn});return yn[rn]()};void 0!==Kt.serviceProps&&(0,T.ZB)(li,Kt.serviceProps),gt[rn]=li,Se.prototype[rn]=function(){for(var yn=[],Hn=0;Hn<arguments.length;Hn++)yn[Hn]=arguments[Hn];return this._getService.bind(this,rn).apply(this,Kt.multipleInstances?yn:[])}}for(var Rn=0,Fn=Object.keys(Ke);Rn<Fn.length;Rn++)Ke[Fn[Rn]]._addComponent(Kt);return"PUBLIC"===Kt.type?gt[rn]:null}return gt.default=gt,Object.defineProperty(gt,"apps",{get:function Qr(){return Object.keys(Ke).map(function(Kt){return Ke[Kt]})}}),Si.App=Se,gt}(oo);return Se.INTERNAL=(0,pe.pi)((0,pe.pi)({},Se.INTERNAL),{createFirebaseNamespace:V,extendNamespace:function Ke(st){(0,T.ZB)(Se,st)},createSubscribe:T.ne,ErrorFactory:T.LL,deepExtend:T.ZB}),Se}(),_e=function(){function Se(Ke){this.container=Ke}return Se.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(st){if(function Pe(Se){return"VERSION"===Se.getComponent()?.type}(st)){var gt=st.getImmediate();return gt.library+"/"+gt.version}return null}).filter(function(st){return st}).join(" ")},Se}();if((0,T.jU)()&&void 0!==self.firebase){nn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ct=self.firebase.SDK_VERSION;ct&&ct.indexOf("LITE")>=0&&nn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var St=ge.initializeApp;ge.initializeApp=function(){for(var Se=[],Ke=0;Ke<arguments.length;Ke++)Se[Ke]=arguments[Ke];return(0,T.UG)()&&nn.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),St.apply(void 0,Se)};var cr=ge;!function le(Se,Ke){Se.INTERNAL.registerComponent(new We.wA("platform-logger",function(st){return new _e(st)},"PRIVATE")),Se.registerVersion(Ci,"0.6.30",Ke),Se.registerVersion("fire-js","")}(cr);const nt=cr},461:(Ba,ci,Wt)=>{Wt.d(ci,{H0:()=>Ci,wA:()=>We});var pe=Wt(655),T=Wt(492),We=function(){function se($,we,Re){this.name=$,this.instanceFactory=we,this.type=Re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return se.prototype.setInstantiationMode=function($){return this.instantiationMode=$,this},se.prototype.setMultipleInstances=function($){return this.multipleInstances=$,this},se.prototype.setServiceProps=function($){return this.serviceProps=$,this},se.prototype.setInstanceCreatedCallback=function($){return this.onInstanceCreated=$,this},se}(),ot="[DEFAULT]",zt=function(){function se($,we){this.name=$,this.container=we,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return se.prototype.get=function($){var we=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(we)){var Re=new T.BH;if(this.instancesDeferred.set(we,Re),this.isInitialized(we)||this.shouldAutoInitialize())try{var Ae=this.getOrInitializeService({instanceIdentifier:we});Ae&&Re.resolve(Ae)}catch{}}return this.instancesDeferred.get(we).promise},se.prototype.getImmediate=function($){var we,Re=this.normalizeInstanceIdentifier($?.identifier),Ae=null!==(we=$?.optional)&&void 0!==we&&we;if(!this.isInitialized(Re)&&!this.shouldAutoInitialize()){if(Ae)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:Re})}catch(Fe){if(Ae)return null;throw Fe}},se.prototype.getComponent=function(){return this.component},se.prototype.setComponent=function($){var we,Re;if($.name!==this.name)throw Error("Mismatching Component "+$.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=$,this.shouldAutoInitialize()){if(function Ir(se){return"EAGER"===se.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ot})}catch{}try{for(var Ae=(0,pe.XA)(this.instancesDeferred.entries()),Fe=Ae.next();!Fe.done;Fe=Ae.next()){var qt=(0,pe.CR)(Fe.value,2),Pt=qt[1],bt=this.normalizeInstanceIdentifier(qt[0]);try{var fr=this.getOrInitializeService({instanceIdentifier:bt});Pt.resolve(fr)}catch{}}}catch(Xt){we={error:Xt}}finally{try{Fe&&!Fe.done&&(Re=Ae.return)&&Re.call(Ae)}finally{if(we)throw we.error}}}},se.prototype.clearInstance=function($){void 0===$&&($=ot),this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)},se.prototype.delete=function(){return(0,pe.mG)(this,void 0,void 0,function(){var $;return(0,pe.Jh)(this,function(we){switch(we.label){case 0:return $=Array.from(this.instances.values()),[4,Promise.all((0,pe.ev)((0,pe.ev)([],(0,pe.CR)($.filter(function(Re){return"INTERNAL"in Re}).map(function(Re){return Re.INTERNAL.delete()}))),(0,pe.CR)($.filter(function(Re){return"_delete"in Re}).map(function(Re){return Re._delete()}))))];case 1:return we.sent(),[2]}})})},se.prototype.isComponentSet=function(){return null!=this.component},se.prototype.isInitialized=function($){return void 0===$&&($=ot),this.instances.has($)},se.prototype.getOptions=function($){return void 0===$&&($=ot),this.instancesOptions.get($)||{}},se.prototype.initialize=function($){var we,Re;void 0===$&&($={});var Ae=$.options,Fe=void 0===Ae?{}:Ae,qt=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(qt))throw Error(this.name+"("+qt+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Gt=this.getOrInitializeService({instanceIdentifier:qt,options:Fe});try{for(var Pt=(0,pe.XA)(this.instancesDeferred.entries()),bt=Pt.next();!bt.done;bt=Pt.next()){var fr=(0,pe.CR)(bt.value,2),Di=fr[1];qt===this.normalizeInstanceIdentifier(fr[0])&&Di.resolve(Gt)}}catch(Jn){we={error:Jn}}finally{try{bt&&!bt.done&&(Re=Pt.return)&&Re.call(Pt)}finally{if(we)throw we.error}}return Gt},se.prototype.onInit=function($,we){var Re,Ae=this.normalizeInstanceIdentifier(we),Fe=null!==(Re=this.onInitCallbacks.get(Ae))&&void 0!==Re?Re:new Set;Fe.add($),this.onInitCallbacks.set(Ae,Fe);var qt=this.instances.get(Ae);return qt&&$(qt,Ae),function(){Fe.delete($)}},se.prototype.invokeOnInitCallbacks=function($,we){var Re,Ae,Fe=this.onInitCallbacks.get(we);if(Fe)try{for(var qt=(0,pe.XA)(Fe),Gt=qt.next();!Gt.done;Gt=qt.next()){var Pt=Gt.value;try{Pt($,we)}catch{}}}catch(bt){Re={error:bt}}finally{try{Gt&&!Gt.done&&(Ae=qt.return)&&Ae.call(qt)}finally{if(Re)throw Re.error}}},se.prototype.getOrInitializeService=function($){var we=$.instanceIdentifier,Re=$.options,Ae=void 0===Re?{}:Re,Fe=this.instances.get(we);if(!Fe&&this.component&&(Fe=this.component.instanceFactory(this.container,{instanceIdentifier:io(we),options:Ae}),this.instances.set(we,Fe),this.instancesOptions.set(we,Ae),this.invokeOnInitCallbacks(Fe,we),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,we,Fe)}catch{}return Fe||null},se.prototype.normalizeInstanceIdentifier=function($){return void 0===$&&($=ot),this.component?this.component.multipleInstances?$:ot:$},se.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},se}();function io(se){return se===ot?void 0:se}var Ci=function(){function se($){this.name=$,this.providers=new Map}return se.prototype.addComponent=function($){var we=this.getProvider($.name);if(we.isComponentSet())throw new Error("Component "+$.name+" has already been registered with "+this.name);we.setComponent($)},se.prototype.addOrOverwriteComponent=function($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)},se.prototype.getProvider=function($){if(this.providers.has($))return this.providers.get($);var we=new zt($,this);return this.providers.set($,we),we},se.prototype.getProviders=function(){return Array.from(this.providers.values())},se}()},3:(Ba,ci,Wt)=>{function pe(){for(var Re=0,Ae=0,Fe=arguments.length;Ae<Fe;Ae++)Re+=arguments[Ae].length;var qt=Array(Re),Gt=0;for(Ae=0;Ae<Fe;Ae++)for(var Pt=arguments[Ae],bt=0,fr=Pt.length;bt<fr;bt++,Gt++)qt[Gt]=Pt[bt];return qt}Wt.d(ci,{Am:()=>we,Ub:()=>$,Yd:()=>se,in:()=>ot});var T,We=[],ot=(()=>{return(Re=ot||(ot={}))[Re.DEBUG=0]="DEBUG",Re[Re.VERBOSE=1]="VERBOSE",Re[Re.INFO=2]="INFO",Re[Re.WARN=3]="WARN",Re[Re.ERROR=4]="ERROR",Re[Re.SILENT=5]="SILENT",ot;var Re})(),zt={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},io=ot.INFO,Ir=((T={})[ot.DEBUG]="log",T[ot.VERBOSE]="log",T[ot.INFO]="info",T[ot.WARN]="warn",T[ot.ERROR]="error",T),Ci=function(Re,Ae){for(var Fe=[],qt=2;qt<arguments.length;qt++)Fe[qt-2]=arguments[qt];if(!(Ae<Re.logLevel)){var Gt=(new Date).toISOString(),Pt=Ir[Ae];if(!Pt)throw new Error("Attempted to log a message with an invalid logType (value: "+Ae+")");console[Pt].apply(console,pe(["["+Gt+"]  "+Re.name+":"],Fe))}},se=function(){function Re(Ae){this.name=Ae,this._logLevel=io,this._logHandler=Ci,this._userLogHandler=null,We.push(this)}return Object.defineProperty(Re.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Ae){if(!(Ae in ot))throw new TypeError('Invalid value "'+Ae+'" assigned to `logLevel`');this._logLevel=Ae},enumerable:!1,configurable:!0}),Re.prototype.setLogLevel=function(Ae){this._logLevel="string"==typeof Ae?zt[Ae]:Ae},Object.defineProperty(Re.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Ae){if("function"!=typeof Ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ae},enumerable:!1,configurable:!0}),Object.defineProperty(Re.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Ae){this._userLogHandler=Ae},enumerable:!1,configurable:!0}),Re.prototype.debug=function(){for(var Ae=[],Fe=0;Fe<arguments.length;Fe++)Ae[Fe]=arguments[Fe];this._userLogHandler&&this._userLogHandler.apply(this,pe([this,ot.DEBUG],Ae)),this._logHandler.apply(this,pe([this,ot.DEBUG],Ae))},Re.prototype.log=function(){for(var Ae=[],Fe=0;Fe<arguments.length;Fe++)Ae[Fe]=arguments[Fe];this._userLogHandler&&this._userLogHandler.apply(this,pe([this,ot.VERBOSE],Ae)),this._logHandler.apply(this,pe([this,ot.VERBOSE],Ae))},Re.prototype.info=function(){for(var Ae=[],Fe=0;Fe<arguments.length;Fe++)Ae[Fe]=arguments[Fe];this._userLogHandler&&this._userLogHandler.apply(this,pe([this,ot.INFO],Ae)),this._logHandler.apply(this,pe([this,ot.INFO],Ae))},Re.prototype.warn=function(){for(var Ae=[],Fe=0;Fe<arguments.length;Fe++)Ae[Fe]=arguments[Fe];this._userLogHandler&&this._userLogHandler.apply(this,pe([this,ot.WARN],Ae)),this._logHandler.apply(this,pe([this,ot.WARN],Ae))},Re.prototype.error=function(){for(var Ae=[],Fe=0;Fe<arguments.length;Fe++)Ae[Fe]=arguments[Fe];this._userLogHandler&&this._userLogHandler.apply(this,pe([this,ot.ERROR],Ae)),this._logHandler.apply(this,pe([this,ot.ERROR],Ae))},Re}();function $(Re){We.forEach(function(Ae){Ae.setLogLevel(Re)})}function we(Re,Ae){for(var Fe=function(bt){var fr=null;Ae&&Ae.level&&(fr=zt[Ae.level]),bt.userLogHandler=null===Re?null:function(Xt,Di){for(var Et=[],Jn=2;Jn<arguments.length;Jn++)Et[Jn-2]=arguments[Jn];var Xe=Et.map(function(nn){if(null==nn)return null;if("string"==typeof nn)return nn;if("number"==typeof nn||"boolean"==typeof nn)return nn.toString();if(nn instanceof Error)return nn.message;try{return JSON.stringify(nn)}catch{return null}}).filter(function(nn){return nn}).join(" ");Di>=(fr??Xt.logLevel)&&Re({level:ot[Di].toLowerCase(),message:Xe,args:Et,type:Xt.name})}},qt=0,Gt=We;qt<Gt.length;qt++)Fe(Gt[qt])}},492:(Ba,ci,Wt)=>{Wt.d(ci,{BH:()=>Fe,G6:()=>oo,LL:()=>le,Mn:()=>Xe,Sg:()=>qt,UG:()=>bt,ZB:()=>Re,ZR:()=>Pe,b$:()=>Di,d:()=>Et,jU:()=>fr,m9:()=>No,ne:()=>Rn,p$:()=>we,r3:()=>Si,ru:()=>Xt,uI:()=>Pt,w1:()=>Jn,z$:()=>Gt});var pe=Wt(655),zt=function(W){for(var G=[],X=0,ne=0;ne<W.length;ne++){var Q=W.charCodeAt(ne);Q<128?G[X++]=Q:Q<2048?(G[X++]=Q>>6|192,G[X++]=63&Q|128):55296==(64512&Q)&&ne+1<W.length&&56320==(64512&W.charCodeAt(ne+1))?(Q=65536+((1023&Q)<<10)+(1023&W.charCodeAt(++ne)),G[X++]=Q>>18|240,G[X++]=Q>>12&63|128,G[X++]=Q>>6&63|128,G[X++]=63&Q|128):(G[X++]=Q>>12|224,G[X++]=Q>>6&63|128,G[X++]=63&Q|128)}return G},Ir={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(W,G){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var X=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[],Q=0;Q<W.length;Q+=3){var Me=W[Q],dt=Q+1<W.length,on=dt?W[Q+1]:0,mn=Q+2<W.length,cn=mn?W[Q+2]:0,Ct=(15&on)<<2|cn>>6,Xr=63&cn;mn||(Xr=64,dt||(Ct=64)),ne.push(X[Me>>2],X[(3&Me)<<4|on>>4],X[Ct],X[Xr])}return ne.join("")},encodeString:function(W,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(W):this.encodeByteArray(zt(W),G)},decodeString:function(W,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(W):function(W){for(var G=[],X=0,ne=0;X<W.length;){var Q=W[X++];if(Q<128)G[ne++]=String.fromCharCode(Q);else if(Q>191&&Q<224){var Me=W[X++];G[ne++]=String.fromCharCode((31&Q)<<6|63&Me)}else if(Q>239&&Q<365){var mn=((7&Q)<<18|(63&(Me=W[X++]))<<12|(63&(dt=W[X++]))<<6|63&W[X++])-65536;G[ne++]=String.fromCharCode(55296+(mn>>10)),G[ne++]=String.fromCharCode(56320+(1023&mn))}else{Me=W[X++];var dt=W[X++];G[ne++]=String.fromCharCode((15&Q)<<12|(63&Me)<<6|63&dt)}}return G.join("")}(this.decodeStringToByteArray(W,G))},decodeStringToByteArray:function(W,G){this.init_();for(var X=G?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[],Q=0;Q<W.length;){var Me=X[W.charAt(Q++)],on=Q<W.length?X[W.charAt(Q)]:0,cn=++Q<W.length?X[W.charAt(Q)]:64,sn=++Q<W.length?X[W.charAt(Q)]:64;if(++Q,null==Me||null==on||null==cn||null==sn)throw Error();ne.push(Me<<2|on>>4),64!==cn&&(ne.push(on<<4&240|cn>>2),64!==sn&&ne.push(cn<<6&192|sn))}return ne},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},se=function(W){return function(W){var G=zt(W);return Ir.encodeByteArray(G,!0)}(W).replace(/\./g,"")};function we(W){return Re(void 0,W)}function Re(W,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return G}for(var ne in G)!G.hasOwnProperty(ne)||!Ae(ne)||(W[ne]=Re(W[ne],G[ne]));return W}function Ae(W){return"__proto__"!==W}var Fe=function(){function W(){var G=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(X,ne){G.resolve=X,G.reject=ne})}return W.prototype.wrapCallback=function(G){var X=this;return function(ne,Q){ne?X.reject(ne):X.resolve(Q),"function"==typeof G&&(X.promise.catch(function(){}),1===G.length?G(ne):G(ne,Q))}},W}();function qt(W,G){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var ne=G||"demo-project",Q=W.iat||0,Me=W.sub||W.user_id;if(!Me)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var dt=(0,pe.pi)({iss:"https://securetoken.google.com/"+ne,aud:ne,iat:Q,exp:Q+3600,auth_time:Q,sub:Me,user_id:Me,firebase:{sign_in_provider:"custom",identities:{}}},W);return[se(JSON.stringify({alg:"none",type:"JWT"})),se(JSON.stringify(dt)),""].join(".")}function Gt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Pt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function bt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function fr(){return"object"==typeof self&&self.self===self}function Xt(){var W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function Di(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Et(){return Gt().indexOf("Electron/")>=0}function Jn(){var W=Gt();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Xe(){return Gt().indexOf("MSAppHost/")>=0}function oo(){return!bt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var Pe=function(W){function G(X,ne,Q){var Me=W.call(this,ne)||this;return Me.code=X,Me.customData=Q,Me.name="FirebaseError",Object.setPrototypeOf(Me,G.prototype),Error.captureStackTrace&&Error.captureStackTrace(Me,le.prototype.create),Me}return(0,pe.ZT)(G,W),G}(Error),le=function(){function W(G,X,ne){this.service=G,this.serviceName=X,this.errors=ne}return W.prototype.create=function(G){for(var X=[],ne=1;ne<arguments.length;ne++)X[ne-1]=arguments[ne];var Q=X[0]||{},Me=this.service+"/"+G,dt=this.errors[G],on=dt?ct(dt,Q):"Error",mn=this.serviceName+": "+on+" ("+Me+").",cn=new Pe(Me,mn,Q);return cn},W}();function ct(W,G){return W.replace(St,function(X,ne){var Q=G[ne];return null!=Q?String(Q):"<"+ne+"?>"})}var St=/\{\$([^}]+)}/g;function Si(W,G){return Object.prototype.hasOwnProperty.call(W,G)}function Rn(W,G){var X=new Fn(W,G);return X.subscribe.bind(X)}!function(){function W(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}W.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},W.prototype.compress_=function(G,X){X||(X=0);var ne=this.W_;if("string"==typeof G)for(var Q=0;Q<16;Q++)ne[Q]=G.charCodeAt(X)<<24|G.charCodeAt(X+1)<<16|G.charCodeAt(X+2)<<8|G.charCodeAt(X+3),X+=4;else for(Q=0;Q<16;Q++)ne[Q]=G[X]<<24|G[X+1]<<16|G[X+2]<<8|G[X+3],X+=4;for(Q=16;Q<80;Q++)ne[Q]=4294967295&((Me=ne[Q-3]^ne[Q-8]^ne[Q-14]^ne[Q-16])<<1|Me>>>31);var sn,Ct,dt=this.chain_[0],on=this.chain_[1],mn=this.chain_[2],cn=this.chain_[3],Mr=this.chain_[4];for(Q=0;Q<80;Q++){Q<40?Q<20?(sn=cn^on&(mn^cn),Ct=1518500249):(sn=on^mn^cn,Ct=1859775393):Q<60?(sn=on&mn|cn&(on|mn),Ct=2400959708):(sn=on^mn^cn,Ct=3395469782);var Me=(dt<<5|dt>>>27)+sn+Mr+Ct+ne[Q]&4294967295;Mr=cn,cn=mn,mn=4294967295&(on<<30|on>>>2),on=dt,dt=Me}this.chain_[0]=this.chain_[0]+dt&4294967295,this.chain_[1]=this.chain_[1]+on&4294967295,this.chain_[2]=this.chain_[2]+mn&4294967295,this.chain_[3]=this.chain_[3]+cn&4294967295,this.chain_[4]=this.chain_[4]+Mr&4294967295},W.prototype.update=function(G,X){if(null!=G){void 0===X&&(X=G.length);for(var ne=X-this.blockSize,Q=0,Me=this.buf_,dt=this.inbuf_;Q<X;){if(0===dt)for(;Q<=ne;)this.compress_(G,Q),Q+=this.blockSize;if("string"==typeof G){for(;Q<X;)if(Me[dt]=G.charCodeAt(Q),++Q,++dt===this.blockSize){this.compress_(Me),dt=0;break}}else for(;Q<X;)if(Me[dt]=G[Q],++Q,++dt===this.blockSize){this.compress_(Me),dt=0;break}}this.inbuf_=dt,this.total_+=X}},W.prototype.digest=function(){var G=[],X=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ne=this.blockSize-1;ne>=56;ne--)this.buf_[ne]=255&X,X/=256;this.compress_(this.buf_);var Q=0;for(ne=0;ne<5;ne++)for(var Me=24;Me>=0;Me-=8)G[Q]=this.chain_[ne]>>Me&255,++Q;return G}}();var Fn=function(){function W(G,X){var ne=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(function(){G(ne)}).catch(function(Q){ne.error(Q)})}return W.prototype.next=function(G){this.forEachObserver(function(X){X.next(G)})},W.prototype.error=function(G){this.forEachObserver(function(X){X.error(G)}),this.close(G)},W.prototype.complete=function(){this.forEachObserver(function(G){G.complete()}),this.close()},W.prototype.subscribe=function(G,X,ne){var Me,Q=this;if(void 0===G&&void 0===X&&void 0===ne)throw new Error("Missing Observer.");Me=function yn(W,G){if("object"!=typeof W||null===W)return!1;for(var X=0,ne=G;X<ne.length;X++){var Q=ne[X];if(Q in W&&"function"==typeof W[Q])return!0}return!1}(G,["next","error","complete"])?G:{next:G,error:X,complete:ne},void 0===Me.next&&(Me.next=Hn),void 0===Me.error&&(Me.error=Hn),void 0===Me.complete&&(Me.complete=Hn);var dt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Q.finalError?Me.error(Q.finalError):Me.complete()}catch{}}),this.observers.push(Me),dt},W.prototype.unsubscribeOne=function(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},W.prototype.forEachObserver=function(G){if(!this.finalized)for(var X=0;X<this.observers.length;X++)this.sendOne(X,G)},W.prototype.sendOne=function(G,X){var ne=this;this.task.then(function(){if(void 0!==ne.observers&&void 0!==ne.observers[G])try{X(ne.observers[G])}catch(Q){typeof console<"u"&&console.error&&console.error(Q)}})},W.prototype.close=function(G){var X=this;this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(function(){X.observers=void 0,X.onNoObservers=void 0}))},W}();function Hn(){}function No(W){return W&&W._delegate?W._delegate:W}},759:(Ba,ci,Wt)=>{function pe(i){return"function"==typeof i}function T(i){const t=i(o=>{Error.call(o),o.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const We=T(i=>function(t){i(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((o,c)=>`${c+1}) ${o.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ot(i,e){if(i){const t=i.indexOf(e);0<=t&&i.splice(t,1)}}class zt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const h of t)h.remove(this);else t.remove(this);const{initialTeardown:o}=this;if(pe(o))try{o()}catch(h){e=h instanceof We?h.errors:[h]}const{_finalizers:c}=this;if(c){this._finalizers=null;for(const h of c)try{Ci(h)}catch(p){e=e??[],p instanceof We?e=[...e,...p.errors]:e.push(p)}}if(e)throw new We(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Ci(e);else{if(e instanceof zt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ot(t,e)}remove(e){const{_finalizers:t}=this;t&&ot(t,e),e instanceof zt&&e._removeParent(this)}}zt.EMPTY=(()=>{const i=new zt;return i.closed=!0,i})();const io=zt.EMPTY;function Ir(i){return i instanceof zt||i&&"closed"in i&&pe(i.remove)&&pe(i.add)&&pe(i.unsubscribe)}function Ci(i){pe(i)?i():i.unsubscribe()}const se={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},$={setTimeout(i,e,...t){const{delegate:o}=$;return o?.setTimeout?o.setTimeout(i,e,...t):setTimeout(i,e,...t)},clearTimeout(i){const{delegate:e}=$;return(e?.clearTimeout||clearTimeout)(i)},delegate:void 0};function we(i){$.setTimeout(()=>{const{onUnhandledError:e}=se;if(!e)throw i;e(i)})}function Re(){}const Ae=Gt("C",void 0,void 0);function Gt(i,e,t){return{kind:i,value:e,error:t}}let Pt=null;function bt(i){if(se.useDeprecatedSynchronousErrorHandling){const e=!Pt;if(e&&(Pt={errorThrown:!1,error:null}),i(),e){const{errorThrown:t,error:o}=Pt;if(Pt=null,t)throw o}}else i()}class Xt extends zt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ir(e)&&e.add(this)):this.destination=de}static create(e,t,o){return new Xe(e,t,o)}next(e){this.isStopped?pt(function qt(i){return Gt("N",i,void 0)}(e),this):this._next(e)}error(e){this.isStopped?pt(function Fe(i){return Gt("E",void 0,i)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?pt(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Di=Function.prototype.bind;function Et(i,e){return Di.call(i,e)}class Jn{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(o){nn(o)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(o){nn(o)}else nn(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){nn(t)}}}class Xe extends Xt{constructor(e,t,o){let c;if(super(),pe(e)||!e)c={next:e??void 0,error:t??void 0,complete:o??void 0};else{let h;this&&se.useDeprecatedNextContext?(h=Object.create(e),h.unsubscribe=()=>this.unsubscribe(),c={next:e.next&&Et(e.next,h),error:e.error&&Et(e.error,h),complete:e.complete&&Et(e.complete,h)}):c=e}this.destination=new Jn(c)}}function nn(i){se.useDeprecatedSynchronousErrorHandling?function fr(i){se.useDeprecatedSynchronousErrorHandling&&Pt&&(Pt.errorThrown=!0,Pt.error=i)}(i):we(i)}function pt(i,e){const{onStoppedNotification:t}=se;t&&$.setTimeout(()=>t(i,e))}const de={closed:!0,next:Re,error:function oo(i){throw i},complete:Re},V="function"==typeof Symbol&&Symbol.observable||"@@observable";function ge(i){return i}let le=(()=>{class i{constructor(t){t&&(this._subscribe=t)}lift(t){const o=new i;return o.source=this,o.operator=t,o}subscribe(t,o,c){const h=function cr(i){return i&&i instanceof Xt||function St(i){return i&&pe(i.next)&&pe(i.error)&&pe(i.complete)}(i)&&Ir(i)}(t)?t:new Xe(t,o,c);return bt(()=>{const{operator:p,source:m}=this;h.add(p?p.call(h,m):m?this._subscribe(h):this._trySubscribe(h))}),h}_trySubscribe(t){try{return this._subscribe(t)}catch(o){t.error(o)}}forEach(t,o){return new(o=ct(o))((c,h)=>{const p=new Xe({next:m=>{try{t(m)}catch(_){h(_),p.unsubscribe()}},error:h,complete:c});this.subscribe(p)})}_subscribe(t){var o;return null===(o=this.source)||void 0===o?void 0:o.subscribe(t)}[V](){return this}pipe(...t){return function Pe(i){return 0===i.length?ge:1===i.length?i[0]:function(t){return i.reduce((o,c)=>c(o),t)}}(t)(this)}toPromise(t){return new(t=ct(t))((o,c)=>{let h;this.subscribe(p=>h=p,p=>c(p),()=>o(h))})}}return i.create=e=>new i(e),i})();function ct(i){var e;return null!==(e=i??se.Promise)&&void 0!==e?e:Promise}const nt=T(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Se=(()=>{class i extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const o=new Ke(this,this);return o.operator=t,o}_throwIfClosed(){if(this.closed)throw new nt}next(t){bt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const o of this.currentObservers)o.next(t)}})}error(t){bt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:o}=this;for(;o.length;)o.shift().error(t)}})}complete(){bt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:o,isStopped:c,observers:h}=this;return o||c?io:(this.currentObservers=null,h.push(t),new zt(()=>{this.currentObservers=null,ot(h,t)}))}_checkFinalizedStatuses(t){const{hasError:o,thrownError:c,isStopped:h}=this;o?t.error(c):h&&t.complete()}asObservable(){const t=new le;return t.source=this,t}}return i.create=(e,t)=>new Ke(e,t),i})();class Ke extends Se{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,o;null===(o=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===o||o.call(t,e)}error(e){var t,o;null===(o=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===o||o.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,o;return null!==(o=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==o?o:io}}function st(i){return pe(i?.lift)}function gt(i){return e=>{if(st(e))return e.lift(function(t){try{return i(t,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function rt(i,e,t,o,c){return new Si(i,e,t,o,c)}class Si extends Xt{constructor(e,t,o,c,h,p){super(e),this.onFinalize=h,this.shouldUnsubscribe=p,this._next=t?function(m){try{t(m)}catch(_){e.error(_)}}:super._next,this._error=c?function(m){try{c(m)}catch(_){e.error(_)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(m){e.error(m)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function mt(i,e){return gt((t,o)=>{let c=0;t.subscribe(rt(o,h=>{o.next(i.call(e,h,c++))}))})}var Qr=Wt(655);const Wo=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function En(i){return pe(i?.then)}function pr(i){return pe(i[V])}function $u(i){return Symbol.asyncIterator&&pe(i?.[Symbol.asyncIterator])}function Kt(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const li=function rn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Rn(i){return pe(i?.[li])}function Fn(i){return(0,Qr.FC)(this,arguments,function*(){const t=i.getReader();try{for(;;){const{value:o,done:c}=yield(0,Qr.qq)(t.read());if(c)return yield(0,Qr.qq)(void 0);yield yield(0,Qr.qq)(o)}}finally{t.releaseLock()}})}function Un(i){return pe(i?.getReader)}function yn(i){if(i instanceof le)return i;if(null!=i){if(pr(i))return function Hn(i){return new le(e=>{const t=i[V]();if(pe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(i);if(Wo(i))return function ys(i){return new le(e=>{for(let t=0;t<i.length&&!e.closed;t++)e.next(i[t]);e.complete()})}(i);if(En(i))return function so(i){return new le(e=>{i.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,we)})}(i);if($u(i))return Ar(i);if(Rn(i))return function yh(i){return new le(e=>{for(const t of i)if(e.next(t),e.closed)return;e.complete()})}(i);if(Un(i))return function Ko(i){return Ar(Fn(i))}(i)}throw Kt(i)}function Ar(i){return new le(e=>{(function Pd(i,e){var t,o,c,h;return(0,Qr.mG)(this,void 0,void 0,function*(){try{for(t=(0,Qr.KL)(i);!(o=yield t.next()).done;)if(e.next(o.value),e.closed)return}catch(p){c={error:p}}finally{try{o&&!o.done&&(h=t.return)&&(yield h.call(t))}finally{if(c)throw c.error}}e.complete()})})(i,e).catch(t=>e.error(t))})}function Ti(i,e,t,o=0,c=!1){const h=e.schedule(function(){t(),c?i.add(this.schedule(null,o)):this.unsubscribe()},o);if(i.add(h),!c)return h}function Tt(i,e,t=1/0){return pe(e)?Tt((o,c)=>mt((h,p)=>e(o,h,c,p))(yn(i(o,c))),t):("number"==typeof e&&(t=e),gt((o,c)=>function _h(i,e,t,o,c,h,p,m){const _=[];let E=0,S=0,R=!1;const F=()=>{R&&!_.length&&!E&&e.complete()},B=Y=>E<o?q(Y):_.push(Y),q=Y=>{h&&e.next(Y),E++;let ce=!1;yn(t(Y,S++)).subscribe(rt(e,fe=>{c?.(fe),h?B(fe):e.next(fe)},()=>{ce=!0},void 0,()=>{if(ce)try{for(E--;_.length&&E<o;){const fe=_.shift();p?Ti(e,p,()=>q(fe)):q(fe)}F()}catch(fe){e.error(fe)}}))};return i.subscribe(rt(e,B,()=>{R=!0,F()})),()=>{m?.()}}(o,c,i,t)))}function zi(i=1/0){return Tt(ge,i)}const gr=new le(i=>i.complete());function Ln(i){return i&&pe(i.schedule)}function No(i){return i[i.length-1]}function W(i){return pe(No(i))?i.pop():void 0}function G(i){return Ln(No(i))?i.pop():void 0}function ne(i,e=0){return gt((t,o)=>{t.subscribe(rt(o,c=>Ti(o,i,()=>o.next(c),e),()=>Ti(o,i,()=>o.complete(),e),c=>Ti(o,i,()=>o.error(c),e)))})}function Q(i,e=0){return gt((t,o)=>{o.add(i.schedule(()=>t.subscribe(o),e))})}function cn(i,e){if(!i)throw new Error("Iterable cannot be null");return new le(t=>{Ti(t,e,()=>{const o=i[Symbol.asyncIterator]();Ti(t,e,()=>{o.next().then(c=>{c.done?t.complete():t.next(c.value)})},0,!0)})})}function Ct(i,e){return e?function sn(i,e){if(null!=i){if(pr(i))return function Me(i,e){return yn(i).pipe(Q(e),ne(e))}(i,e);if(Wo(i))return function on(i,e){return new le(t=>{let o=0;return e.schedule(function(){o===i.length?t.complete():(t.next(i[o++]),t.closed||this.schedule())})})}(i,e);if(En(i))return function dt(i,e){return yn(i).pipe(Q(e),ne(e))}(i,e);if($u(i))return cn(i,e);if(Rn(i))return function mn(i,e){return new le(t=>{let o;return Ti(t,e,()=>{o=i[li](),Ti(t,e,()=>{let c,h;try{({value:c,done:h}=o.next())}catch(p){return void t.error(p)}h?t.complete():t.next(c)},0,!0)}),()=>pe(o?.return)&&o.return()})}(i,e);if(Un(i))return function Mr(i,e){return cn(Fn(i),e)}(i,e)}throw Kt(i)}(i,e):yn(i)}function Xr(...i){const e=G(i),t=function X(i,e){return"number"==typeof No(i)?i.pop():e}(i,1/0),o=i;return o.length?1===o.length?yn(o[0]):zi(t)(Ct(o,e)):gr}function Ws(i={}){const{connector:e=(()=>new Se),resetOnError:t=!0,resetOnComplete:o=!0,resetOnRefCountZero:c=!0}=i;return h=>{let p,m,_,E=0,S=!1,R=!1;const F=()=>{m?.unsubscribe(),m=void 0},B=()=>{F(),p=_=void 0,S=R=!1},q=()=>{const Y=p;B(),Y?.unsubscribe()};return gt((Y,ce)=>{E++,!R&&!S&&F();const fe=_=_??e();ce.add(()=>{E--,0===E&&!R&&!S&&(m=bh(q,c))}),fe.subscribe(ce),!p&&E>0&&(p=new Xe({next:xe=>fe.next(xe),error:xe=>{R=!0,F(),m=bh(B,t,xe),fe.error(xe)},complete:()=>{S=!0,F(),m=bh(B,o),fe.complete()}}),yn(Y).subscribe(p))})(h)}}function bh(i,e,...t){if(!0===e)return void i();if(!1===e)return;const o=new Xe({next:()=>{o.unsubscribe(),i()}});return e(...t).subscribe(o)}function Mn(i){for(let e in i)if(i[e]===Mn)return e;throw Error("Could not find renamed property on target object.")}function ao(i,e){for(const t in e)e.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(i[t]=e[t])}function vt(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(vt).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const e=i.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Yo(i,e){return null==i||""===i?null===e?"":e:null==e||""===e?i:i+" "+e}const wh=Mn({__forward_ref__:Mn});function Ks(i){return i.__forward_ref__=Ks,i.toString=function(){return vt(this())},i}function at(i){return Qo(i)?i():i}function Qo(i){return"function"==typeof i&&i.hasOwnProperty(wh)&&i.__forward_ref__===Ks}class Ee extends Error{constructor(e,t){super(function _s(i,e){return`NG0${Math.abs(i)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function lt(i){return"string"==typeof i?i:null==i?"":String(i)}function Xo(i,e){throw new Ee(-201,!1)}function Zr(i,e){null==i&&function Mt(i,e,t,o){throw new Error(`ASSERTION ERROR: ${i}`+(null==o?"":` [Expected=> ${t} ${o} ${e} <=Actual]`))}(e,i,null,"!=")}function Ne(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function fn(i){return{providers:i.providers||[],imports:i.imports||[]}}function Qu(i){return bs(i,ws)||bs(i,Ih)}function bs(i,e){return i.hasOwnProperty(e)?i[e]:null}function Qs(i){return i&&(i.hasOwnProperty(Jo)||i.hasOwnProperty(Qc))?i[Jo]:null}const ws=Mn({\u0275prov:Mn}),Jo=Mn({\u0275inj:Mn}),Ih=Mn({ngInjectableDef:Mn}),Qc=Mn({ngInjectorDef:Mn});var et=(()=>((et=et||{})[et.Default=0]="Default",et[et.Host=1]="Host",et[et.Self=2]="Self",et[et.SkipSelf=4]="SkipSelf",et[et.Optional=8]="Optional",et))();let qa;function uo(i){const e=qa;return qa=i,e}function Xc(i,e,t){const o=Qu(i);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:t&et.Optional?null:void 0!==e?e:void Xo(vt(i))}function hi(i){return{toString:i}.toString()}var lr=(()=>((lr=lr||{})[lr.OnPush=0]="OnPush",lr[lr.Default=1]="Default",lr))(),Jr=(()=>{return(i=Jr||(Jr={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Jr;var i})();const Zt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),es={},k=[],M=Mn({\u0275cmp:Mn}),L=Mn({\u0275dir:Mn}),H=Mn({\u0275pipe:Mn}),K=Mn({\u0275mod:Mn}),te=Mn({\u0275fac:Mn}),ye=Mn({__NG_ELEMENT_ID__:Mn});let Ue=0;function ve(i){return hi(()=>{const t=!0===i.standalone,o={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===lr.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||k,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Jr.Emulated,id:"c"+Ue++,styles:i.styles||k,_:null,setInput:null,schemas:i.schemas||null,tView:null},h=i.dependencies,p=i.features;return c.inputs=Bn(i.inputs,o),c.outputs=Bn(i.outputs),p&&p.forEach(m=>m(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(yt).filter(_t):null,c.pipeDefs=h?()=>("function"==typeof h?h():h).map(Kn).filter(_t):null,c})}function yt(i){return Ut(i)||Vn(i)}function _t(i){return null!==i}const or={};function Nt(i){return hi(()=>{const e={type:i.type,bootstrap:i.bootstrap||k,declarations:i.declarations||k,imports:i.imports||k,exports:i.exports||k,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(or[i.id]=i.type),e})}function Bn(i,e){if(null==i)return es;const t={};for(const o in i)if(i.hasOwnProperty(o)){let c=i[o],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),t[c]=o,e&&(e[c]=h)}return t}const Rt=ve;function Ut(i){return i[M]||null}function Vn(i){return i[L]||null}function Kn(i){return i[H]||null}function Rr(i,e){const t=i[K]||null;if(!t&&!0===e)throw new Error(`Type ${vt(i)} does not have '\u0275mod' property.`);return t}function Fr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Lo(i){return Array.isArray(i)&&!0===i[1]}function Vd(i){return 0!=(8&i.flags)}function Mh(i){return 2==(2&i.flags)}function Cs(i){return 1==(1&i.flags)}function co(i){return null!==i.template}function Ds(i){return 0!=(256&i[2])}function Ts(i,e){return i.hasOwnProperty(te)?i[te]:null}class Qa{constructor(e,t,o){this.previousValue=e,this.currentValue=t,this.firstChange=o}isFirstChange(){return this.firstChange}}function Xa(i){return i.type.prototype.ngOnChanges&&(i.setInput=wp),im}function im(){const i=Mi(this),e=i?.current;if(e){const t=i.previous;if(t===es)i.previous=e;else for(let o in e)t[o]=e[o];i.current=null,this.ngOnChanges(e)}}function wp(i,e,t,o){const c=Mi(i)||function Ep(i,e){return i[kh]=e}(i,{previous:es,current:null}),h=c.current||(c.current={}),p=c.previous,m=this.declaredInputs[t],_=p[m];h[m]=new Qa(_&&_.currentValue,e,p===es),i[o]=e}const kh="__ngSimpleChanges__";function Mi(i){return i[kh]||null}function zn(i){for(;Array.isArray(i);)i=i[0];return i}function Dp(i,e){return zn(e[i])}function ns(i,e){return zn(e[i.index])}function oe(i,e){return i.data[e]}function tr(i,e){const t=e[i];return Fr(t)?t:t[0]}function lo(i){return 4==(4&i[2])}function De(i){return 64==(64&i[2])}function Bo(i,e){return null==e?null:i[e]}function ol(i){i[18]=0}function Je(i,e){i[5]+=e;let t=i,o=i[3];for(;null!==o&&(1===e&&1===t[5]||-1===e&&0===t[5]);)o[5]+=e,t=o,o=o[3]}const Ce={lFrame:Ip(null),bindingsEnabled:!0};function ia(){return Ce.bindingsEnabled}function me(){return Ce.lFrame.lView}function Lt(){return Ce.lFrame.tView}function Gi(i){return Ce.lFrame.contextLView=i,i[8]}function Lr(i){return Ce.lFrame.contextLView=null,i}function ut(){let i=Sp();for(;null!==i&&64===i.type;)i=i.parent;return i}function Sp(){return Ce.lFrame.currentTNode}function hr(i,e){const t=Ce.lFrame;t.currentTNode=i,t.isParent=e}function Br(){return Ce.lFrame.isParent}function Tp(){Ce.lFrame.isParent=!1}function pi(){const i=Ce.lFrame;let e=i.bindingRootIndex;return-1===e&&(e=i.bindingRootIndex=i.tView.bindingStartIndex),e}function is(){return Ce.lFrame.bindingIndex++}function As(i,e){const t=Ce.lFrame;t.bindingIndex=t.bindingRootIndex=i,Ms(e)}function Ms(i){Ce.lFrame.currentDirectiveIndex=i}function al(i){const e=Ce.lFrame.currentDirectiveIndex;return-1===e?null:i[e]}function ul(){return Ce.lFrame.currentQueryIndex}function cl(i){Ce.lFrame.currentQueryIndex=i}function ll(i){const e=i[1];return 2===e.type?e.declTNode:1===e.type?i[6]:null}function hl(i,e,t){if(t&et.SkipSelf){let c=e,h=i;for(;!(c=c.parent,null!==c||t&et.Host||(c=ll(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;e=c,i=h}const o=Ce.lFrame=rc();return o.currentTNode=e,o.lView=i,!0}function nc(i){const e=rc(),t=i[1];Ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=i,e.tView=t,e.contextLView=i,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function rc(){const i=Ce.lFrame,e=null===i?null:i.child;return null===e?Ip(i):e}function Ip(i){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=e),e}function ic(){const i=Ce.lFrame;return Ce.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const oa=ic;function Vr(){const i=ic();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Ki(){return Ce.lFrame.selectedIndex}function sa(i){Ce.lFrame.selectedIndex=i}function qn(){const i=Ce.lFrame;return oe(i.tView,i.selectedIndex)}function dl(i,e){for(let t=e.directiveStart,o=e.directiveEnd;t<o;t++){const h=i.data[t].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:m,ngAfterViewInit:_,ngAfterViewChecked:E,ngOnDestroy:S}=h;p&&(i.contentHooks||(i.contentHooks=[])).push(-t,p),m&&((i.contentHooks||(i.contentHooks=[])).push(t,m),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(t,m)),_&&(i.viewHooks||(i.viewHooks=[])).push(-t,_),E&&((i.viewHooks||(i.viewHooks=[])).push(t,E),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(t,E)),null!=S&&(i.destroyHooks||(i.destroyHooks=[])).push(t,S)}}function Lh(i,e,t){kp(i,e,3,t)}function Wd(i,e,t,o){(3&i[2])===t&&kp(i,e,t,o)}function Mp(i,e){let t=i[2];(3&t)===e&&(t&=2047,t+=1,i[2]=t)}function kp(i,e,t,o){const h=o??-1,p=e.length-1;let m=0;for(let _=void 0!==o?65535&i[18]:0;_<p;_++)if("number"==typeof e[_+1]){if(m=e[_],null!=o&&m>=o)break}else e[_]<0&&(i[18]+=65536),(m<h||-1==h)&&(Bh(i,t,e,_),i[18]=(4294901760&i[18])+_+2),_++}function Bh(i,e,t,o){const c=t[o]<0,h=t[o+1],m=i[c?-t[o]:t[o]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===e){i[2]+=2048;try{h.call(m)}finally{}}}else try{h.call(m)}finally{}}class ss{constructor(e,t,o){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=o}}function sc(i,e,t){let o=0;for(;o<t.length;){const c=t[o];if("number"==typeof c){if(0!==c)break;o++;const h=t[o++],p=t[o++],m=t[o++];i.setAttribute(e,p,m,h)}else{const h=c,p=t[++o];ac(h)?i.setProperty(e,h,p):i.setAttribute(e,h,p),o++}}return o}function Vh(i){return 3===i||4===i||6===i}function ac(i){return 64===i.charCodeAt(0)}function aa(i,e){if(null!==e&&0!==e.length)if(null===i||0===i.length)i=e.slice();else{let t=-1;for(let o=0;o<e.length;o++){const c=e[o];"number"==typeof c?t=c:0===t||vi(i,t,c,null,-1===t||2===t?e[++o]:null)}}return i}function vi(i,e,t,o,c){let h=0,p=i.length;if(-1===e)p=-1;else for(;h<i.length;){const m=i[h++];if("number"==typeof m){if(m===e){p=-1;break}if(m>e){p=h-1;break}}}for(;h<i.length;){const m=i[h];if("number"==typeof m)break;if(m===t){if(null===o)return void(null!==c&&(i[h+1]=c));if(o===i[h+1])return void(i[h+2]=c)}h++,null!==o&&h++,null!==c&&h++}-1!==p&&(i.splice(p,0,e),h=p+1),i.splice(h++,0,t),null!==o&&i.splice(h++,0,o),null!==c&&i.splice(h++,0,c)}function Op(i){return-1!==i}function ks(i){return 32767&i}function as(i,e){let t=function am(i){return i>>16}(i),o=e;for(;t>0;)o=o[15],t--;return o}let Rs=!0;function pl(i){const e=Rs;return Rs=i,e}let Xd=0;const fo={};function ml(i,e){const t=yi(i,e);if(-1!==t)return t;const o=e[1];o.firstCreatePass&&(i.injectorIndex=e.length,vl(o.data,i),vl(e,null),vl(o.blueprint,null));const c=us(i,e),h=i.injectorIndex;if(Op(c)){const p=ks(c),m=as(c,e),_=m[1].data;for(let E=0;E<8;E++)e[h+E]=m[p+E]|_[p+E]}return e[h+8]=c,h}function vl(i,e){i.push(0,0,0,0,0,0,0,0,e)}function yi(i,e){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===e[i.injectorIndex+8]?-1:i.injectorIndex}function us(i,e){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let t=0,o=null,c=e;for(;null!==c;){if(o=br(c),null===o)return-1;if(t++,c=c[15],-1!==o.injectorIndex)return o.injectorIndex|t<<16}return-1}function yl(i,e,t){!function Pp(i,e,t){let o;"string"==typeof t?o=t.charCodeAt(0)||0:t.hasOwnProperty(ye)&&(o=t[ye]),null==o&&(o=t[ye]=Xd++);const c=255&o;e.data[i+(c>>5)]|=1<<c}(i,e,t)}function Zd(i,e,t){if(t&et.Optional)return i;Xo()}function tu(i,e,t,o){if(t&et.Optional&&void 0===o&&(o=null),0==(t&(et.Self|et.Host))){const c=i[9],h=uo(void 0);try{return c?c.get(e,o,t&et.Optional):Xc(e,o,t&et.Optional)}finally{uo(h)}}return Zd(o,0,t)}function _l(i,e,t,o=et.Default,c){if(null!==i){if(1024&e[2]){const p=function bl(i,e,t,o,c){let h=i,p=e;for(;null!==h&&null!==p&&1024&p[2]&&!(256&p[2]);){const m=uc(h,p,t,o|et.Self,fo);if(m!==fo)return m;let _=h.parent;if(!_){const E=p[21];if(E){const S=E.get(t,fo,o);if(S!==fo)return S}_=br(p),p=p[15]}h=_}return c}(i,e,t,o,fo);if(p!==fo)return p}const h=uc(i,e,t,o,fo);if(h!==fo)return h}return tu(e,t,o,c)}function uc(i,e,t,o,c){const h=function xs(i){if("string"==typeof i)return i.charCodeAt(0)||0;const e=i.hasOwnProperty(ye)?i[ye]:void 0;return"number"==typeof e?e>=0?255&e:Np:e}(t);if("function"==typeof h){if(!hl(e,i,o))return o&et.Host?Zd(c,0,o):tu(e,t,o,c);try{const p=h(o);if(null!=p||o&et.Optional)return p;Xo()}finally{oa()}}else if("number"==typeof h){let p=null,m=yi(i,e),_=-1,E=o&et.Host?e[16][6]:null;for((-1===m||o&et.SkipSelf)&&(_=-1===m?us(i,e):e[m+8],-1!==_&&um(o,!1)?(p=e[1],m=ks(_),e=as(_,e)):m=-1);-1!==m;){const S=e[1];if(cc(h,m,S.data)){const R=nu(m,e,t,p,o,E);if(R!==fo)return R}_=e[m+8],-1!==_&&um(o,e[1].data[m+8]===E)&&cc(h,m,e)?(p=S,m=ks(_),e=as(_,e)):m=-1}}return c}function nu(i,e,t,o,c,h){const p=e[1],m=p.data[i+8],S=ua(m,p,t,null==o?Mh(m)&&Rs:o!=p&&0!=(3&m.type),c&et.Host&&h===m);return null!==S?nr(e,p,S,m):fo}function ua(i,e,t,o,c){const h=i.providerIndexes,p=e.data,m=1048575&h,_=i.directiveStart,S=h>>20,F=c?m+S:i.directiveEnd;for(let B=o?m:m+S;B<F;B++){const q=p[B];if(B<_&&t===q||B>=_&&q.type===t)return B}if(c){const B=p[_];if(B&&co(B)&&B.type===t)return _}return null}function nr(i,e,t,o){let c=i[t];const h=e.data;if(function Kd(i){return i instanceof ss}(c)){const p=c;p.resolving&&function Ch(i,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${i}`:"";throw new Ee(-200,`Circular dependency in DI detected for ${i}${t}`)}(function dn(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():lt(i)}(h[t]));const m=pl(p.canSeeViewProviders);p.resolving=!0;const _=p.injectImpl?uo(p.injectImpl):null;hl(i,o,et.Default);try{c=i[t]=p.factory(void 0,h,i,o),e.firstCreatePass&&t>=o.directiveStart&&function Ap(i,e,t){const{ngOnChanges:o,ngOnInit:c,ngDoCheck:h}=e.type.prototype;if(o){const p=Xa(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(i,p),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i,p)}c&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-i,c),h&&((t.preOrderHooks||(t.preOrderHooks=[])).push(i,h),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i,h))}(t,h[t],e)}finally{null!==_&&uo(_),pl(m),p.resolving=!1,oa()}}return c}function cc(i,e,t){return!!(t[e+(i>>5)]&1<<i)}function um(i,e){return!(i&et.Self||i&et.Host&&e)}class xi{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,o){return _l(this._tNode,this._lView,e,o,t)}}function Np(){return new xi(ut(),me())}function Jd(i){return hi(()=>{const e=i.prototype.constructor,t=e[te]||Os(e),o=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==o;){const h=c[te]||Os(c);if(h&&h!==t)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Os(i){return Qo(i)?()=>{const e=Os(at(i));return e&&e()}:Ts(i)}function br(i){const e=i[1],t=e.type;return 2===t?e.declTNode:1===t?i[6]:null}function Co(i){return function eu(i,e){if("class"===e)return i.classes;if("style"===e)return i.styles;const t=i.attrs;if(t){const o=t.length;let c=0;for(;c<o;){const h=t[c];if(Vh(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<o&&"string"==typeof t[c];)c++;else{if(h===e)return t[c+1];c+=2}}}return null}(ut(),i)}const Do="__parameters__";function So(i,e,t){return hi(()=>{const o=function iu(i){return function(...t){if(i){const o=i(...t);for(const c in o)this[c]=o[c]}}}(e);function c(...h){if(this instanceof c)return o.apply(this,h),this;const p=new c(...h);return m.annotation=p,m;function m(_,E,S){const R=_.hasOwnProperty(Do)?_[Do]:Object.defineProperty(_,Do,{value:[]})[Do];for(;R.length<=S;)R.push(null);return(R[S]=R[S]||[]).push(p),_}}return t&&(c.prototype=Object.create(t.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class je{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Ne({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const $n=new je("AnalyzeForEntryComponents");function _i(i,e){void 0===e&&(e=i);for(let t=0;t<i.length;t++){let o=i[t];Array.isArray(o)?(e===i&&(e=i.slice(0,t)),_i(o,e)):e!==i&&e.push(o)}return e}function Yi(i,e){i.forEach(t=>Array.isArray(t)?Yi(t,e):e(t))}function ou(i,e,t){e>=i.length?i.push(t):i.splice(e,0,t)}function ha(i,e){return e>=i.length-1?i.pop():i.splice(e,1)[0]}function lc(i,e){const t=[];for(let o=0;o<i;o++)t.push(e);return t}function Qi(i,e,t){let o=da(i,e);return o>=0?i[1|o]=t:(o=~o,function Fp(i,e,t,o){let c=i.length;if(c==e)i.push(t,o);else if(1===c)i.push(o,i[0]),i[0]=t;else{for(c--,i.push(i[c-1],i[c]);c>e;)i[c]=i[c-2],c--;i[e]=t,i[e+1]=o}}(i,o,e,t)),o}function hc(i,e){const t=da(i,e);if(t>=0)return i[1|t]}function da(i,e){return function Or(i,e,t){let o=0,c=i.length>>t;for(;c!==o;){const h=o+(c-o>>1),p=i[h<<t];if(e===p)return h<<t;p>e?c=h:o=h+1}return~(c<<t)}(i,e,1)}const pa={},su="__NG_DI_FLAG__",El="ngTempTokenPath",Dl=/\n/gm,df="__source";let Tl;function Gh(i){const e=Tl;return Tl=i,e}function ny(i,e=et.Default){if(void 0===Tl)throw new Ee(-203,!1);return null===Tl?Xc(i,void 0,e):Tl.get(i,e&et.Optional?null:void 0,e)}function re(i,e=et.Default){return(function $a(){return qa}()||ny)(at(i),e)}function bi(i,e=et.Default){return re(i,e)}function ff(i){const e=[];for(let t=0;t<i.length;t++){const o=at(i[t]);if(Array.isArray(o)){if(0===o.length)throw new Ee(900,!1);let c,h=et.Default;for(let p=0;p<o.length;p++){const m=o[p],_=pf(m);"number"==typeof _?-1===_?c=m.token:h|=_:c=m}e.push(re(c,h))}else e.push(re(o))}return e}function Il(i,e){return i[su]=e,i.prototype[su]=e,i}function pf(i){return i[su]}const Vo=Il(So("Optional"),8),jo=Il(So("SkipSelf"),4);let ma,fc;function lu(i){return function kl(){if(void 0===fc&&(fc=null,Zt.trustedTypes))try{fc=Zt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return fc}()?.createHTML(i)||i}class hu{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class zr extends hu{getTypeName(){return"HTML"}}class du extends hu{getTypeName(){return"Style"}}class Rl extends hu{getTypeName(){return"Script"}}class Yh extends hu{getTypeName(){return"URL"}}class gm extends hu{getTypeName(){return"ResourceURL"}}function Pi(i){return i instanceof hu?i.changingThisBreaksApplicationSecurity:i}function Ns(i,e){const t=function mm(i){return i instanceof hu&&i.getTypeName()||null}(i);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}class Ho{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(lu(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class vm{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const o=this.inertDocument.createElement("body");t.appendChild(o)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=lu(e),t;const o=this.inertDocument.createElement("body");return o.innerHTML=lu(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(o),o}stripCustomNsAttrs(e){const t=e.attributes;for(let c=t.length-1;0<c;c--){const p=t.item(c).name;("xmlns:ns1"===p||0===p.indexOf("ns1:"))&&e.removeAttribute(p)}let o=e.firstChild;for(;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling}}const iy=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,fu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Fs(i){return(i=String(i)).match(iy)||i.match(fu)?i:"unsafe:"+i}function Io(i){const e={};for(const t of i.split(","))e[t]=!0;return e}function Xh(...i){const e={};for(const t of i)for(const o in t)t.hasOwnProperty(o)&&(e[o]=!0);return e}const gc=Io("area,br,col,hr,img,wbr"),Hp=Io("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),va=Io("rp,rt"),zp=Xh(gc,Xh(Hp,Io("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xh(va,Io("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xh(va,Hp)),qp=Io("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$p=Io("srcset"),Df=Xh(qp,$p,Io("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Io("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ay=Io("script,style,template");class uy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,o=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?o=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,o&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let c=this.checkClobberedElement(t,t.nextSibling);if(c){t=c;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!zp.hasOwnProperty(t))return this.sanitizedSomething=!0,!ay.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const o=e.attributes;for(let c=0;c<o.length;c++){const h=o.item(c),p=h.name,m=p.toLowerCase();if(!Df.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let _=h.value;qp[m]&&(_=Fs(_)),$p[m]&&(i=_,_=(i=String(i)).split(",").map(e=>Fs(e.trim())).join(", ")),this.buf.push(" ",p,'="',Zh(_),'"')}var i;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();zp.hasOwnProperty(t)&&!gc.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Zh(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const ym=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pu=/([^\#-~ |!])/g;function Zh(i){return i.replace(/&/g,"&amp;").replace(ym,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(pu,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Sf;function Wp(i,e){let t=null;try{Sf=Sf||function Qh(i){const e=new vm(i);return function Cf(){try{return!!(new window.DOMParser).parseFromString(lu(""),"text/html")}catch{return!1}}()?new Ho(e):e}(i);let o=e?String(e):"";t=Sf.getInertBodyElement(o);let c=5,h=o;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,o=h,h=t.innerHTML,t=Sf.getInertBodyElement(o)}while(o!==h);return lu((new uy).sanitizeChildren(Pl(t)||t))}finally{if(t){const o=Pl(t)||t;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function Pl(i){return"content"in i&&function cy(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var pn=(()=>((pn=pn||{})[pn.NONE=0]="NONE",pn[pn.HTML=1]="HTML",pn[pn.STYLE=2]="STYLE",pn[pn.SCRIPT=3]="SCRIPT",pn[pn.URL=4]="URL",pn[pn.RESOURCE_URL=5]="RESOURCE_URL",pn))();function Yt(i){const e=function Jh(){const i=me();return i&&i[12]}();return e?e.sanitize(pn.URL,i)||"":Ns(i,"URL")?Pi(i):Fs(lt(i))}function ya(i){return i.ngOriginalError}class Ni{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&ya(e);for(;t&&ya(t);)t=ya(t);return t||null}}const Er=new Map;let Cm=0;const Fl="__ngContext__";function ii(i,e){Fr(e)?(i[Fl]=e[20],function py(i){Er.set(i[20],i)}(e)):i[Fl]=e}function vc(i){const e=i[Fl];return"number"==typeof e?function eg(i){return Er.get(i)||null}(e):e||null}function yc(i){const e=vc(i);return e?Fr(e)?e:e.lView:null}const Mm=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Zt))();function zo(i){return i instanceof Function?i():i}var oi=(()=>((oi=oi||{})[oi.Important=1]="Important",oi[oi.DashCase=2]="DashCase",oi))();function Vl(i,e){return undefined(i,e)}function _u(i){const e=i[3];return Lo(e)?e[3]:e}function Ls(i){return Om(i[13])}function bu(i){return Om(i[4])}function Om(i){for(;null!==i&&!Lo(i);)i=i[4];return i}function ba(i,e,t,o,c){if(null!=o){let h,p=!1;Lo(o)?h=o:Fr(o)&&(p=!0,o=o[0]);const m=zn(o);0===i&&null!==t?null==c?Ec(e,t,m):Vs(e,t,m,c||null,!0):1===i&&null!==t?Vs(e,t,m,c||null,!0):2===i?function sg(i,e,t){const o=Cc(i,e);o&&function _y(i,e,t,o){i.removeChild(e,t,o)}(i,o,e,t)}(e,m,p):3===i&&e.destroyNode(m),null!=h&&function Vm(i,e,t,o,c){const h=t[7];h!==zn(t)&&ba(e,i,o,h,c);for(let m=10;m<t.length;m++){const _=t[m];Eu(_[1],_,i,e,o,h)}}(e,i,h,t,c)}}function Rf(i,e,t){return i.createElement(e,t)}function Bs(i,e){const t=i[9],o=t.indexOf(e),c=e[3];512&e[2]&&(e[2]&=-513,Je(c,-1)),t.splice(o,1)}function id(i,e){if(i.length<=10)return;const t=10+e,o=i[t];if(o){const c=o[17];null!==c&&c!==i&&Bs(c,o),e>0&&(i[t-1][4]=o[4]);const h=ha(i,10+e);!function vy(i,e){Eu(i,e,e[11],2,null,null),e[0]=null,e[6]=null}(o[1],o);const p=h[19];null!==p&&p.detachView(h[1]),o[3]=null,o[4]=null,o[2]&=-65}return o}function wu(i,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Eu(i,e,t,3,null,null),function Of(i){let e=i[13];if(!e)return zl(i[1],i);for(;e;){let t=null;if(Fr(e))t=e[13];else{const o=e[10];o&&(t=o)}if(!t){for(;e&&!e[4]&&e!==i;)Fr(e)&&zl(e[1],e),e=e[3];null===e&&(e=i),Fr(e)&&zl(e[1],e),t=e&&e[4]}e=t}}(e)}}function zl(i,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function od(i,e){let t;if(null!=i&&null!=(t=i.destroyHooks))for(let o=0;o<t.length;o+=2){const c=e[t[o]];if(!(c instanceof ss)){const h=t[o+1];if(Array.isArray(h))for(let p=0;p<h.length;p+=2){const m=c[h[p]],_=h[p+1];try{_.call(m)}finally{}}else try{h.call(c)}finally{}}}}(i,e),function Nf(i,e){const t=i.cleanup,o=e[7];let c=-1;if(null!==t)for(let h=0;h<t.length-1;h+=2)if("string"==typeof t[h]){const p=t[h+1],m="function"==typeof p?p(e):zn(e[p]),_=o[c=t[h+2]],E=t[h+3];"boolean"==typeof E?m.removeEventListener(t[h],_,E):E>=0?o[c=E]():o[c=-E].unsubscribe(),h+=2}else{const p=o[c=t[h+1]];t[h].call(p)}if(null!==o){for(let h=c+1;h<o.length;h++)o[h]();e[7]=null}}(i,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&Lo(e[3])){t!==e[3]&&Bs(t,e);const o=e[19];null!==o&&o.detachView(i)}!function Sm(i){Er.delete(i[20])}(e)}}function rg(i,e,t){return function Pm(i,e,t){let o=e;for(;null!==o&&40&o.type;)o=(e=o).parent;if(null===o)return t[0];if(2&o.flags){const c=i.data[o.directiveStart].encapsulation;if(c===Jr.None||c===Jr.Emulated)return null}return ns(o,t)}(i,e.parent,t)}function Vs(i,e,t,o,c){i.insertBefore(e,t,o,c)}function Ec(i,e,t){i.appendChild(e,t)}function Nm(i,e,t,o,c){null!==o?Vs(i,e,t,o,c):Ec(i,e,t)}function Cc(i,e){return i.parentNode(e)}function sd(i,e,t){return ig(i,e,t)}let ig=function Bm(i,e,t){return 40&i.type?ns(i,t):null};function Dc(i,e,t,o){const c=rg(i,o,e),h=e[11],m=sd(o.parent||e[6],o,e);if(null!=c)if(Array.isArray(t))for(let _=0;_<t.length;_++)Nm(h,c,t[_],m,!1);else Nm(h,c,t,m,!1)}function Ff(i,e){if(null!==e){const t=e.type;if(3&t)return ns(e,i);if(4&t)return Lf(-1,i[e.index]);if(8&t){const o=e.child;if(null!==o)return Ff(i,o);{const c=i[e.index];return Lo(c)?Lf(-1,c):zn(c)}}if(32&t)return Vl(e,i)()||zn(i[e.index]);{const o=ad(i,e);return null!==o?Array.isArray(o)?o[0]:Ff(_u(i[16]),o):Ff(i,e.next)}}return null}function ad(i,e){return null!==e?i[16][6].projection[e.projection]:null}function Lf(i,e){const t=10+i+1;if(t<e.length){const o=e[t],c=o[1].firstChild;if(null!==c)return Ff(o,c)}return e[7]}function $l(i,e,t,o,c,h,p){for(;null!=t;){const m=o[t.index],_=t.type;if(p&&0===e&&(m&&ii(zn(m),o),t.flags|=4),64!=(64&t.flags))if(8&_)$l(i,e,t.child,o,c,h,!1),ba(e,i,c,m,h);else if(32&_){const E=Vl(t,o);let S;for(;S=E();)ba(e,i,c,S,h);ba(e,i,c,m,h)}else 16&_?ug(i,e,o,t,c,h):ba(e,i,c,m,h);t=p?t.projectionNext:t.next}}function Eu(i,e,t,o,c,h){$l(t,o,i.firstChild,e,c,h,!1)}function ug(i,e,t,o,c,h){const p=t[16],_=p[6].projection[o.projection];if(Array.isArray(_))for(let E=0;E<_.length;E++)ba(e,i,c,_[E],h);else $l(i,e,_,p[3],c,h,!0)}function Bf(i,e,t){i.setAttribute(e,"style",t)}function Vf(i,e,t){""===t?i.removeAttribute(e,"class"):i.setAttribute(e,"class",t)}function cg(i,e,t){let o=i.length;for(;;){const c=i.indexOf(e,t);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const h=e.length;if(c+h===o||i.charCodeAt(c+h)<=32)return c}t=c+1}}const ud="ng-template";function Cu(i,e,t){let o=0;for(;o<i.length;){let c=i[o++];if(t&&"class"===c){if(c=i[o],-1!==cg(c.toLowerCase(),e,0))return!0}else if(1===c){for(;o<i.length&&"string"==typeof(c=i[o++]);)if(c.toLowerCase()===e)return!0;return!1}}return!1}function Gl(i){return 4===i.type&&i.value!==ud}function Uf(i,e,t){return e===(4!==i.type||t?i.value:ud)}function Hf(i,e,t){let o=4;const c=i.attrs||[],h=function by(i){for(let e=0;e<i.length;e++)if(Vh(i[e]))return e;return i.length}(c);let p=!1;for(let m=0;m<e.length;m++){const _=e[m];if("number"!=typeof _){if(!p)if(4&o){if(o=2|1&o,""!==_&&!Uf(i,_,t)||""===_&&1===e.length){if(Mo(o))return!1;p=!0}}else{const E=8&o?_:e[++m];if(8&o&&null!==i.attrs){if(!Cu(i.attrs,E,t)){if(Mo(o))return!1;p=!0}continue}const R=wa(8&o?"class":_,c,Gl(i),t);if(-1===R){if(Mo(o))return!1;p=!0;continue}if(""!==E){let F;F=R>h?"":c[R+1].toLowerCase();const B=8&o?F:null;if(B&&-1!==cg(B,E,0)||2&o&&E!==F){if(Mo(o))return!1;p=!0}}}}else{if(!p&&!Mo(o)&&!Mo(_))return!1;if(p&&Mo(_))continue;p=!1,o=_|1&o}}return Mo(o)||p}function Mo(i){return 0==(1&i)}function wa(i,e,t,o){if(null===e)return-1;let c=0;if(o||!t){let h=!1;for(;c<e.length;){const p=e[c];if(p===i)return c;if(3===p||6===p)h=!0;else{if(1===p||2===p){let m=e[++c];for(;"string"==typeof m;)m=e[++c];continue}if(4===p)break;if(0===p){c+=4;continue}}c+=h?1:2}return-1}return function Um(i,e){let t=i.indexOf(4);if(t>-1)for(t++;t<i.length;){const o=i[t];if("number"==typeof o)return-1;if(o===e)return t;t++}return-1}(e,i)}function lg(i,e,t=!1){for(let o=0;o<e.length;o++)if(Hf(i,e[o],t))return!0;return!1}function wy(i,e){e:for(let t=0;t<e.length;t++){const o=e[t];if(i.length===o.length){for(let c=0;c<i.length;c++)if(i[c]!==o[c])continue e;return!0}}return!1}function hg(i,e){return i?":not("+e.trim()+")":e}function zf(i){let e=i[0],t=1,o=2,c="",h=!1;for(;t<i.length;){let p=i[t];if("string"==typeof p)if(2&o){const m=i[++t];c+="["+p+(m.length>0?'="'+m+'"':"")+"]"}else 8&o?c+="."+p:4&o&&(c+=" "+p);else""!==c&&!Mo(p)&&(e+=hg(h,c),c=""),o=p,h=h||!Mo(o);t++}return""!==c&&(e+=hg(h,c)),e}const kt={};function Xn(i){cd(Lt(),me(),Ki()+i,!1)}function cd(i,e,t,o){if(!o)if(3==(3&e[2])){const h=i.preOrderCheckHooks;null!==h&&Lh(e,h,t)}else{const h=i.preOrderHooks;null!==h&&Wd(e,h,0,t)}sa(t)}const gg=new je("ENVIRONMENT_INITIALIZER"),ld=new je("INJECTOR_DEF_TYPES");function mg(...i){return{\u0275providers:vg(0,i)}}function vg(i,...e){const t=[],o=new Set;let c;return Yi(e,h=>{const p=h;Tc(p,t,[],o)&&(c||(c=[]),c.push(p))}),void 0!==c&&hd(c,t),t}function hd(i,e){for(let t=0;t<i.length;t++){const{providers:c}=i[t];Yi(c,h=>{e.push(h)})}}function Tc(i,e,t,o){if(!(i=at(i)))return!1;let c=null,h=Qs(i);const p=!h&&Ut(i);if(h||p){if(p&&!p.standalone)return!1;c=i}else{const _=i.ngModule;if(h=Qs(_),!h)return!1;c=_}const m=o.has(c);if(p){if(m)return!1;if(o.add(c),p.dependencies){const _="function"==typeof p.dependencies?p.dependencies():p.dependencies;for(const E of _)Tc(E,e,t,o)}}else{if(!h)return!1;{if(null!=h.imports&&!m){let E;o.add(c);try{Yi(h.imports,S=>{Tc(S,e,t,o)&&(E||(E=[]),E.push(S))})}finally{}void 0!==E&&hd(E,e)}if(!m){const E=Ts(c)||(()=>new c);e.push({provide:c,useFactory:E,deps:k},{provide:ld,useValue:c,multi:!0},{provide:gg,useValue:()=>re(c),multi:!0})}const _=h.providers;null==_||m||Yi(_,S=>{e.push(S)})}}return c!==i&&void 0!==i.providers}const yg=Mn({provide:String,useValue:Mn});function dd(i){return null!==i&&"object"==typeof i&&yg in i}function qo(i){return"function"==typeof i}const Li=new je("INJECTOR",-1);class Gf{get(e,t=pa){if(t===pa){const o=new Error(`NullInjectorError: No provider for ${vt(e)}!`);throw o.name="NullInjectorError",o}return t}}const Du=new je("Set Injector scope."),Ac={},Yl={};let Ql;function fd(){return void 0===Ql&&(Ql=new Gf),Ql}class Mc{}class bg extends Mc{constructor(e,t,o,c){super(),this.parent=t,this.source=o,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xl(e,p=>this.processProvider(p)),this.records.set(Li,hs(void 0,this)),c.has("environment")&&this.records.set(Mc,hs(void 0,this));const h=this.records.get(Du);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(ld.multi,k,et.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}get(e,t=pa,o=et.Default){this.assertNotDestroyed();const c=Gh(this),h=uo(void 0);try{if(!(o&et.SkipSelf)){let m=this.records.get(e);if(void 0===m){const _=function vn(i){return"function"==typeof i||"object"==typeof i&&i instanceof je}(e)&&Qu(e);m=_&&this.injectableDefInScope(_)?hs(pd(e),Ac):null,this.records.set(e,m)}if(null!=m)return this.hydrate(e,m)}return(o&et.Self?fd():this.parent).get(e,t=o&et.Optional&&t===pa?null:t)}catch(p){if("NullInjectorError"===p.name){if((p[El]=p[El]||[]).unshift(vt(e)),c)throw p;return function Lp(i,e,t,o){const c=i[El];throw e[df]&&c.unshift(e[df]),i.message=function Xi(i,e,t,o=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let c=vt(e);if(Array.isArray(e))c=e.map(vt).join(" -> ");else if("object"==typeof e){let h=[];for(let p in e)if(e.hasOwnProperty(p)){let m=e[p];h.push(p+":"+("string"==typeof m?JSON.stringify(m):vt(m)))}c=`{${h.join(", ")}}`}return`${t}${o?"("+o+")":""}[${c}]: ${i.replace(Dl,"\n  ")}`}("\n"+i.message,c,t,o),i.ngTokenPath=c,i[El]=null,i}(p,e,"R3InjectorError",this.source)}throw p}finally{uo(h),Gh(c)}}resolveInjectorInitializers(){const e=Gh(this),t=uo(void 0);try{const o=this.get(gg.multi,k,et.Self);for(const c of o)c()}finally{Gh(e),uo(t)}}toString(){const e=[],t=this.records;for(const o of t.keys())e.push(vt(o));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ee(205,!1)}processProvider(e){let t=qo(e=at(e))?e:at(e&&e.provide);const o=function wg(i){return dd(i)?hs(void 0,i.useValue):hs(Ca(i),Ac)}(e);if(qo(e)||!0!==e.multi)this.records.get(t);else{let c=this.records.get(t);c||(c=hs(void 0,Ac,!0),c.factory=()=>ff(c.multi),this.records.set(t,c)),t=e,c.multi.push(e)}this.records.set(t,o)}hydrate(e,t){return t.value===Ac&&(t.value=Yl,t.value=t.factory()),"object"==typeof t.value&&t.value&&function md(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=at(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function pd(i){const e=Qu(i),t=null!==e?e.factory:Ts(i);if(null!==t)return t;if(i instanceof je)throw new Ee(204,!1);if(i instanceof Function)return function gd(i){const e=i.length;if(e>0)throw lc(e,"?"),new Ee(204,!1);const t=function Th(i){const e=i&&(i[ws]||i[Ih]);if(e){const t=function za(i){if(i.hasOwnProperty("name"))return i.name;const e=(""+i).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(i);return null!==t?()=>t.factory(i):()=>new i}(i);throw new Ee(204,!1)}function Ca(i,e,t){let o;if(qo(i)){const c=at(i);return Ts(c)||pd(c)}if(dd(i))o=()=>at(i.useValue);else if(function Ic(i){return!(!i||!i.useFactory)}(i))o=()=>i.useFactory(...ff(i.deps||[]));else if(function _g(i){return!(!i||!i.useExisting)}(i))o=()=>re(at(i.useExisting));else{const c=at(i&&(i.useClass||i.provide));if(!function Eg(i){return!!i.deps}(i))return Ts(c)||pd(c);o=()=>new c(...ff(i.deps))}return o}function hs(i,e,t=!1){return{factory:i,value:e,multi:t?[]:void 0}}function Wf(i){return!!i.\u0275providers}function Xl(i,e){for(const t of i)Array.isArray(t)?Xl(t,e):Wf(t)?Xl(t.\u0275providers,e):e(t)}function kc(i,e=null,t=null,o){const c=An(i,e,t,o);return c.resolveInjectorInitializers(),c}function An(i,e=null,t=null,o,c=new Set){const h=[t||k,mg(i)];return o=o||("object"==typeof i?void 0:vt(i)),new bg(h,e||fd(),o||null,c)}let Jt=(()=>{class i{static create(t,o){if(Array.isArray(t))return kc({name:""},o,t,"");{const c=t.name??"";return kc({name:c},t.parent,t.providers,c)}}}return i.THROW_IF_NOT_FOUND=pa,i.NULL=new Gf,i.\u0275prov=Ne({token:i,providedIn:"any",factory:()=>re(Li)}),i.__NG_ELEMENT_ID__=-1,i})();function ie(i,e=et.Default){const t=me();return null===t?re(i,e):_l(ut(),t,at(i),e)}function Oc(){throw new Error("invalid")}function Zi(i,e){return i<<17|e<<2}function Bi(i){return i>>17&32767}function Au(i){return 2|i}function qr(i){return(131068&i)>>2}function wd(i,e){return-131069&i|e<<2}function nh(i){return 1|i}function U(i,e){const t=i.contentQueries;if(null!==t)for(let o=0;o<t.length;o+=2){const c=t[o],h=t[o+1];if(-1!==h){const p=i.data[h];cl(c),p.contentQueries(2,e[h],h)}}}function s(i,e,t,o,c,h,p,m,_,E,S){const R=e.blueprint.slice();return R[0]=c,R[2]=76|o,(null!==S||i&&1024&i[2])&&(R[2]|=1024),ol(R),R[3]=R[15]=i,R[8]=t,R[10]=p||i&&i[10],R[11]=m||i&&i[11],R[12]=_||i&&i[12]||null,R[9]=E||i&&i[9]||null,R[6]=h,R[20]=function Dm(){return Cm++}(),R[21]=S,R[16]=2==e.type?i[16]:R,R}function l(i,e,t,o,c){let h=i.data[e];if(null===h)h=function d(i,e,t,o,c){const h=Sp(),p=Br(),_=i.data[e]=function ht(i,e,t,o,c,h){return{type:t,index:o,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?h:h&&h.parent,t,e,o,c);return null===i.firstChild&&(i.firstChild=_),null!==h&&(p?null==h.child&&null!==_.parent&&(h.child=_):null===h.next&&(h.next=_)),_}(i,e,t,o,c),function ze(){return Ce.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=t,h.value=o,h.attrs=c;const p=function Ri(){const i=Ce.lFrame,e=i.currentTNode;return i.isParent?e:e.parent}();h.injectorIndex=null===p?-1:p.injectorIndex}return hr(h,!0),h}function g(i,e,t,o){if(0===t)return-1;const c=e.length;for(let h=0;h<t;h++)e.push(o),i.blueprint.push(o),i.data.push(null);return c}function y(i,e,t){nc(e);try{const o=i.viewQuery;null!==o&&Vw(1,o,t);const c=i.template;null!==c&&I(i,e,c,1,t),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&U(i,e),i.staticViewQueries&&Vw(2,i.viewQuery,t);const h=i.components;null!==h&&function a(i,e){for(let t=0;t<e.length;t++)sR(i,e[t])}(e,h)}catch(o){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),o}finally{e[2]&=-5,Vr()}}function b(i,e,t,o){const c=e[2];if(128!=(128&c)){nc(e);try{ol(e),function Is(i){return Ce.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==t&&I(i,e,t,2,o);const p=3==(3&c);if(p){const E=i.preOrderCheckHooks;null!==E&&Lh(e,E,null)}else{const E=i.preOrderHooks;null!==E&&Wd(e,E,0,null),Mp(e,0)}if(function iR(i){for(let e=Ls(i);null!==e;e=bu(e)){if(!e[2])continue;const t=e[9];for(let o=0;o<t.length;o++){const c=t[o],h=c[3];0==(512&c[2])&&Je(h,1),c[2]|=512}}}(e),function rR(i){for(let e=Ls(i);null!==e;e=bu(e))for(let t=10;t<e.length;t++){const o=e[t],c=o[1];De(o)&&b(c,o,c.template,o[8])}}(e),null!==i.contentQueries&&U(i,e),p){const E=i.contentCheckHooks;null!==E&&Lh(e,E)}else{const E=i.contentHooks;null!==E&&Wd(e,E,1),Mp(e,1)}!function P(i,e){const t=i.hostBindingOpCodes;if(null!==t)try{for(let o=0;o<t.length;o++){const c=t[o];if(c<0)sa(~c);else{const h=c,p=t[++o],m=t[++o];As(p,h),m(2,e[h])}}}finally{sa(-1)}}(i,e);const m=i.components;null!==m&&function ue(i,e){for(let t=0;t<e.length;t++)oR(i,e[t])}(e,m);const _=i.viewQuery;if(null!==_&&Vw(2,_,o),p){const E=i.viewCheckHooks;null!==E&&Lh(e,E)}else{const E=i.viewHooks;null!==E&&Wd(e,E,2),Mp(e,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Je(e[3],-1))}finally{Vr()}}}function C(i,e,t,o){const c=e[10],p=lo(e);try{!p&&c.begin&&c.begin(),p&&y(i,e,o),b(i,e,t,o)}finally{!p&&c.end&&c.end()}}function I(i,e,t,o,c){const h=Ki(),p=2&o;try{sa(-1),p&&e.length>22&&cd(i,e,22,!1),t(o,c)}finally{sa(h)}}function N(i,e,t){!ia()||(function Yk(i,e,t,o){const c=t.directiveStart,h=t.directiveEnd;i.firstCreatePass||ml(t,e),ii(o,e);const p=t.initialInputs;for(let m=c;m<h;m++){const _=i.data[m],E=co(_);E&&eR(e,t,_);const S=nr(e,i,m,t);ii(S,e),null!==p&&tR(0,m-c,S,_,0,p),E&&(tr(t.index,e)[8]=S)}}(i,e,t,ns(t,e)),128==(128&t.flags)&&function Qk(i,e,t){const o=t.directiveStart,c=t.directiveEnd,h=t.index,p=function Nh(){return Ce.lFrame.currentDirectiveIndex}();try{sa(h);for(let m=o;m<c;m++){const _=i.data[m],E=e[m];Ms(m),(null!==_.hostBindings||0!==_.hostVars||null!==_.hostAttrs)&&HC(_,E)}}finally{sa(-1),Ms(p)}}(i,e,t))}function j(i,e,t=ns){const o=e.localNames;if(null!==o){let c=e.index+1;for(let h=0;h<o.length;h+=2){const p=o[h+1],m=-1===p?t(e,i):i[p];i[c++]=m}}}function z(i){const e=i.tView;return null===e||e.incompleteFirstPass?i.tView=J(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):e}function J(i,e,t,o,c,h,p,m,_,E){const S=22+o,R=S+c,F=function ee(i,e){const t=[];for(let o=0;o<e;o++)t.push(o<i?null:kt);return t}(S,R),B="function"==typeof E?E():E;return F[1]={type:i,blueprint:F,template:t,queries:null,viewQuery:m,declTNode:e,data:F.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:_,consts:B,incompleteFirstPass:!1}}function Oe(i,e,t,o){const c=KC(e);null===t?c.push(o):(c.push(t),i.firstCreatePass&&YC(i).push(o,c.length-1))}function ft(i,e,t){for(let o in i)if(i.hasOwnProperty(o)){const c=i[o];(t=null===t?{}:t).hasOwnProperty(o)?t[o].push(e,c):t[o]=[e,c]}return t}function Qt(i,e,t,o,c,h,p,m){const _=ns(e,t);let S,E=e.inputs;!m&&null!=E&&(S=E[o])?(ZC(i,t,S,o,c),Mh(e)&&function eo(i,e){const t=tr(e,i);16&t[2]||(t[2]|=32)}(t,e.index)):3&e.type&&(o=function Dn(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(o),c=null!=p?p(c,e.value||"",o):c,h.setProperty(_,o,c))}function ev(i,e,t,o){let c=!1;if(ia()){const h=function Xk(i,e,t){const o=i.directiveRegistry;let c=null;if(o)for(let h=0;h<o.length;h++){const p=o[h];lg(t,p.selectors,!1)&&(c||(c=[]),yl(ml(t,e),i,p.type),co(p)?(zC(i,t),c.unshift(p)):c.push(p))}return c}(i,e,t),p=null===o?null:{"":-1};if(null!==h){c=!0,qC(t,i.data.length,h.length);for(let S=0;S<h.length;S++){const R=h[S];R.providersResolver&&R.providersResolver(R)}let m=!1,_=!1,E=g(i,e,h.length,null);for(let S=0;S<h.length;S++){const R=h[S];t.mergedAttrs=aa(t.mergedAttrs,R.hostAttrs),$C(i,t,e,E,R),Jk(E,R,p),null!==R.contentQueries&&(t.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(t.flags|=128);const F=R.type.prototype;!m&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t.index),m=!0),!_&&(F.ngOnChanges||F.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t.index),_=!0),E++}!function hn(i,e){const o=e.directiveEnd,c=i.data,h=e.attrs,p=[];let m=null,_=null;for(let E=e.directiveStart;E<o;E++){const S=c[E],R=S.inputs,F=null===h||Gl(e)?null:nR(R,h);p.push(F),m=ft(R,E,m),_=ft(S.outputs,E,_)}null!==m&&(m.hasOwnProperty("class")&&(e.flags|=16),m.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=p,e.inputs=m,e.outputs=_}(i,t)}p&&function Zk(i,e,t){if(e){const o=i.localNames=[];for(let c=0;c<e.length;c+=2){const h=t[e[c+1]];if(null==h)throw new Ee(-301,!1);o.push(e[c],h)}}}(t,o,p)}return t.mergedAttrs=aa(t.mergedAttrs,t.attrs),c}function UC(i,e,t,o,c,h){const p=h.hostBindings;if(p){let m=i.hostBindingOpCodes;null===m&&(m=i.hostBindingOpCodes=[]);const _=~e.index;(function Kk(i){let e=i.length;for(;e>0;){const t=i[--e];if("number"==typeof t&&t<0)return t}return 0})(m)!=_&&m.push(_),m.push(o,c,p)}}function HC(i,e){null!==i.hostBindings&&i.hostBindings(1,e)}function zC(i,e){e.flags|=2,(i.components||(i.components=[])).push(e.index)}function Jk(i,e,t){if(t){if(e.exportAs)for(let o=0;o<e.exportAs.length;o++)t[e.exportAs[o]]=i;co(e)&&(t[""]=i)}}function qC(i,e,t){i.flags|=1,i.directiveStart=e,i.directiveEnd=e+t,i.providerIndexes=e}function $C(i,e,t,o,c){i.data[o]=c;const h=c.factory||(c.factory=Ts(c.type)),p=new ss(h,co(c),ie);i.blueprint[o]=p,t[o]=p,UC(i,e,0,o,g(i,t,c.hostVars,kt),c)}function eR(i,e,t){const o=ns(e,i),c=z(t),h=i[10],p=U_(i,s(i,c,null,t.onPush?32:16,o,e,h,h.createRenderer(o,t),null,null,null));i[e.index]=p}function uh(i,e,t,o,c,h){const p=ns(i,e);!function Pw(i,e,t,o,c,h,p){if(null==h)i.removeAttribute(e,c,t);else{const m=null==p?lt(h):p(h,o||"",c);i.setAttribute(e,c,m,t)}}(e[11],p,h,i.value,t,o,c)}function tR(i,e,t,o,c,h){const p=h[e];if(null!==p){const m=o.setInput;for(let _=0;_<p.length;){const E=p[_++],S=p[_++],R=p[_++];null!==m?o.setInput(t,R,E,S):t[S]=R}}}function nR(i,e){let t=null,o=0;for(;o<e.length;){const c=e[o];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===t&&(t=[]),t.push(c,i[c],e[o+1])),o+=2}else o+=2;else o+=4}return t}function GC(i,e,t,o){return new Array(i,!0,!1,e,null,0,o,t,null,null)}function oR(i,e){const t=tr(e,i);if(De(t)){const o=t[1];48&t[2]?b(o,t,o.template,t[8]):t[5]>0&&Nw(t)}}function Nw(i){for(let o=Ls(i);null!==o;o=bu(o))for(let c=10;c<o.length;c++){const h=o[c];if(512&h[2]){const p=h[1];b(p,h,p.template,h[8])}else h[5]>0&&Nw(h)}const t=i[1].components;if(null!==t)for(let o=0;o<t.length;o++){const c=tr(t[o],i);De(c)&&c[5]>0&&Nw(c)}}function sR(i,e){const t=tr(e,i),o=t[1];(function aR(i,e){for(let t=e.length;t<i.blueprint.length;t++)e.push(i.blueprint[t])})(o,t),y(o,t,t[8])}function U_(i,e){return i[13]?i[14][4]=e:i[13]=e,i[14]=e,e}function Fw(i){for(;i;){i[2]|=32;const e=_u(i);if(Ds(i)&&!e)return i;i=e}return null}function WC(i){!function Lw(i){for(let e=0;e<i.components.length;e++){const t=i.components[e],o=yc(t);if(null!==o){const c=o[1];C(c,o,c.template,t)}}}(i[8])}function Vw(i,e,t){cl(0),e(i,t)}const cR=(()=>Promise.resolve(null))();function KC(i){return i[7]||(i[7]=[])}function YC(i){return i.cleanup||(i.cleanup=[])}function QC(i,e,t){return(null===i||co(i))&&(t=function il(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(t[e.index])),t[11]}function XC(i,e){const t=i[9],o=t?t.get(Ni,null):null;o&&o.handleError(e)}function ZC(i,e,t,o,c){for(let h=0;h<t.length;){const p=t[h++],m=t[h++],_=e[p],E=i.data[p];null!==E.setInput?E.setInput(_,c,o,m):_[m]=c}}function H_(i,e,t){let o=t?i.styles:null,c=t?i.classes:null,h=0;if(null!==e)for(let p=0;p<e.length;p++){const m=e[p];"number"==typeof m?h=m:1==h?c=Yo(c,m):2==h&&(o=Yo(o,m+": "+e[++p]+";"))}t?i.styles=o:i.stylesWithoutHost=o,t?i.classes=c:i.classesWithoutHost=c}function fR(){const i=ut();dl(me()[1],i)}function Ia(i){let e=function JC(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),t=!0;const o=[i];for(;e;){let c;if(co(i))c=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ee(903,!1);c=e.\u0275dir}if(c){if(t){o.push(c);const p=i;p.inputs=jw(i.inputs),p.declaredInputs=jw(i.declaredInputs),p.outputs=jw(i.outputs);const m=c.hostBindings;m&&vR(i,m);const _=c.viewQuery,E=c.contentQueries;if(_&&gR(i,_),E&&mR(i,E),ao(i.inputs,c.inputs),ao(i.declaredInputs,c.declaredInputs),ao(i.outputs,c.outputs),co(c)&&c.data.animation){const S=i.data;S.animation=(S.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let p=0;p<h.length;p++){const m=h[p];m&&m.ngInherit&&m(i),m===Ia&&(t=!1)}}e=Object.getPrototypeOf(e)}!function pR(i){let e=0,t=null;for(let o=i.length-1;o>=0;o--){const c=i[o];c.hostVars=e+=c.hostVars,c.hostAttrs=aa(c.hostAttrs,t=aa(t,c.hostAttrs))}}(o)}function jw(i){return i===es?{}:i===k?[]:i}function gR(i,e){const t=i.viewQuery;i.viewQuery=t?(o,c)=>{e(o,c),t(o,c)}:e}function mR(i,e){const t=i.contentQueries;i.contentQueries=t?(o,c,h)=>{e(o,c,h),t(o,c,h)}:e}function vR(i,e){const t=i.hostBindings;i.hostBindings=t?(o,c)=>{e(o,c),t(o,c)}:e}let z_=null;function Og(){if(!z_){const i=Zt.Symbol;if(i&&i.iterator)z_=i.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const o=e[t];"entries"!==o&&"size"!==o&&Map.prototype[o]===Map.prototype.entries&&(z_=o)}}}return z_}function xy(i){return!!Uw(i)&&(Array.isArray(i)||!(i instanceof Map)&&Og()in i)}function Uw(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ch(i,e,t){return i[e]=t}function $o(i,e,t){return!Object.is(i[e],t)&&(i[e]=t,!0)}function Vc(i,e,t,o){const c=me();return $o(c,is(),e)&&(Lt(),uh(qn(),c,i,e,t,o)),Vc}function nv(i,e,t,o){return $o(i,is(),t)?e+lt(t)+o:kt}function mo(i,e,t,o,c,h,p,m){const _=me(),E=Lt(),S=i+22,R=E.firstCreatePass?function TR(i,e,t,o,c,h,p,m,_){const E=e.consts,S=l(e,i,4,p||null,Bo(E,m));ev(e,t,S,Bo(E,_)),dl(e,S);const R=S.tViews=J(2,S,o,c,h,e.directiveRegistry,e.pipeRegistry,null,e.schemas,E);return null!==e.queries&&(e.queries.template(e,S),R.queries=e.queries.embeddedTView(S)),S}(S,E,_,e,t,o,c,h,p):E.data[S];hr(R,!1);const F=_[11].createComment("");Dc(E,_,F,R),ii(F,_),U_(_,_[S]=GC(F,_,F,R)),Cs(R)&&N(E,_,R),null!=p&&j(_,R,m)}function qs(i){return function be(i,e){return i[e]}(function _r(){return Ce.lFrame.contextLView}(),22+i)}function si(i,e,t){const o=me();return $o(o,is(),e)&&Qt(Lt(),qn(),o,i,e,o[11],t,!1),si}function Hw(i,e,t,o,c){const p=c?"class":"style";ZC(i,t,e.inputs[p],p,o)}function Be(i,e,t,o){const c=me(),h=Lt(),p=22+i,m=c[11],_=c[p]=Rf(m,e,function Xv(){return Ce.lFrame.currentNamespace}()),E=h.firstCreatePass?function AR(i,e,t,o,c,h,p){const m=e.consts,E=l(e,i,2,c,Bo(m,h));return ev(e,t,E,Bo(m,p)),null!==E.attrs&&H_(E,E.attrs,!1),null!==E.mergedAttrs&&H_(E,E.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,E),E}(p,h,c,0,e,t,o):h.data[p];hr(E,!0);const S=E.mergedAttrs;null!==S&&sc(m,_,S);const R=E.classes;null!==R&&Vf(m,_,R);const F=E.styles;return null!==F&&Bf(m,_,F),64!=(64&E.flags)&&Dc(h,c,_,E),0===function ni(){return Ce.lFrame.elementDepthCount}()&&ii(_,c),function tt(){Ce.lFrame.elementDepthCount++}(),Cs(E)&&(N(h,c,E),function O(i,e,t){if(Vd(e)){const c=e.directiveEnd;for(let h=e.directiveStart;h<c;h++){const p=i.data[h];p.contentQueries&&p.contentQueries(1,t[h],h)}}}(h,E,c)),null!==o&&j(c,E),Be}function qe(){let i=ut();Br()?Tp():(i=i.parent,hr(i,!1));const e=i;!function Ja(){Ce.lFrame.elementDepthCount--}();const t=Lt();return t.firstCreatePass&&(dl(t,i),Vd(i)&&t.queries.elementEnd(i)),null!=e.classesWithoutHost&&function xp(i){return 0!=(16&i.flags)}(e)&&Hw(t,e,me(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function fl(i){return 0!=(32&i.flags)}(e)&&Hw(t,e,me(),e.stylesWithoutHost,!1),qe}function Vi(i,e,t,o){return Be(i,e,t,o),qe(),Vi}function Ou(){return me()}function $_(i){return!!i&&"function"==typeof i.then}const hD=function lD(i){return!!i&&"function"==typeof i.subscribe};function $r(i,e,t,o){const c=me(),h=Lt(),p=ut();return dD(h,c,c[11],p,i,e,0,o),$r}function Py(i,e){const t=ut(),o=me(),c=Lt();return dD(c,o,QC(al(c.data),t,o),t,i,e),Py}function dD(i,e,t,o,c,h,p,m){const _=Cs(o),S=i.firstCreatePass&&YC(i),R=e[8],F=KC(e);let B=!0;if(3&o.type||m){const ce=ns(o,e),fe=m?m(ce):ce,xe=F.length,he=m?Ht=>m(zn(Ht[o.index])):o.index;let Ve=null;if(!m&&_&&(Ve=function kR(i,e,t,o){const c=i.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const p=c[h];if(p===t&&c[h+1]===o){const m=e[7],_=c[h+2];return m.length>_?m[_]:null}"string"==typeof p&&(h+=2)}return null}(i,e,c,o.index)),null!==Ve)(Ve.__ngLastListenerFn__||Ve).__ngNextListenerFn__=h,Ve.__ngLastListenerFn__=h,B=!1;else{h=pD(o,e,R,h,!1);const Ht=t.listen(fe,c,h);F.push(h,Ht),S&&S.push(c,he,xe,xe+1)}}else h=pD(o,e,R,h,!1);const q=o.outputs;let Y;if(B&&null!==q&&(Y=q[c])){const ce=Y.length;if(ce)for(let fe=0;fe<ce;fe+=2){const Tn=e[Y[fe]][Y[fe+1]].subscribe(h),Kr=F.length;F.push(h,Tn),S&&S.push(c,o.index,Kr,-(Kr+1))}}}function fD(i,e,t,o){try{return!1!==t(o)}catch(c){return XC(i,c),!1}}function pD(i,e,t,o,c){return function h(p){if(p===Function)return o;Fw(2&i.flags?tr(i.index,e):e);let _=fD(e,0,o,p),E=h.__ngNextListenerFn__;for(;E;)_=fD(e,0,E,p)&&_,E=E.__ngNextListenerFn__;return c&&!1===_&&(p.preventDefault(),p.returnValue=!1),_}}function $s(i=1){return function sm(i){return(Ce.lFrame.contextLView=function mi(i,e){for(;i>0;)e=e[15],i--;return e}(i,Ce.lFrame.contextLView))[8]}(i)}function RR(i,e){let t=null;const o=function Sc(i){const e=i.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(i);for(let c=0;c<e.length;c++){const h=e[c];if("*"!==h){if(null===o?lg(i,h,!0):wy(o,h))return c}else t=c}return t}function jc(i){const e=me()[16][6];if(!e.projection){const o=e.projection=lc(i?i.length:1,null),c=o.slice();let h=e.child;for(;null!==h;){const p=i?RR(h,i):0;null!==p&&(c[p]?c[p].projectionNext=h:o[p]=h,c[p]=h),h=h.next}}}function vo(i,e=0,t){const o=me(),c=Lt(),h=l(c,22+i,16,null,t||null);null===h.projection&&(h.projection=e),Tp(),64!=(64&h.flags)&&function ag(i,e,t){ug(e[11],0,e,t,rg(i,t,e),sd(t.parent||e[6],t,e))}(c,o,h)}function $w(i,e,t){return Gw(i,"",e,"",t),$w}function Gw(i,e,t,o,c){const h=me(),p=nv(h,e,t,o);return p!==kt&&Qt(Lt(),qn(),h,i,p,h[11],c,!1),Gw}function CD(i,e,t,o,c){const h=i[t+1],p=null===e;let m=o?Bi(h):qr(h),_=!1;for(;0!==m&&(!1===_||p);){const S=i[m+1];PR(i[m],e)&&(_=!0,i[m+1]=o?nh(S):Au(S)),m=o?Bi(S):qr(S)}_&&(i[t+1]=o?Au(h):nh(h))}function PR(i,e){return null===i||null==e||(Array.isArray(i)?i[1]:i)===e||!(!Array.isArray(i)||"string"!=typeof e)&&da(i,e)>=0}function Ny(i,e,t){return Uc(i,e,t,!1),Ny}function gs(i,e){return Uc(i,e,null,!0),gs}function Uc(i,e,t,o){const c=me(),h=Lt(),p=function He(i){const e=Ce.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+i,t}(2);h.firstUpdatePass&&function RD(i,e,t,o){const c=i.data;if(null===c[t+1]){const h=c[Ki()],p=function kD(i,e){return e>=i.expandoStartIndex}(i,t);(function ND(i,e){return 0!=(i.flags&(e?16:32))})(h,o)&&null===e&&!p&&(e=!1),e=function zR(i,e,t,o){const c=al(i);let h=o?e.residualClasses:e.residualStyles;if(null===c)0===(o?e.classBindings:e.styleBindings)&&(t=Fy(t=Ww(null,i,e,t,o),e.attrs,o),h=null);else{const p=e.directiveStylingLast;if(-1===p||i[p]!==c)if(t=Ww(c,i,e,t,o),null===h){let _=function qR(i,e,t){const o=t?e.classBindings:e.styleBindings;if(0!==qr(o))return i[Bi(o)]}(i,e,o);void 0!==_&&Array.isArray(_)&&(_=Ww(null,i,e,_[1],o),_=Fy(_,e.attrs,o),function $R(i,e,t,o){i[Bi(t?e.classBindings:e.styleBindings)]=o}(i,e,o,_))}else h=function GR(i,e,t){let o;const c=e.directiveEnd;for(let h=1+e.directiveStylingLast;h<c;h++)o=Fy(o,i[h].hostAttrs,t);return Fy(o,e.attrs,t)}(i,e,o)}return void 0!==h&&(o?e.residualClasses=h:e.residualStyles=h),t}(c,h,e,o),function xR(i,e,t,o,c,h){let p=h?e.classBindings:e.styleBindings,m=Bi(p),_=qr(p);i[o]=t;let S,E=!1;if(Array.isArray(t)){const R=t;S=R[1],(null===S||da(R,S)>0)&&(E=!0)}else S=t;if(c)if(0!==_){const F=Bi(i[m+1]);i[o+1]=Zi(F,m),0!==F&&(i[F+1]=wd(i[F+1],o)),i[m+1]=function Xf(i,e){return 131071&i|e<<17}(i[m+1],o)}else i[o+1]=Zi(m,0),0!==m&&(i[m+1]=wd(i[m+1],o)),m=o;else i[o+1]=Zi(_,0),0===m?m=o:i[_+1]=wd(i[_+1],o),_=o;E&&(i[o+1]=Au(i[o+1])),CD(i,S,o,!0),CD(i,S,o,!1),function OR(i,e,t,o,c){const h=c?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof e&&da(h,e)>=0&&(t[o+1]=nh(t[o+1]))}(e,S,i,o,h),p=Zi(m,_),h?e.classBindings=p:e.styleBindings=p}(c,h,e,t,p,o)}}(h,i,p,o),e!==kt&&$o(c,p,e)&&function OD(i,e,t,o,c,h,p,m){if(!(3&e.type))return;const _=i.data,E=_[m+1];G_(function Zf(i){return 1==(1&i)}(E)?PD(_,e,t,c,qr(E),p):void 0)||(G_(h)||function bd(i){return 2==(2&i)}(E)&&(h=PD(_,null,t,c,m,p)),function jm(i,e,t,o,c){if(e)c?i.addClass(t,o):i.removeClass(t,o);else{let h=-1===o.indexOf("-")?void 0:oi.DashCase;null==c?i.removeStyle(t,o,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=oi.Important),i.setStyle(t,o,c,h))}}(o,p,Dp(Ki(),t),c,h))}(h,h.data[Ki()],c,c[11],i,c[p+1]=function YR(i,e){return null==i||("string"==typeof e?i+=e:"object"==typeof i&&(i=vt(Pi(i)))),i}(e,t),o,p)}function Ww(i,e,t,o,c){let h=null;const p=t.directiveEnd;let m=t.directiveStylingLast;for(-1===m?m=t.directiveStart:m++;m<p&&(h=e[m],o=Fy(o,h.hostAttrs,c),h!==i);)m++;return null!==i&&(t.directiveStylingLast=m),o}function Fy(i,e,t){const o=t?1:2;let c=-1;if(null!==e)for(let h=0;h<e.length;h++){const p=e[h];"number"==typeof p?c=p:c===o&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Qi(i,p,!!t||e[++h]))}return void 0===i?null:i}function PD(i,e,t,o,c,h){const p=null===e;let m;for(;c>0;){const _=i[c],E=Array.isArray(_),S=E?_[1]:_,R=null===S;let F=t[c+1];F===kt&&(F=R?k:void 0);let B=R?hc(F,o):S===o?F:void 0;if(E&&!G_(B)&&(B=hc(_,o)),G_(B)&&(m=B,p))return m;const q=i[c+1];c=p?Bi(q):qr(q)}if(null!==e){let _=h?e.residualClasses:e.residualStyles;null!=_&&(m=hc(_,o))}return m}function G_(i){return void 0!==i}function wt(i,e=""){const t=me(),o=Lt(),c=i+22,h=o.firstCreatePass?l(o,c,1,e,null):o.data[c],p=t[c]=function Ul(i,e){return i.createText(e)}(t[11],e);Dc(o,t,p,h),hr(h,!1)}function Ng(i){return hv("",i,""),Ng}function hv(i,e,t){const o=me(),c=nv(o,i,e,t);return c!==kt&&function Sd(i,e,t){const o=Dp(e,i);!function wc(i,e,t){i.setValue(e,t)}(i[11],o,t)}(o,Ki(),c),hv}function Kw(i,e,t){const o=me();return $o(o,is(),e)&&Qt(Lt(),qn(),o,i,e,o[11],t,!0),Kw}function Ly(i,e,t){const o=me();if($o(o,is(),e)){const h=Lt(),p=qn();Qt(h,p,o,i,e,QC(al(h.data),p,o),t,!0)}return Ly}const fv="en-US";let tS=fv;function Xw(i,e,t,o,c){if(i=at(i),Array.isArray(i))for(let h=0;h<i.length;h++)Xw(i[h],e,t,o,c);else{const h=Lt(),p=me();let m=qo(i)?i:at(i.provide),_=Ca(i);const E=ut(),S=1048575&E.providerIndexes,R=E.directiveStart,F=E.providerIndexes>>20;if(qo(i)||!i.multi){const B=new ss(_,c,ie),q=Jw(m,e,c?S:S+F,R);-1===q?(yl(ml(E,p),h,m),Zw(h,i,e.length),e.push(m),E.directiveStart++,E.directiveEnd++,c&&(E.providerIndexes+=1048576),t.push(B),p.push(B)):(t[q]=B,p[q]=B)}else{const B=Jw(m,e,S+F,R),q=Jw(m,e,S,S+F),Y=B>=0&&t[B],ce=q>=0&&t[q];if(c&&!ce||!c&&!Y){yl(ml(E,p),h,m);const fe=function p1(i,e,t,o,c){const h=new ss(i,t,ie);return h.multi=[],h.index=e,h.componentProviders=0,TS(h,c,o&&!t),h}(c?f1:d1,t.length,c,o,_);!c&&ce&&(t[q].providerFactory=fe),Zw(h,i,e.length,0),e.push(m),E.directiveStart++,E.directiveEnd++,c&&(E.providerIndexes+=1048576),t.push(fe),p.push(fe)}else Zw(h,i,B>-1?B:q,TS(t[c?q:B],_,!c&&o));!c&&o&&ce&&t[q].componentProviders++}}}function Zw(i,e,t,o){const c=qo(e),h=function qm(i){return!!i.useClass}(e);if(c||h){const _=(h?at(e.useClass):e).prototype.ngOnDestroy;if(_){const E=i.destroyHooks||(i.destroyHooks=[]);if(!c&&e.multi){const S=E.indexOf(t);-1===S?E.push(t,[o,_]):E[S+1].push(o,_)}else E.push(t,_)}}}function TS(i,e,t){return t&&i.componentProviders++,i.multi.push(e)-1}function Jw(i,e,t,o){for(let c=t;c<o;c++)if(e[c]===i)return c;return-1}function d1(i,e,t,o){return e0(this.multi,[])}function f1(i,e,t,o){const c=this.multi;let h;if(this.providerFactory){const p=this.providerFactory.componentProviders,m=nr(t,t[1],this.providerFactory.index,o);h=m.slice(0,p),e0(c,h);for(let _=p;_<m.length;_++)h.push(m[_])}else h=[],e0(c,h);return h}function e0(i,e){for(let t=0;t<i.length;t++)e.push((0,i[t])());return e}function Hy(i,e=[]){return t=>{t.providersResolver=(o,c)=>function h1(i,e,t){const o=Lt();if(o.firstCreatePass){const c=co(i);Xw(t,o.data,o.blueprint,c,!0),Xw(e,o.data,o.blueprint,c,!1)}}(o,c?c(i):i,e)}}class m1{resolveComponentFactory(e){throw function g1(i){const e=Error(`No component factory found for ${vt(i)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=i,e}(e)}}let Lg=(()=>{class i{}return i.NULL=new m1,i})();class rp{}class AS{}class MS{}function y1(){return gv(ut(),me())}function gv(i,e){return new Gr(ns(i,e))}let Gr=(()=>{class i{constructor(t){this.nativeElement=t}}return i.__NG_ELEMENT_ID__=y1,i})();function _1(i){return i instanceof Gr?i.nativeElement:i}class zy{}let X_=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function b1(){const i=me(),t=tr(ut().index,i);return(Fr(t)?t:i)[11]}(),i})(),w1=(()=>{class i{}return i.\u0275prov=Ne({token:i,providedIn:"root",factory:()=>null}),i})();class mv{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const E1=new mv("14.0.5"),t0={};function Z_(i,e,t,o,c=!1){for(;null!==t;){const h=e[t.index];if(null!==h&&o.push(zn(h)),Lo(h))for(let m=10;m<h.length;m++){const _=h[m],E=_[1].firstChild;null!==E&&Z_(_[1],_,E,o)}const p=t.type;if(8&p)Z_(i,e,t.child,o);else if(32&p){const m=Vl(t,e);let _;for(;_=m();)o.push(_)}else if(16&p){const m=ad(e,t);if(Array.isArray(m))o.push(...m);else{const _=_u(e[16]);Z_(_[1],_,m,o,!0)}}t=c?t.projectionNext:t.next}return o}class qy{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Z_(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Lo(e)){const t=e[8],o=t?t.indexOf(this):-1;o>-1&&(id(e,o),ha(t,o))}this._attachedToViewContainer=!1}wu(this._lView[1],this._lView)}onDestroy(e){Oe(this._lView[1],this._lView,null,e)}markForCheck(){Fw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Bw(i,e,t){const o=e[10];o.begin&&o.begin();try{b(i,e,i.template,t)}catch(c){throw XC(e,c),c}finally{o.end&&o.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function xf(i,e){Eu(i,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ee(902,!1);this._appRef=e}}class C1 extends qy{constructor(e){super(e),this._view=e}detectChanges(){WC(this._view)}checkNoChanges(){}get context(){return null}}class n0 extends Lg{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ut(e);return new r0(t,this.ngModule)}}function kS(i){const e=[];for(let t in i)i.hasOwnProperty(t)&&e.push({propName:i[t],templateName:t});return e}class S1{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,o){const c=this.injector.get(e,t0,o);return c!==t0||t===t0?c:this.parentInjector.get(e,t,o)}}class r0 extends MS{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function qf(i){return i.map(zf).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return kS(this.componentDef.inputs)}get outputs(){return kS(this.componentDef.outputs)}create(e,t,o,c){let h=(c=c||this.ngModule)instanceof Mc?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const p=h?new S1(e,h):e,m=p.get(zy,null);if(null===m)throw new Ee(407,!1);const _=p.get(w1,null),E=m.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",R=o?function ke(i,e,t){return i.selectRootElement(e,t===Jr.ShadowDom)}(E,o,this.componentDef.encapsulation):Rf(m.createRenderer(null,this.componentDef),S,function D1(i){const e=i.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(S)),F=this.componentDef.onPush?288:272,B=function dR(i,e){return{components:[],scheduler:i||Mm,clean:cR,playerHandler:e||null,flags:0}}(),q=J(0,null,null,1,0,null,null,null,null,null),Y=s(null,q,B,F,null,null,m,E,_,p,null);let ce,fe;nc(Y);try{const xe=function lR(i,e,t,o,c,h){const p=t[1];t[22]=i;const _=l(p,22,2,"#host",null),E=_.mergedAttrs=e.hostAttrs;null!==E&&(H_(_,E,!0),null!==i&&(sc(c,i,E),null!==_.classes&&Vf(c,i,_.classes),null!==_.styles&&Bf(c,i,_.styles)));const S=o.createRenderer(i,e),R=s(t,z(e),null,e.onPush?32:16,t[22],_,o,S,h||null,null,null);return p.firstCreatePass&&(yl(ml(_,t),p,e.type),zC(p,_),qC(_,t.length,1)),U_(t,R),t[22]=R}(R,this.componentDef,Y,m,E);if(R)if(o)sc(E,R,["ng-version",E1.full]);else{const{attrs:he,classes:Ve}=function Ey(i){const e=[],t=[];let o=1,c=2;for(;o<i.length;){let h=i[o];if("string"==typeof h)2===c?""!==h&&e.push(h,i[++o]):8===c&&t.push(h);else{if(!Mo(c))break;c=h}o++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);he&&sc(E,R,he),Ve&&Ve.length>0&&Vf(E,R,Ve.join(" "))}if(fe=oe(q,22),void 0!==t){const he=fe.projection=[];for(let Ve=0;Ve<this.ngContentSelectors.length;Ve++){const Ht=t[Ve];he.push(null!=Ht?Array.from(Ht):null)}}ce=function hR(i,e,t,o,c){const h=t[1],p=function j_(i,e,t){const o=ut();i.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),$C(i,o,e,g(i,e,1,null),t));const c=nr(e,i,o.directiveStart,o);ii(c,e);const h=ns(o,e);return h&&ii(h,e),c}(h,t,e);if(o.components.push(p),i[8]=p,null!==c)for(const _ of c)_(p,e);if(e.contentQueries){const _=ut();e.contentQueries(1,p,_.directiveStart)}const m=ut();return!h.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(sa(m.index),UC(t[1],m,0,m.directiveStart,m.directiveEnd,e),HC(e,p)),p}(xe,this.componentDef,Y,B,[fR]),y(q,Y,null)}finally{Vr()}return new I1(this.componentType,ce,gv(fe,Y),Y,fe)}}class I1 extends class v1{}{constructor(e,t,o,c,h){super(),this.location=o,this._rootLView=c,this._tNode=h,this.instance=t,this.hostView=this.changeDetectorRef=new C1(c),this.componentType=e}get injector(){return new xi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class RS extends rp{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new n0(this);const o=Rr(e);this._bootstrapComponents=zo(o.bootstrap),this._r3Injector=An(e,t,[{provide:rp,useValue:this},{provide:Lg,useValue:this.componentFactoryResolver}],vt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(e)}get(e,t=Jt.THROW_IF_NOT_FOUND,o=et.Default){return e===Jt||e===rp||e===Li?this:this._r3Injector.get(e,t,o)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class o0 extends AS{constructor(e){super(),this.moduleType=e}create(e){return new RS(this.moduleType,e)}}class M1 extends rp{constructor(e,t,o){super(),this.componentFactoryResolver=new n0(this),this.instance=null;const c=new bg([...e,{provide:rp,useValue:this},{provide:Lg,useValue:this.componentFactoryResolver}],t||fd(),o,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function J_(i,e=null,t=null){return new M1(i,e,t).injector}function a0(i,e,t,o){return function VS(i,e,t,o,c,h){const p=e+t;return $o(i,p,c)?ch(i,p+1,h?o.call(h,c):o(c)):$y(i,p+1)}(me(),pi(),i,e,t,o)}function BS(i,e,t,o,c){return function jS(i,e,t,o,c,h,p){const m=e+t;return function Pg(i,e,t,o){const c=$o(i,e,t);return $o(i,e+1,o)||c}(i,m,c,h)?ch(i,m+2,p?o.call(p,c,h):o(c,h)):$y(i,m+2)}(me(),pi(),i,e,t,o,c)}function $y(i,e){const t=i[e];return t===kt?void 0:t}function u0(i){return e=>{setTimeout(i,void 0,e)}}const ui=class tO extends Se{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,o){let c=e,h=t||(()=>null),p=o;if(e&&"object"==typeof e){const _=e;c=_.next?.bind(_),h=_.error?.bind(_),p=_.complete?.bind(_)}this.__isAsync&&(h=u0(h),c&&(c=u0(c)),p&&(p=u0(p)));const m=super.subscribe({next:c,error:h,complete:p});return e instanceof zt&&e.add(m),m}};function nO(){return this._results[Og()]()}class eb{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Og(),o=eb.prototype;o[t]||(o[t]=nO)}get changes(){return this._changes||(this._changes=new ui)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const o=this;o.dirty=!1;const c=_i(e);(this._changesDetected=!function sf(i,e,t){if(i.length!==e.length)return!1;for(let o=0;o<i.length;o++){let c=i[o],h=e[o];if(t&&(c=t(c),h=t(h)),h!==c)return!1}return!0}(o._results,c,t))&&(o._results=c,o.length=c.length,o.last=c[this.length-1],o.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let dh=(()=>{class i{}return i.__NG_ELEMENT_ID__=oO,i})();const rO=dh,iO=class extends rO{constructor(e,t,o){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=o}createEmbeddedView(e,t){const o=this._declarationTContainer.tViews,c=s(this._declarationLView,o,e,16,null,o.declTNode,null,null,null,null,t||null);c[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(c[19]=p.createEmbeddedView(o)),y(o,c,e),new qy(c)}};function oO(){return tb(ut(),me())}function tb(i,e){return 4&i.type?new iO(e,i,gv(i,e)):null}let Pu=(()=>{class i{}return i.__NG_ELEMENT_ID__=sO,i})();function sO(){return GS(ut(),me())}const aO=Pu,qS=class extends aO{constructor(e,t,o){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=o}get element(){return gv(this._hostTNode,this._hostLView)}get injector(){return new xi(this._hostTNode,this._hostLView)}get parentInjector(){const e=us(this._hostTNode,this._hostLView);if(Op(e)){const t=as(e,this._hostLView),o=ks(e);return new xi(t[1].data[o+8],t)}return new xi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=$S(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,o){let c,h;"number"==typeof o?c=o:null!=o&&(c=o.index,h=o.injector);const p=e.createEmbeddedView(t||{},h);return this.insert(p,c),p}createComponent(e,t,o,c,h){const p=e&&!function _n(i){return"function"==typeof i}(e);let m;if(p)m=t;else{const R=t||{};m=R.index,o=R.injector,c=R.projectableNodes,h=R.environmentInjector||R.ngModuleRef}const _=p?e:new r0(Ut(e)),E=o||this.parentInjector;if(!h&&null==_.ngModule){const F=(p?E:this.parentInjector).get(Mc,null);F&&(h=F)}const S=_.create(E,c,void 0,h);return this.insert(S.hostView,m),S}insert(e,t){const o=e._lView,c=o[1];if(function yr(i){return Lo(i[3])}(o)){const S=this.indexOf(e);if(-1!==S)this.detach(S);else{const R=o[3],F=new qS(R,R[6],R[3]);F.detach(F.indexOf(e))}}const h=this._adjustIndex(t),p=this._lContainer;!function Pf(i,e,t,o){const c=10+o,h=t.length;o>0&&(t[c-1][4]=e),o<h-10?(e[4]=t[c],ou(t,10+o,e)):(t.push(e),e[4]=null),e[3]=t;const p=e[17];null!==p&&t!==p&&function Hl(i,e){const t=i[9];e[16]!==e[3][3][16]&&(i[2]=!0),null===t?i[9]=[e]:t.push(e)}(p,e);const m=e[19];null!==m&&m.insertView(i),e[2]|=64}(c,o,p,h);const m=Lf(h,p),_=o[11],E=Cc(_,p[7]);return null!==E&&function yy(i,e,t,o,c,h){o[0]=c,o[6]=e,Eu(i,o,t,1,c,h)}(c,p[6],_,o,E,m),e.attachToViewContainerRef(),ou(c0(p),h,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=$S(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),o=id(this._lContainer,t);o&&(ha(c0(this._lContainer),t),wu(o[1],o))}detach(e){const t=this._adjustIndex(e,-1),o=id(this._lContainer,t);return o&&null!=ha(c0(this._lContainer),t)?new qy(o):null}_adjustIndex(e,t=0){return e??this.length+t}};function $S(i){return i[8]}function c0(i){return i[8]||(i[8]=[])}function GS(i,e){let t;const o=e[i.index];if(Lo(o))t=o;else{let c;if(8&i.type)c=zn(o);else{const h=e[11];c=h.createComment("");const p=ns(i,e);Vs(h,Cc(h,p),c,function Lm(i,e){return i.nextSibling(e)}(h,p),!1)}e[i.index]=t=GC(o,e,c,i),U_(e,t)}return new qS(t,i,e)}class l0{constructor(e){this.queryList=e,this.matches=null}clone(){return new l0(this.queryList)}setDirty(){this.queryList.setDirty()}}class h0{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const o=null!==e.contentQueries?e.contentQueries[0]:t.length,c=[];for(let h=0;h<o;h++){const p=t.getByIndex(h);c.push(this.queries[p.indexInDeclarationView].clone())}return new h0(c)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==XS(e,t).matches&&this.queries[t].setDirty()}}class WS{constructor(e,t,o=null){this.predicate=e,this.flags=t,this.read=o}}class d0{constructor(e=[]){this.queries=e}elementStart(e,t){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let o=0;o<this.length;o++){const c=null!==t?t.length:0,h=this.getByIndex(o).embeddedTView(e,c);h&&(h.indexInDeclarationView=o,null!==t?t.push(h):t=[h])}return null!==t?new d0(t):null}template(e,t){for(let o=0;o<this.queries.length;o++)this.queries[o].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class f0{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new f0(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let o=e.parent;for(;null!==o&&8&o.type&&o.index!==t;)o=o.parent;return t===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const o=this.metadata.predicate;if(Array.isArray(o))for(let c=0;c<o.length;c++){const h=o[c];this.matchTNodeWithReadOption(e,t,lO(t,h)),this.matchTNodeWithReadOption(e,t,ua(t,e,h,!1,!1))}else o===dh?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ua(t,e,o,!1,!1))}matchTNodeWithReadOption(e,t,o){if(null!==o){const c=this.metadata.read;if(null!==c)if(c===Gr||c===Pu||c===dh&&4&t.type)this.addMatch(t.index,-2);else{const h=ua(t,e,c,!1,!1);null!==h&&this.addMatch(t.index,h)}else this.addMatch(t.index,o)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function lO(i,e){const t=i.localNames;if(null!==t)for(let o=0;o<t.length;o+=2)if(t[o]===e)return t[o+1];return null}function dO(i,e,t,o){return-1===t?function hO(i,e){return 11&i.type?gv(i,e):4&i.type?tb(i,e):null}(e,i):-2===t?function fO(i,e,t){return t===Gr?gv(e,i):t===dh?tb(e,i):t===Pu?GS(e,i):void 0}(i,e,o):nr(i,i[1],t,e)}function KS(i,e,t,o){const c=e[19].queries[o];if(null===c.matches){const h=i.data,p=t.matches,m=[];for(let _=0;_<p.length;_+=2){const E=p[_];m.push(E<0?null:dO(e,h[E],p[_+1],t.metadata.read))}c.matches=m}return c.matches}function p0(i,e,t,o){const c=i.queries.getByIndex(t),h=c.matches;if(null!==h){const p=KS(i,e,c,t);for(let m=0;m<h.length;m+=2){const _=h[m];if(_>0)o.push(p[m/2]);else{const E=h[m+1],S=e[-_];for(let R=10;R<S.length;R++){const F=S[R];F[17]===F[3]&&p0(F[1],F,E,o)}if(null!==S[9]){const R=S[9];for(let F=0;F<R.length;F++){const B=R[F];p0(B[1],B,E,o)}}}}}return o}function Nu(i){const e=me(),t=Lt(),o=ul();cl(o+1);const c=XS(t,o);if(i.dirty&&lo(e)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const h=c.crossesNgTemplate?p0(t,e,o,[]):KS(t,e,c,o);i.reset(h,_1),i.notifyOnChanges()}return!0}return!1}function vv(i,e,t){const o=Lt();o.firstCreatePass&&(QS(o,new WS(i,e,t),-1),2==(2&e)&&(o.staticViewQueries=!0)),YS(o,me(),e)}function Bg(i,e,t,o){const c=Lt();if(c.firstCreatePass){const h=ut();QS(c,new WS(e,t,o),h.index),function gO(i,e){const t=i.contentQueries||(i.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(i.queries.length-1,e)}(c,i),2==(2&t)&&(c.staticContentQueries=!0)}YS(c,me(),t)}function Fu(){return function pO(i,e){return i[19].queries[e].queryList}(me(),ul())}function YS(i,e,t){const o=new eb(4==(4&t));Oe(i,e,o,o.destroy),null===e[19]&&(e[19]=new h0),e[19].queries.push(new l0(o))}function QS(i,e,t){null===i.queries&&(i.queries=new d0),i.queries.track(new f0(e,t))}function XS(i,e){return i.queries.getByIndex(e)}function rb(...i){}const ib=new je("Application Initializer");let ob=(()=>{class i{constructor(t){this.appInits=t,this.resolve=rb,this.reject=rb,this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,c)=>{this.resolve=o,this.reject=c})}runInitializers(){if(this.initialized)return;const t=[],o=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if($_(h))t.push(h);else if(hD(h)){const p=new Promise((m,_)=>{h.subscribe({complete:m,error:_})});t.push(p)}}Promise.all(t).then(()=>{o()}).catch(c=>{this.reject(c)}),0===t.length&&o(),this.initialized=!0}}return i.\u0275fac=function(t){return new(t||i)(re(ib,8))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ky=new je("AppId",{providedIn:"root",factory:function mT(){return`${_0()}${_0()}${_0()}`}});function _0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vT=new je("Platform Initializer"),b0=new je("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),yT=new je("appBootstrapListener"),ip=new je("AnimationModuleType");let FO=(()=>{class i{log(t){console.log(t)}warn(t){console.warn(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const fh=new je("LocaleId",{providedIn:"root",factory:()=>bi(fh,et.Optional|et.SkipSelf)||function LO(){return typeof $localize<"u"&&$localize.locale||fv}()});class VO{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let w0=(()=>{class i{compileModuleSync(t){return new o0(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const o=this.compileModuleSync(t),h=zo(Rr(t).declarations).reduce((p,m)=>{const _=Ut(m);return _&&p.push(new r0(_)),p},[]);return new VO(o,h)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const HO=(()=>Promise.resolve(0))();function E0(i){typeof Zone>"u"?HO.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class en{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ui(!1),this.onMicrotaskEmpty=new ui(!1),this.onStable=new ui(!1),this.onError=new ui(!1),typeof Zone>"u")throw new Ee(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!o&&t,c.shouldCoalesceRunChangeDetection=o,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function zO(){let i=Zt.requestAnimationFrame,e=Zt.cancelAnimationFrame;if(typeof Zone<"u"&&i&&e){const t=i[Zone.__symbol__("OriginalDelegate")];t&&(i=t);const o=e[Zone.__symbol__("OriginalDelegate")];o&&(e=o)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function GO(i){const e=()=>{!function $O(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Zt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,D0(i),i.isCheckStableRunning=!0,C0(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),D0(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,o,c,h,p,m)=>{try{return wT(i),t.invokeTask(c,h,p,m)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&e(),ET(i)}},onInvoke:(t,o,c,h,p,m,_)=>{try{return wT(i),t.invoke(c,h,p,m,_)}finally{i.shouldCoalesceRunChangeDetection&&e(),ET(i)}},onHasTask:(t,o,c,h)=>{t.hasTask(c,h),o===c&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,D0(i),C0(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(t,o,c,h)=>(t.handleError(c,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!en.isInAngularZone())throw new Ee(909,!1)}static assertNotInAngularZone(){if(en.isInAngularZone())throw new Ee(909,!1)}run(e,t,o){return this._inner.run(e,t,o)}runTask(e,t,o,c){const h=this._inner,p=h.scheduleEventTask("NgZoneEvent: "+c,e,qO,rb,rb);try{return h.runTask(p,t,o)}finally{h.cancelTask(p)}}runGuarded(e,t,o){return this._inner.runGuarded(e,t,o)}runOutsideAngular(e){return this._outer.run(e)}}const qO={};function C0(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function D0(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function wT(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function ET(i){i._nesting--,C0(i)}class WO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ui,this.onMicrotaskEmpty=new ui,this.onStable=new ui,this.onError=new ui}run(e,t,o){return e.apply(t,o)}runGuarded(e,t,o){return e.apply(t,o)}runOutsideAngular(e){return e()}runTask(e,t,o,c){return e.apply(t,o)}}const CT=new je(""),sb=new je("");let I0,S0=(()=>{class i{constructor(t,o,c){this._ngZone=t,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,I0||(function KO(i){I0=i}(c),c.addToWindow(o)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{en.assertNotInAngularZone(),E0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())E0(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(t)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,o,c){let h=-1;o&&o>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==h),t(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:t,timeoutId:h,updateCb:c})}whenStable(t,o,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,o,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,o,c){return[]}}return i.\u0275fac=function(t){return new(t||i)(re(en),re(T0),re(sb))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac}),i})(),T0=(()=>{class i{constructor(){this._applications=new Map}registerApplication(t,o){this._applications.set(t,o)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,o=!0){return I0?.findTestabilityInTree(this,t,o)??null}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),op=null;const DT=new je("AllowMultipleToken"),A0=new je("PlatformDestroyListeners");class ST{constructor(e,t){this.name=e,this.token=t}}function IT(i,e,t=[]){const o=`Platform: ${e}`,c=new je(o);return(h=[])=>{let p=M0();if(!p||p.injector.get(DT,!1)){const m=[...t,...h,{provide:c,useValue:!0}];i?i(m):function XO(i){if(op&&!op.get(DT,!1))throw new Ee(400,!1);op=i;const e=i.get(MT);(function TT(i){const e=i.get(vT,null);e&&e.forEach(t=>t())})(i)}(function AT(i=[],e){return Jt.create({name:e,providers:[{provide:Du,useValue:"platform"},{provide:A0,useValue:new Set([()=>op=null])},...i]})}(m,o))}return function JO(i){const e=M0();if(!e)throw new Ee(401,!1);return e}()}}function M0(){return op?.get(MT)??null}let MT=(()=>{class i{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,o){const c=function eP(i,e){let t;return t="noop"===i?new WO:("zone.js"===i?void 0:i)||new en(e),t}(o?.ngZone,function kT(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(o)),h=[{provide:en,useValue:c}];return c.run(()=>{const p=Jt.create({providers:h,parent:this.injector,name:t.moduleType.name}),m=t.create(p),_=m.injector.get(Ni,null);if(!_)throw new Ee(402,!1);return c.runOutsideAngular(()=>{const E=c.onError.subscribe({next:S=>{_.handleError(S)}});m.onDestroy(()=>{ab(this._modules,m),E.unsubscribe()})}),function RT(i,e,t){try{const o=t();return $_(o)?o.catch(c=>{throw e.runOutsideAngular(()=>i.handleError(c)),c}):o}catch(o){throw e.runOutsideAngular(()=>i.handleError(o)),o}}(_,c,()=>{const E=m.injector.get(ob);return E.runInitializers(),E.donePromise.then(()=>(function nS(i){Zr(i,"Expected localeId to be defined"),"string"==typeof i&&(tS=i.toLowerCase().replace(/_/g,"-"))}(m.injector.get(fh,fv)||fv),this._moduleDoBootstrap(m),m))})})}bootstrapModule(t,o=[]){const c=xT({},o);return function YO(i,e,t){const o=new o0(t);return Promise.resolve(o)}(0,0,t).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(t){const o=t.injector.get(wv);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(c=>o.bootstrap(c));else{if(!t.instance.ngDoBootstrap)throw new Ee(403,!1);t.instance.ngDoBootstrap(o)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ee(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const t=this._injector.get(A0,null);t&&(t.forEach(o=>o()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(t){return new(t||i)(re(Jt))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function xT(i,e){return Array.isArray(e)?e.reduce(xT,i):{...i,...e}}let wv=(()=>{class i{constructor(t,o,c){this._zone=t,this._injector=o,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new le(m=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{m.next(this._stable),m.complete()})}),p=new le(m=>{let _;this._zone.runOutsideAngular(()=>{_=this._zone.onStable.subscribe(()=>{en.assertNotInAngularZone(),E0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,m.next(!0))})})});const E=this._zone.onUnstable.subscribe(()=>{en.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{m.next(!1)}))});return()=>{_.unsubscribe(),E.unsubscribe()}});this.isStable=Xr(h,p.pipe(Ws()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,o){const c=t instanceof MS;if(!this._injector.get(ob).done)throw!c&&function _v(i){const e=Ut(i)||Vn(i)||Kn(i);return null!==e&&e.standalone}(t),new Ee(405,false);let p;p=c?t:this._injector.get(Lg).resolveComponentFactory(t),this.componentTypes.push(p.componentType);const m=function QO(i){return i.isBoundToModule}(p)?void 0:this._injector.get(rp),E=p.create(Jt.NULL,[],o||p.selector,m),S=E.location.nativeElement,R=E.injector.get(CT,null);return R?.registerApplication(S),E.onDestroy(()=>{this.detachView(E.hostView),ab(this.components,E),R?.unregisterApplication(S)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Ee(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const o=t;this._views.push(o),o.attachToAppRef(this)}detachView(t){const o=t;ab(this._views,o),o.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(yT,[]).concat(this._bootstrapListeners).forEach(c=>c(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ab(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Ee(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(t){return new(t||i)(re(en),re(Jt),re(Ni))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function ab(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}let PT=!0,sp=(()=>{class i{}return i.__NG_ELEMENT_ID__=rP,i})();function rP(i){return function iP(i,e,t){if(Mh(i)&&!t){const o=tr(i.index,e);return new qy(o,o)}return 47&i.type?new qy(e[16],e):null}(ut(),me(),16==(16&i))}class VT{constructor(){}supports(e){return xy(e)}create(e){return new lP(e)}}const cP=(i,e)=>e;class lP{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||cP}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,o=this._removalsHead,c=0,h=null;for(;t||o;){const p=!o||t&&t.currentIndex<UT(o,c,h)?t:o,m=UT(p,c,h),_=p.currentIndex;if(p===o)c--,o=o._nextRemoved;else if(t=t._next,null==p.previousIndex)c++;else{h||(h=[]);const E=m-c,S=_-c;if(E!=S){for(let F=0;F<E;F++){const B=F<h.length?h[F]:h[F]=0,q=B+F;S<=q&&q<E&&(h[F]=B+1)}h[p.previousIndex]=S-E}}m!==_&&e(p,m,_)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!xy(e))throw new Ee(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let c,h,p,t=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(let m=0;m<this.length;m++)h=e[m],p=this._trackByFn(m,h),null!==t&&Object.is(t.trackById,p)?(o&&(t=this._verifyReinsertion(t,h,p,m)),Object.is(t.item,h)||this._addIdentityChange(t,h)):(t=this._mismatch(t,h,p,m),o=!0),t=t._next}else c=0,function ER(i,e){if(Array.isArray(i))for(let t=0;t<i.length;t++)e(i[t]);else{const t=i[Og()]();let o;for(;!(o=t.next()).done;)e(o.value)}}(e,m=>{p=this._trackByFn(c,m),null!==t&&Object.is(t.trackById,p)?(o&&(t=this._verifyReinsertion(t,m,p,c)),Object.is(t.item,m)||this._addIdentityChange(t,m)):(t=this._mismatch(t,m,p,c),o=!0),t=t._next,c++}),this.length=c;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,o,c){let h;return null===e?h=this._itTail:(h=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,h,c)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(o,c))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,h,c)):e=this._addAfter(new hP(t,o),h,c),e}_verifyReinsertion(e,t,o,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==h?e=this._reinsertAfter(h,e._prev,c):e.currentIndex!=c&&(e.currentIndex=c,this._addToMoves(e,c)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const c=e._prevRemoved,h=e._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(e,t,o),this._addToMoves(e,o),e}_moveAfter(e,t,o){return this._unlink(e),this._insertAfter(e,t,o),this._addToMoves(e,o),e}_addAfter(e,t,o){return this._insertAfter(e,t,o),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,o){const c=null===t?this._itHead:t._next;return e._next=c,e._prev=t,null===c?this._itTail=e:c._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new jT),this._linkedRecords.put(e),e.currentIndex=o,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,o=e._next;return null===t?this._itHead=o:t._next=o,null===o?this._itTail=t:o._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jT),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class hP{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dP{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===t||t<=o.currentIndex)&&Object.is(o.trackById,e))return o;return null}remove(e){const t=e._prevDup,o=e._nextDup;return null===t?this._head=o:t._nextDup=o,null===o?this._tail=t:o._prevDup=t,null===this._head}}class jT{constructor(){this.map=new Map}put(e){const t=e.trackById;let o=this.map.get(t);o||(o=new dP,this.map.set(t,o)),o.add(e)}get(e,t){const c=this.map.get(e);return c?c.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UT(i,e,t){const o=i.previousIndex;if(null===o)return o;let c=0;return t&&o<t.length&&(c=t[o]),o+e+c}class HT{constructor(){}supports(e){return e instanceof Map||Uw(e)}create(){return new fP}}class fP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Uw(e)))throw new Ee(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(o,c)=>{if(t&&t.key===c)this._maybeAddToChanges(t,o),this._appendAfter=t,t=t._next;else{const h=this._getOrCreateRecordForKey(c,o);t=this._insertBeforeOrAppend(t,h)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let o=t;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const o=e._prev;return t._next=e,t._prev=o,e._prev=t,o&&(o._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const c=this._records.get(e);this._maybeAddToChanges(c,t);const h=c._prev,p=c._next;return h&&(h._next=p),p&&(p._prev=h),c._next=null,c._prev=null,c}const o=new pP(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(o=>t(e[o],o))}}class pP{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zT(){return new lb([new VT])}let lb=(()=>{class i{constructor(t){this.factories=t}static create(t,o){if(null!=o){const c=o.factories.slice();t=t.concat(c)}return new i(t)}static extend(t){return{provide:i,useFactory:o=>i.create(t,o||zT()),deps:[[i,new jo,new Vo]]}}find(t){const o=this.factories.find(c=>c.supports(t));if(null!=o)return o;throw new Ee(901,!1)}}return i.\u0275prov=Ne({token:i,providedIn:"root",factory:zT}),i})();function qT(){return new Yy([new HT])}let Yy=(()=>{class i{constructor(t){this.factories=t}static create(t,o){if(o){const c=o.factories.slice();t=t.concat(c)}return new i(t)}static extend(t){return{provide:i,useFactory:o=>i.create(t,o||qT()),deps:[[i,new jo,new Vo]]}}find(t){const o=this.factories.find(c=>c.supports(t));if(o)return o;throw new Ee(901,!1)}}return i.\u0275prov=Ne({token:i,providedIn:"root",factory:qT}),i})();const vP=IT(null,"core",[]);let yP=(()=>{class i{constructor(t){}}return i.\u0275fac=function(t){return new(t||i)(re(wv))},i.\u0275mod=Nt({type:i}),i.\u0275inj=fn({}),i})(),hb=null;function ap(){return hb}const tn=new je("DocumentToken");let db=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ne({token:i,factory:function(){return function EP(){return re($T)}()},providedIn:"platform"}),i})();const CP=new je("Location Initialized");let $T=(()=>{class i extends db{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ap().getBaseHref(this._doc)}onPopState(t){const o=ap().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",t,!1),()=>o.removeEventListener("popstate",t)}onHashChange(t){const o=ap().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",t,!1),()=>o.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,o,c){GT()?this._history.pushState(t,o,c):this.location.hash=c}replaceState(t,o,c){GT()?this._history.replaceState(t,o,c):this.location.hash=c}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return i.\u0275fac=function(t){return new(t||i)(re(tn))},i.\u0275prov=Ne({token:i,factory:function(){return function DP(){return new $T(re(tn))}()},providedIn:"platform"}),i})();function GT(){return!!window.history.pushState}function P0(i,e){if(0==i.length)return e;if(0==e.length)return i;let t=0;return i.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?i+e.substring(1):1==t?i+e:i+"/"+e}function WT(i){const e=i.match(/#|\?|$/),t=e&&e.index||i.length;return i.slice(0,t-("/"===i[t-1]?1:0))+i.slice(t)}function Id(i){return i&&"?"!==i[0]?"?"+i:i}let jg=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ne({token:i,factory:function(){return function SP(){const i=re(tn).location;return new YT(re(db),i&&i.origin||"")}()},providedIn:"root"}),i})();const KT=new je("appBaseHref");let YT=(()=>{class i extends jg{constructor(t,o){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return P0(this._baseHref,t)}path(t=!1){const o=this._platformLocation.pathname+Id(this._platformLocation.search),c=this._platformLocation.hash;return c&&t?`${o}${c}`:o}pushState(t,o,c,h){const p=this.prepareExternalUrl(c+Id(h));this._platformLocation.pushState(t,o,p)}replaceState(t,o,c,h){const p=this.prepareExternalUrl(c+Id(h));this._platformLocation.replaceState(t,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return i.\u0275fac=function(t){return new(t||i)(re(db),re(KT,8))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac}),i})(),TP=(()=>{class i extends jg{constructor(t,o){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(t){const o=P0(this._baseHref,t);return o.length>0?"#"+o:o}pushState(t,o,c,h){let p=this.prepareExternalUrl(c+Id(h));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(t,o,p)}replaceState(t,o,c,h){let p=this.prepareExternalUrl(c+Id(h));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(t,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return i.\u0275fac=function(t){return new(t||i)(re(db),re(KT,8))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac}),i})(),Qy=(()=>{class i{constructor(t){this._subject=new ui,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const o=this._locationStrategy.getBaseHref();this._baseHref=WT(QT(o)),this._locationStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,o=""){return this.path()==this.normalize(t+Id(o))}normalize(t){return i.stripTrailingSlash(function AP(i,e){return i&&e.startsWith(i)?e.substring(i.length):e}(this._baseHref,QT(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,o="",c=null){this._locationStrategy.pushState(c,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Id(o)),c)}replaceState(t,o="",c=null){this._locationStrategy.replaceState(c,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Id(o)),c)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",o){this._urlChangeListeners.forEach(c=>c(t,o))}subscribe(t,o,c){return this._subject.subscribe({next:t,error:o,complete:c})}}return i.normalizeQueryParams=Id,i.joinWithSlash=P0,i.stripTrailingSlash=WT,i.\u0275fac=function(t){return new(t||i)(re(jg))},i.\u0275prov=Ne({token:i,factory:function(){return function IP(){return new Qy(re(jg))}()},providedIn:"root"}),i})();function QT(i){return i.replace(/\/index.html$/,"")}let q0=(()=>{class i{constructor(t,o,c,h){this._iterableDiffers=t,this._keyValueDiffers=o,this._ngEl=c,this._renderer=h,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(xy(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${vt(o.item)}`);this._toggleClass(o.item,!0)}),t.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!0)):Object.keys(t).forEach(o=>this._toggleClass(o,!!t[o])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!1)):Object.keys(t).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(t,o){(t=t.trim())&&t.split(/\s+/g).forEach(c=>{o?this._renderer.addClass(this._ngEl.nativeElement,c):this._renderer.removeClass(this._ngEl.nativeElement,c)})}}return i.\u0275fac=function(t){return new(t||i)(ie(lb),ie(Yy),ie(Gr),ie(X_))},i.\u0275dir=Rt({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),i})();class fN{constructor(e,t,o,c){this.$implicit=e,this.ngForOf=t,this.index=o,this.count=c}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $0=(()=>{class i{constructor(t,o,c){this._viewContainer=t,this._template=o,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const o=this._viewContainer;t.forEachOperation((c,h,p)=>{if(null==c.previousIndex)o.createEmbeddedView(this._template,new fN(c.item,this._ngForOf,-1,-1),null===p?void 0:p);else if(null==p)o.remove(null===h?void 0:h);else if(null!==h){const m=o.get(h);o.move(m,p),aI(m,c)}});for(let c=0,h=o.length;c<h;c++){const m=o.get(c).context;m.index=c,m.count=h,m.ngForOf=this._ngForOf}t.forEachIdentityChange(c=>{aI(o.get(c.currentIndex),c)})}static ngTemplateContextGuard(t,o){return!0}}return i.\u0275fac=function(t){return new(t||i)(ie(Pu),ie(dh),ie(lb))},i.\u0275dir=Rt({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();function aI(i,e){i.context.$implicit=e.item}let Cv=(()=>{class i{constructor(t,o){this._viewContainer=t,this._context=new gN,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){uI("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){uI("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,o){return!0}}return i.\u0275fac=function(t){return new(t||i)(ie(Pu),ie(dh))},i.\u0275dir=Rt({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class gN{constructor(){this.$implicit=null,this.ngIf=null}}function uI(i,e){if(e&&!e.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${vt(e)}'.`)}let hI=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nt({type:i}),i.\u0275inj=fn({}),i})();const dI="browser";let GN=(()=>{class i{}return i.\u0275prov=Ne({token:i,providedIn:"root",factory:()=>new WN(re(tn),window)}),i})();class WN{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function KN(i,e){const t=i.getElementById(e)||i.getElementsByName(e)[0];if(t)return t;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let c=o.currentNode;for(;c;){const h=c.shadowRoot;if(h){const p=h.getElementById(e)||h.querySelector(`[name="${e}"]`);if(p)return p}c=o.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),o=t.left+this.window.pageXOffset,c=t.top+this.window.pageYOffset,h=this.offset();this.window.scrollTo(o-h[0],c-h[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=fI(this.window.history)||fI(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function fI(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class Q0 extends class QN extends class wP{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function bP(i){hb||(hb=i)}(new Q0)}onAndCancel(e,t,o){return e.addEventListener(t,o,!1),()=>{e.removeEventListener(t,o,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function XN(){return Jy=Jy||document.querySelector("base"),Jy?Jy.getAttribute("href"):null}();return null==t?null:function ZN(i){Eb=Eb||document.createElement("a"),Eb.setAttribute("href",i);const e=Eb.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Jy=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function hN(i,e){e=encodeURIComponent(e);for(const t of i.split(";")){const o=t.indexOf("="),[c,h]=-1==o?[t,""]:[t.slice(0,o),t.slice(o+1)];if(c.trim()===e)return decodeURIComponent(h)}return null}(document.cookie,e)}}let Eb,Jy=null;const pI=new je("TRANSITION_ID"),eF=[{provide:ib,useFactory:function JN(i,e,t){return()=>{t.get(ob).donePromise.then(()=>{const o=ap(),c=e.querySelectorAll(`style[ng-transition="${i}"]`);for(let h=0;h<c.length;h++)o.remove(c[h])})}},deps:[pI,tn,Jt],multi:!0}];let nF=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ne({token:i,factory:i.\u0275fac}),i})();const Cb=new je("EventManagerPlugins");let Db=(()=>{class i{constructor(t,o){this._zone=o,this._eventNameToPlugin=new Map,t.forEach(c=>c.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,o,c){return this._findPluginFor(o).addEventListener(t,o,c)}addGlobalEventListener(t,o,c){return this._findPluginFor(o).addGlobalEventListener(t,o,c)}getZone(){return this._zone}_findPluginFor(t){const o=this._eventNameToPlugin.get(t);if(o)return o;const c=this._plugins;for(let h=0;h<c.length;h++){const p=c[h];if(p.supports(t))return this._eventNameToPlugin.set(t,p),p}throw new Error(`No event manager plugin found for event ${t}`)}}return i.\u0275fac=function(t){return new(t||i)(re(Cb),re(en))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac}),i})();class gI{constructor(e){this._doc=e}addGlobalEventListener(e,t,o){const c=ap().getGlobalEventTarget(this._doc,e);if(!c)throw new Error(`Unsupported event target ${c} for event ${t}`);return this.addEventListener(c,t,o)}}let mI=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(t){const o=new Set;t.forEach(c=>{this._stylesSet.has(c)||(this._stylesSet.add(c),o.add(c))}),this.onStylesAdded(o)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ne({token:i,factory:i.\u0275fac}),i})(),e_=(()=>{class i extends mI{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,o,c){t.forEach(h=>{const p=this._doc.createElement("style");p.textContent=h,c.push(o.appendChild(p))})}addHost(t){const o=[];this._addStylesToHost(this._stylesSet,t,o),this._hostNodes.set(t,o)}removeHost(t){const o=this._hostNodes.get(t);o&&o.forEach(vI),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((o,c)=>{this._addStylesToHost(t,c,o)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(vI))}}return i.\u0275fac=function(t){return new(t||i)(re(tn))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac}),i})();function vI(i){ap().remove(i)}const X0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Z0=/%COMP%/g;function Sb(i,e,t){for(let o=0;o<e.length;o++){let c=e[o];Array.isArray(c)?Sb(i,c,t):(c=c.replace(Z0,i),t.push(c))}return t}function bI(i){return e=>{if("__ngUnwrap__"===e)return i;!1===i(e)&&(e.preventDefault(),e.returnValue=!1)}}let Tb=(()=>{class i{constructor(t,o,c){this.eventManager=t,this.sharedStylesHost=o,this.appId=c,this.rendererByCompId=new Map,this.defaultRenderer=new J0(t)}createRenderer(t,o){if(!t||!o)return this.defaultRenderer;switch(o.encapsulation){case Jr.Emulated:{let c=this.rendererByCompId.get(o.id);return c||(c=new uF(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,c)),c.applyToHost(t),c}case 1:case Jr.ShadowDom:return new cF(this.eventManager,this.sharedStylesHost,t,o);default:if(!this.rendererByCompId.has(o.id)){const c=Sb(o.id,o.styles,[]);this.sharedStylesHost.addStyles(c),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(t){return new(t||i)(re(Db),re(e_),re(Ky))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac}),i})();class J0{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(X0[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(EI(e)?e.content:e).appendChild(t)}insertBefore(e,t,o){e&&(EI(e)?e.content:e).insertBefore(t,o)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let o="string"==typeof e?document.querySelector(e):e;if(!o)throw new Error(`The selector "${e}" did not match any elements`);return t||(o.textContent=""),o}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,o,c){if(c){t=c+":"+t;const h=X0[c];h?e.setAttributeNS(h,t,o):e.setAttribute(t,o)}else e.setAttribute(t,o)}removeAttribute(e,t,o){if(o){const c=X0[o];c?e.removeAttributeNS(c,t):e.removeAttribute(`${o}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,o,c){c&(oi.DashCase|oi.Important)?e.style.setProperty(t,o,c&oi.Important?"important":""):e.style[t]=o}removeStyle(e,t,o){o&oi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,o){e[t]=o}setValue(e,t){e.nodeValue=t}listen(e,t,o){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,bI(o)):this.eventManager.addEventListener(e,t,bI(o))}}function EI(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}class uF extends J0{constructor(e,t,o,c){super(e),this.component=o;const h=Sb(c+"-"+o.id,o.styles,[]);t.addStyles(h),this.contentAttr=function oF(i){return"_ngcontent-%COMP%".replace(Z0,i)}(c+"-"+o.id),this.hostAttr=function sF(i){return"_nghost-%COMP%".replace(Z0,i)}(c+"-"+o.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const o=super.createElement(e,t);return super.setAttribute(o,this.contentAttr,""),o}}class cF extends J0{constructor(e,t,o,c){super(e),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=Sb(c.id,c.styles,[]);for(let p=0;p<h.length;p++){const m=document.createElement("style");m.textContent=h[p],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,o){return super.insertBefore(this.nodeOrShadowRoot(e),t,o)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let lF=(()=>{class i extends gI{constructor(t){super(t)}supports(t){return!0}addEventListener(t,o,c){return t.addEventListener(o,c,!1),()=>this.removeEventListener(t,o,c)}removeEventListener(t,o,c){return t.removeEventListener(o,c)}}return i.\u0275fac=function(t){return new(t||i)(re(tn))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac}),i})();const CI=["alt","control","meta","shift"],dF={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DI={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},fF={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let pF=(()=>{class i extends gI{constructor(t){super(t)}supports(t){return null!=i.parseEventName(t)}addEventListener(t,o,c){const h=i.parseEventName(o),p=i.eventCallback(h.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ap().onAndCancel(t,h.domEventName,p))}static parseEventName(t){const o=t.toLowerCase().split("."),c=o.shift();if(0===o.length||"keydown"!==c&&"keyup"!==c)return null;const h=i._normalizeKey(o.pop());let p="";if(CI.forEach(_=>{const E=o.indexOf(_);E>-1&&(o.splice(E,1),p+=_+".")}),p+=h,0!=o.length||0===h.length)return null;const m={};return m.domEventName=c,m.fullKey=p,m}static getEventFullKey(t){let o="",c=function gF(i){let e=i.key;if(null==e){if(e=i.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===i.location&&DI.hasOwnProperty(e)&&(e=DI[e]))}return dF[e]||e}(t);return c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),CI.forEach(h=>{h!=c&&fF[h](t)&&(o+=h+".")}),o+=c,o}static eventCallback(t,o,c){return h=>{i.getEventFullKey(h)===t&&c.runGuarded(()=>o(h))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return i.\u0275fac=function(t){return new(t||i)(re(tn))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac}),i})();const _F=IT(vP,"browser",[{provide:b0,useValue:dI},{provide:vT,useValue:function mF(){Q0.makeCurrent()},multi:!0},{provide:tn,useFactory:function yF(){return function pm(i){ma=i}(document),document},deps:[]}]),TI=new je(""),II=[{provide:sb,useClass:class tF{addToWindow(e){Zt.getAngularTestability=(o,c=!0)=>{const h=e.findTestabilityInTree(o,c);if(null==h)throw new Error("Could not find testability for element.");return h},Zt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Zt.getAllAngularRootElements=()=>e.getAllRootElements(),Zt.frameworkStabilizers||(Zt.frameworkStabilizers=[]),Zt.frameworkStabilizers.push(o=>{const c=Zt.getAllAngularTestabilities();let h=c.length,p=!1;const m=function(_){p=p||_,h--,0==h&&o(p)};c.forEach(function(_){_.whenStable(m)})})}findTestabilityInTree(e,t,o){return null==t?null:e.getTestability(t)??(o?ap().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:CT,useClass:S0,deps:[en,T0,sb]},{provide:S0,useClass:S0,deps:[en,T0,sb]}],AI=[{provide:Du,useValue:"root"},{provide:Ni,useFactory:function vF(){return new Ni},deps:[]},{provide:Cb,useClass:lF,multi:!0,deps:[tn,en,b0]},{provide:Cb,useClass:pF,multi:!0,deps:[tn]},{provide:Tb,useClass:Tb,deps:[Db,e_,Ky]},{provide:zy,useExisting:Tb},{provide:mI,useExisting:e_},{provide:e_,useClass:e_,deps:[tn]},{provide:Db,useClass:Db,deps:[Cb,en]},{provide:class YN{},useClass:nF,deps:[]},[]];let MI=(()=>{class i{constructor(t){}static withServerTransition(t){return{ngModule:i,providers:[{provide:Ky,useValue:t.appId},{provide:pI,useExisting:Ky},eF]}}}return i.\u0275fac=function(t){return new(t||i)(re(TI,12))},i.\u0275mod=Nt({type:i}),i.\u0275inj=fn({providers:[...AI,...II],imports:[hI,yP]}),i})(),kI=(()=>{class i{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return i.\u0275fac=function(t){return new(t||i)(re(tn))},i.\u0275prov=Ne({token:i,factory:function(t){let o=null;return o=t?new t:function wF(){return new kI(re(tn))}(),o},providedIn:"root"}),i})();typeof window<"u"&&window;let nE=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ne({token:i,factory:function(t){let o=null;return o=t?new(t||i):re(OI),o},providedIn:"root"}),i})(),OI=(()=>{class i extends nE{constructor(t){super(),this._doc=t}sanitize(t,o){if(null==o)return null;switch(t){case pn.NONE:return o;case pn.HTML:return Ns(o,"HTML")?Pi(o):Wp(this._doc,String(o)).toString();case pn.STYLE:return Ns(o,"Style")?Pi(o):o;case pn.SCRIPT:if(Ns(o,"Script"))return Pi(o);throw new Error("unsafe value used in a script context");case pn.URL:return Ns(o,"URL")?Pi(o):Fs(String(o));case pn.RESOURCE_URL:if(Ns(o,"ResourceURL"))return Pi(o);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function bf(i){return new zr(i)}(t)}bypassSecurityTrustStyle(t){return function Vp(i){return new du(i)}(t)}bypassSecurityTrustScript(t){return function wf(i){return new Rl(i)}(t)}bypassSecurityTrustUrl(t){return function jp(i){return new Yh(i)}(t)}bypassSecurityTrustResourceUrl(t){return function Ef(i){return new gm(i)}(t)}}return i.\u0275fac=function(t){return new(t||i)(re(tn))},i.\u0275prov=Ne({token:i,factory:function(t){let o=null;return o=t?new t:function MF(i){return new OI(i.get(tn))}(re(Jt)),o},providedIn:"root"}),i})();function At(...i){return Ct(i,G(i))}class Vu extends Se{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:o}=this;if(e)throw t;return this._throwIfClosed(),o}next(e){super.next(this._value=e)}}const{isArray:kF}=Array,{getPrototypeOf:RF,prototype:xF,keys:OF}=Object;function PI(i){if(1===i.length){const e=i[0];if(kF(e))return{args:e,keys:null};if(function PF(i){return i&&"object"==typeof i&&RF(i)===xF}(e)){const t=OF(e);return{args:t.map(o=>e[o]),keys:t}}}return{args:i,keys:null}}const{isArray:NF}=Array;function rE(i){return mt(e=>function FF(i,e){return NF(e)?i(...e):i(e)}(i,e))}function NI(i,e){return i.reduce((t,o,c)=>(t[o]=e[c],t),{})}function iE(...i){const e=G(i),t=W(i),{args:o,keys:c}=PI(i);if(0===o.length)return Ct([],e);const h=new le(function LF(i,e,t=ge){return o=>{FI(e,()=>{const{length:c}=i,h=new Array(c);let p=c,m=c;for(let _=0;_<c;_++)FI(e,()=>{const E=Ct(i[_],e);let S=!1;E.subscribe(rt(o,R=>{h[_]=R,S||(S=!0,m--),m||o.next(t(h.slice()))},()=>{--p||o.complete()}))},o)},o)}}(o,e,c?p=>NI(c,p):ge));return t?h.pipe(rE(t)):h}function FI(i,e,t){i?Ti(t,i,e):e()}function Dv(i,e){const t=pe(i)?i:()=>i,o=c=>c.error(t());return new le(e?c=>e.schedule(o,0,c):o)}const t_=T(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function Ib(...i){return function BF(){return zi(1)}()(Ct(i,G(i)))}function Ab(i){return new le(e=>{yn(i()).subscribe(e)})}function oE(){return gt((i,e)=>{let t=null;i._refCount++;const o=rt(e,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(t=null);const c=i._connection,h=t;t=null,c&&(!h||c===h)&&c.unsubscribe(),e.unsubscribe()});i.subscribe(o),o.closed||(t=i.connect())})}class LI extends le{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,st(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new zt;const t=this.getSubject();e.add(this.source.subscribe(rt(t,void 0,()=>{this._teardown(),t.complete()},o=>{this._teardown(),t.error(o)},()=>this._teardown()))),e.closed&&(this._connection=null,e=zt.EMPTY)}return e}refCount(){return oE()(this)}}function Ug(i,e){return gt((t,o)=>{let c=null,h=0,p=!1;const m=()=>p&&!c&&o.complete();t.subscribe(rt(o,_=>{c?.unsubscribe();let E=0;const S=h++;yn(i(_,S)).subscribe(c=rt(o,R=>o.next(e?e(_,R,S,E++):R),()=>{c=null,m()}))},()=>{p=!0,m()}))})}function xo(i){return i<=0?()=>gr:gt((e,t)=>{let o=0;e.subscribe(rt(t,c=>{++o<=i&&(t.next(c),i<=o&&t.complete())}))})}function Sv(...i){const e=G(i);return gt((t,o)=>{(e?Ib(i,t,e):Ib(i,t)).subscribe(o)})}function VF(i,e,t,o,c){return(h,p)=>{let m=t,_=e,E=0;h.subscribe(rt(p,S=>{const R=E++;_=m?i(_,S,R):(m=!0,S),o&&p.next(_)},c&&(()=>{m&&p.next(_),p.complete()})))}}function BI(i,e){return gt(VF(i,e,arguments.length>=2,!0))}function Tr(i,e){return gt((t,o)=>{let c=0;t.subscribe(rt(o,h=>i.call(e,h,c++)&&o.next(h)))})}function cp(i){return gt((e,t)=>{let h,o=null,c=!1;o=e.subscribe(rt(t,void 0,void 0,p=>{h=yn(i(p,cp(i)(e))),o?(o.unsubscribe(),o=null,h.subscribe(t)):c=!0})),c&&(o.unsubscribe(),o=null,h.subscribe(t))})}function Tv(i,e){return pe(e)?Tt(i,e,1):Tt(i,1)}function sE(i){return i<=0?()=>gr:gt((e,t)=>{let o=[];e.subscribe(rt(t,c=>{o.push(c),i<o.length&&o.shift()},()=>{for(const c of o)t.next(c);t.complete()},void 0,()=>{o=null}))})}function VI(i=jF){return gt((e,t)=>{let o=!1;e.subscribe(rt(t,c=>{o=!0,t.next(c)},()=>o?t.complete():t.error(i())))})}function jF(){return new t_}function aE(i){return gt((e,t)=>{let o=!1;e.subscribe(rt(t,c=>{o=!0,t.next(c)},()=>{o||t.next(i),t.complete()}))})}function Hg(i,e){const t=arguments.length>=2;return o=>o.pipe(i?Tr((c,h)=>i(c,h,o)):ge,xo(1),t?aE(e):VI(()=>new t_))}function ro(i,e,t){const o=pe(i)||e||t?{next:i,error:e,complete:t}:i;return o?gt((c,h)=>{var p;null===(p=o.subscribe)||void 0===p||p.call(o);let m=!0;c.subscribe(rt(h,_=>{var E;null===(E=o.next)||void 0===E||E.call(o,_),h.next(_)},()=>{var _;m=!1,null===(_=o.complete)||void 0===_||_.call(o),h.complete()},_=>{var E;m=!1,null===(E=o.error)||void 0===E||E.call(o,_),h.error(_)},()=>{var _,E;m&&(null===(_=o.unsubscribe)||void 0===_||_.call(o)),null===(E=o.finalize)||void 0===E||E.call(o)}))}):ge}function uE(i){return mt(()=>i)}function Mb(i){return gt((e,t)=>{try{e.subscribe(t)}finally{t.add(i)}})}class Md{constructor(e,t){this.id=e,this.url=t}}class cE extends Md{constructor(e,t,o="imperative",c=null){super(e,t),this.type=0,this.navigationTrigger=o,this.restoredState=c}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zg extends Md{constructor(e,t,o){super(e,t),this.urlAfterRedirects=o,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class kb extends Md{constructor(e,t,o){super(e,t),this.reason=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class jI extends Md{constructor(e,t,o){super(e,t),this.error=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class HF extends Md{constructor(e,t,o,c){super(e,t),this.urlAfterRedirects=o,this.state=c,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zF extends Md{constructor(e,t,o,c){super(e,t),this.urlAfterRedirects=o,this.state=c,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qF extends Md{constructor(e,t,o,c,h){super(e,t),this.urlAfterRedirects=o,this.state=c,this.shouldActivate=h,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $F extends Md{constructor(e,t,o,c){super(e,t),this.urlAfterRedirects=o,this.state=c,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GF extends Md{constructor(e,t,o,c){super(e,t),this.urlAfterRedirects=o,this.state=c,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WF{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class KF{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class YF{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QF{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XF{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZF{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UI{constructor(e,t,o){this.routerEvent=e,this.position=t,this.anchor=o,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const gn="primary";class eL{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Iv(i){return new eL(i)}const lE="Redirecting to ",HI="ngNavigationCancelingError";function hE(i){const e=Error("NavigationCancelingError: "+(i||""));return e[HI]=!0,e}function nL(i,e,t){const o=t.path.split("/");if(o.length>i.length||"full"===t.pathMatch&&(e.hasChildren()||o.length<i.length))return null;const c={};for(let h=0;h<o.length;h++){const p=o[h],m=i[h];if(p.startsWith(":"))c[p.substring(1)]=m;else if(p!==m.path)return null}return{consumed:i.slice(0,o.length),posParams:c}}function ph(i,e){const t=i?Object.keys(i):void 0,o=e?Object.keys(e):void 0;if(!t||!o||t.length!=o.length)return!1;let c;for(let h=0;h<t.length;h++)if(c=t[h],!zI(i[c],e[c]))return!1;return!0}function zI(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;const t=[...i].sort(),o=[...e].sort();return t.every((c,h)=>o[h]===c)}return i===e}function qI(i){return Array.prototype.concat.apply([],i)}function $I(i){return i.length>0?i[i.length-1]:null}function Oo(i,e){for(const t in i)i.hasOwnProperty(t)&&e(i[t],t)}function lp(i){return hD(i)?i:$_(i)?Ct(Promise.resolve(i)):At(i)}const oL={exact:function KI(i,e,t){if(!$g(i.segments,e.segments)||!Rb(i.segments,e.segments,t)||i.numberOfChildren!==e.numberOfChildren)return!1;for(const o in e.children)if(!i.children[o]||!KI(i.children[o],e.children[o],t))return!1;return!0},subset:YI},GI={exact:function sL(i,e){return ph(i,e)},subset:function aL(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(t=>zI(i[t],e[t]))},ignored:()=>!0};function WI(i,e,t){return oL[t.paths](i.root,e.root,t.matrixParams)&&GI[t.queryParams](i.queryParams,e.queryParams)&&!("exact"===t.fragment&&i.fragment!==e.fragment)}function YI(i,e,t){return QI(i,e,e.segments,t)}function QI(i,e,t,o){if(i.segments.length>t.length){const c=i.segments.slice(0,t.length);return!(!$g(c,t)||e.hasChildren()||!Rb(c,t,o))}if(i.segments.length===t.length){if(!$g(i.segments,t)||!Rb(i.segments,t,o))return!1;for(const c in e.children)if(!i.children[c]||!YI(i.children[c],e.children[c],o))return!1;return!0}{const c=t.slice(0,i.segments.length),h=t.slice(i.segments.length);return!!($g(i.segments,c)&&Rb(i.segments,c,o)&&i.children[gn])&&QI(i.children[gn],e,h,o)}}function Rb(i,e,t){return e.every((o,c)=>GI[t](i[c].parameters,o.parameters))}class qg{constructor(e,t,o){this.root=e,this.queryParams=t,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Iv(this.queryParams)),this._queryParamMap}toString(){return lL.serialize(this)}}class Sn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Oo(t,(o,c)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xb(this)}}class n_{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Iv(this.parameters)),this._parameterMap}toString(){return tA(this)}}function $g(i,e){return i.length===e.length&&i.every((t,o)=>t.path===e[o].path)}class XI{}class ZI{parse(e){const t=new _L(e);return new qg(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${r_(e.root,!0)}`,o=function fL(i){const e=Object.keys(i).map(t=>{const o=i[t];return Array.isArray(o)?o.map(c=>`${Ob(t)}=${Ob(c)}`).join("&"):`${Ob(t)}=${Ob(o)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${o}${"string"==typeof e.fragment?`#${function hL(i){return encodeURI(i)}(e.fragment)}`:""}`}}const lL=new ZI;function xb(i){return i.segments.map(e=>tA(e)).join("/")}function r_(i,e){if(!i.hasChildren())return xb(i);if(e){const t=i.children[gn]?r_(i.children[gn],!1):"",o=[];return Oo(i.children,(c,h)=>{h!==gn&&o.push(`${h}:${r_(c,!1)}`)}),o.length>0?`${t}(${o.join("//")})`:t}{const t=function cL(i,e){let t=[];return Oo(i.children,(o,c)=>{c===gn&&(t=t.concat(e(o,c)))}),Oo(i.children,(o,c)=>{c!==gn&&(t=t.concat(e(o,c)))}),t}(i,(o,c)=>c===gn?[r_(i.children[gn],!1)]:[`${c}:${r_(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[gn]?`${xb(i)}/${t[0]}`:`${xb(i)}/(${t.join("//")})`}}function JI(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ob(i){return JI(i).replace(/%3B/gi,";")}function fE(i){return JI(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pb(i){return decodeURIComponent(i)}function eA(i){return Pb(i.replace(/\+/g,"%20"))}function tA(i){return`${fE(i.path)}${function dL(i){return Object.keys(i).map(e=>`;${fE(e)}=${fE(i[e])}`).join("")}(i.parameters)}`}const pL=/^[^\/()?;=#]+/;function Nb(i){const e=i.match(pL);return e?e[0]:""}const gL=/^[^=?&#]+/,vL=/^[^&#]+/;class _L{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Sn([],{}):new Sn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(o[gn]=new Sn(e,t)),o}parseSegment(){const e=Nb(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Ee(4009,!1);return this.capture(e),new n_(Pb(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Nb(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const c=Nb(this.remaining);c&&(o=c,this.capture(o))}e[Pb(t)]=Pb(o)}parseQueryParam(e){const t=function mL(i){const e=i.match(gL);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const p=function yL(i){const e=i.match(vL);return e?e[0]:""}(this.remaining);p&&(o=p,this.capture(o))}const c=eA(t),h=eA(o);if(e.hasOwnProperty(c)){let p=e[c];Array.isArray(p)||(p=[p],e[c]=p),p.push(h)}else e[c]=h}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Nb(this.remaining),c=this.remaining[o.length];if("/"!==c&&")"!==c&&";"!==c)throw new Ee(4010,!1);let h;o.indexOf(":")>-1?(h=o.slice(0,o.indexOf(":")),this.capture(h),this.capture(":")):e&&(h=gn);const p=this.parseChildren();t[h]=1===Object.keys(p).length?p[gn]:new Sn([],p),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Ee(4011,!1)}}class nA{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=pE(e,this._root);return t?t.children.map(o=>o.value):[]}firstChild(e){const t=pE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=gE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(c=>c.value).filter(c=>c!==e)}pathFromRoot(e){return gE(e,this._root).map(t=>t.value)}}function pE(i,e){if(i===e.value)return e;for(const t of e.children){const o=pE(i,t);if(o)return o}return null}function gE(i,e){if(i===e.value)return[e];for(const t of e.children){const o=gE(i,t);if(o.length)return o.unshift(e),o}return[]}class kd{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Av(i){const e={};return i&&i.children.forEach(t=>e[t.value.outlet]=t),e}class rA extends nA{constructor(e,t){super(e),this.snapshot=t,mE(this,e)}toString(){return this.snapshot.toString()}}function iA(i,e){const t=function bL(i,e){const p=new Fb([],{},{},"",{},gn,e,null,i.root,-1,{});return new sA("",new kd(p,[]))}(i,e),o=new Vu([new n_("",{})]),c=new Vu({}),h=new Vu({}),p=new Vu({}),m=new Vu(""),_=new Mv(o,c,p,m,h,gn,e,t.root);return _.snapshot=t.root,new rA(new kd(_,[]),t)}class Mv{constructor(e,t,o,c,h,p,m,_){this.url=e,this.params=t,this.queryParams=o,this.fragment=c,this.data=h,this.outlet=p,this.component=m,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(mt(e=>Iv(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(mt(e=>Iv(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function oA(i,e="emptyOnly"){const t=i.pathFromRoot;let o=0;if("always"!==e)for(o=t.length-1;o>=1;){const c=t[o],h=t[o-1];if(c.routeConfig&&""===c.routeConfig.path)o--;else{if(h.component)break;o--}}return function wL(i){return i.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(o))}class Fb{constructor(e,t,o,c,h,p,m,_,E,S,R,F){this.url=e,this.params=t,this.queryParams=o,this.fragment=c,this.data=h,this.outlet=p,this.component=m,this.routeConfig=_,this._urlSegment=E,this._lastPathIndex=S,this._correctedLastPathIndex=F??S,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Iv(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Iv(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sA extends nA{constructor(e,t){super(t),this.url=e,mE(this,t)}toString(){return aA(this._root)}}function mE(i,e){e.value._routerState=i,e.children.forEach(t=>mE(i,t))}function aA(i){const e=i.children.length>0?` { ${i.children.map(aA).join(", ")} } `:"";return`${i.value}${e}`}function vE(i){if(i.snapshot){const e=i.snapshot,t=i._futureSnapshot;i.snapshot=t,ph(e.queryParams,t.queryParams)||i.queryParams.next(t.queryParams),e.fragment!==t.fragment&&i.fragment.next(t.fragment),ph(e.params,t.params)||i.params.next(t.params),function rL(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(!ph(i[t],e[t]))return!1;return!0}(e.url,t.url)||i.url.next(t.url),ph(e.data,t.data)||i.data.next(t.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function yE(i,e){const t=ph(i.params,e.params)&&function uL(i,e){return $g(i,e)&&i.every((t,o)=>ph(t.parameters,e[o].parameters))}(i.url,e.url);return t&&!(!i.parent!=!e.parent)&&(!i.parent||yE(i.parent,e.parent))}function i_(i,e,t){if(t&&i.shouldReuseRoute(e.value,t.value.snapshot)){const o=t.value;o._futureSnapshot=e.value;const c=function CL(i,e,t){return e.children.map(o=>{for(const c of t.children)if(i.shouldReuseRoute(o.value,c.value.snapshot))return i_(i,o,c);return i_(i,o)})}(i,e,t);return new kd(o,c)}{if(i.shouldAttach(e.value)){const h=i.retrieve(e.value);if(null!==h){const p=h.route;return p.value._futureSnapshot=e.value,p.children=e.children.map(m=>i_(i,m)),p}}const o=function DL(i){return new Mv(new Vu(i.url),new Vu(i.params),new Vu(i.queryParams),new Vu(i.fragment),new Vu(i.data),i.outlet,i.component,i)}(e.value),c=e.children.map(h=>i_(i,h));return new kd(o,c)}}function Lb(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function o_(i){return"object"==typeof i&&null!=i&&i.outlets}function bE(i,e,t,o,c){let h={};if(o&&Oo(o,(m,_)=>{h[_]=Array.isArray(m)?m.map(E=>`${E}`):`${m}`}),i===e)return new qg(t,h,c);const p=uA(i,e,t);return new qg(p,h,c)}function uA(i,e,t){const o={};return Oo(i.children,(c,h)=>{o[h]=c===e?t:uA(c,e,t)}),new Sn(i.segments,o)}class cA{constructor(e,t,o){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=o,e&&o.length>0&&Lb(o[0]))throw new Ee(4003,false);const c=o.find(o_);if(c&&c!==$I(o))throw new Ee(4004,false)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wE{constructor(e,t,o){this.segmentGroup=e,this.processChildren=t,this.index=o}}function lA(i,e,t){if(i||(i=new Sn([],{})),0===i.segments.length&&i.hasChildren())return Bb(i,e,t);const o=function kL(i,e,t){let o=0,c=e;const h={match:!1,pathIndex:0,commandIndex:0};for(;c<i.segments.length;){if(o>=t.length)return h;const p=i.segments[c],m=t[o];if(o_(m))break;const _=`${m}`,E=o<t.length-1?t[o+1]:null;if(c>0&&void 0===_)break;if(_&&E&&"object"==typeof E&&void 0===E.outlets){if(!dA(_,E,p))return h;o+=2}else{if(!dA(_,{},p))return h;o++}c++}return{match:!0,pathIndex:c,commandIndex:o}}(i,e,t),c=t.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const h=new Sn(i.segments.slice(0,o.pathIndex),{});return h.children[gn]=new Sn(i.segments.slice(o.pathIndex),i.children),Bb(h,0,c)}return o.match&&0===c.length?new Sn(i.segments,{}):o.match&&!i.hasChildren()?EE(i,e,t):o.match?Bb(i,0,c):EE(i,e,t)}function Bb(i,e,t){if(0===t.length)return new Sn(i.segments,{});{const o=function ML(i){return o_(i[0])?i[0].outlets:{[gn]:i}}(t),c={};return Oo(o,(h,p)=>{"string"==typeof h&&(h=[h]),null!==h&&(c[p]=lA(i.children[p],e,h))}),Oo(i.children,(h,p)=>{void 0===o[p]&&(c[p]=h)}),new Sn(i.segments,c)}}function EE(i,e,t){const o=i.segments.slice(0,e);let c=0;for(;c<t.length;){const h=t[c];if(o_(h)){const _=RL(h.outlets);return new Sn(o,_)}if(0===c&&Lb(t[0])){o.push(new n_(i.segments[e].path,hA(t[0]))),c++;continue}const p=o_(h)?h.outlets[gn]:`${h}`,m=c<t.length-1?t[c+1]:null;p&&m&&Lb(m)?(o.push(new n_(p,hA(m))),c+=2):(o.push(new n_(p,{})),c++)}return new Sn(o,{})}function RL(i){const e={};return Oo(i,(t,o)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[o]=EE(new Sn([],{}),0,t))}),e}function hA(i){const e={};return Oo(i,(t,o)=>e[o]=`${t}`),e}function dA(i,e,t){return i==t.path&&ph(e,t.parameters)}class xL{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new s_,this.attachRef=null}}class s_{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const o=this.getOrCreateContext(e);o.outlet=t,this.contexts.set(e,o)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new xL,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}const Vb=!1;let CE=(()=>{class i{constructor(t,o,c,h,p){this.parentContexts=t,this.location=o,this.changeDetector=h,this.environmentInjector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new ui,this.deactivateEvents=new ui,this.attachEvents=new ui,this.detachEvents=new ui,this.name=c||gn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ee(4012,Vb);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ee(4012,Vb);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ee(4012,Vb);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,o){this.activated=t,this._activatedRoute=o,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,o){if(this.isActivated)throw new Ee(4013,Vb);this._activatedRoute=t;const c=this.location,p=t._futureSnapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,_=new OL(t,m,c.injector);if(o&&function PL(i){return!!i.resolveComponentFactory}(o)){const E=o.resolveComponentFactory(p);this.activated=c.createComponent(E,c.length,_)}else this.activated=c.createComponent(p,{index:c.length,injector:_,environmentInjector:o??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(t){return new(t||i)(ie(s_),ie(Pu),Co("name"),ie(sp),ie(Mc))},i.\u0275dir=Rt({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),i})();class OL{constructor(e,t,o){this.route=e,this.childContexts=t,this.parent=o}get(e,t){return e===Mv?this.route:e===s_?this.childContexts:this.parent.get(e,t)}}let fA=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=ve({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,o){1&t&&Vi(0,"router-outlet")},dependencies:[CE],encapsulation:2}),i})();function pA(i,e){return i.providers&&!i._injector&&(i._injector=J_(i.providers,e,`Route: ${i.path}`)),i._injector??e}function SE(i){const e=i.children&&i.children.map(SE),t=e?{...i,children:e}:{...i};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==gn&&(t.component=fA),t}function ju(i){return i.outlet||gn}function gA(i,e){const t=i.filter(o=>ju(o)===e);return t.push(...i.filter(o=>ju(o)!==e)),t}function mA(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let e=i.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class VL{constructor(e,t,o,c){this.routeReuseStrategy=e,this.futureState=t,this.currState=o,this.forwardEvent=c}activate(e){const t=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,o,e),vE(this.futureState.root),this.activateChildRoutes(t,o,e)}deactivateChildRoutes(e,t,o){const c=Av(t);e.children.forEach(h=>{const p=h.value.outlet;this.deactivateRoutes(h,c[p],o),delete c[p]}),Oo(c,(h,p)=>{this.deactivateRouteAndItsChildren(h,o)})}deactivateRoutes(e,t,o){const c=e.value,h=t?t.value:null;if(c===h)if(c.component){const p=o.getContext(c.outlet);p&&this.deactivateChildRoutes(e,t,p.children)}else this.deactivateChildRoutes(e,t,o);else h&&this.deactivateRouteAndItsChildren(t,o)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const o=t.getContext(e.value.outlet),c=o&&e.value.component?o.children:t,h=Av(e);for(const p of Object.keys(h))this.deactivateRouteAndItsChildren(h[p],c);if(o&&o.outlet){const p=o.outlet.detach(),m=o.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:p,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const o=t.getContext(e.value.outlet),c=o&&e.value.component?o.children:t,h=Av(e);for(const p of Object.keys(h))this.deactivateRouteAndItsChildren(h[p],c);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(e,t,o){const c=Av(t);e.children.forEach(h=>{this.activateRoutes(h,c[h.value.outlet],o),this.forwardEvent(new ZF(h.value.snapshot))}),e.children.length&&this.forwardEvent(new QF(e.value.snapshot))}activateRoutes(e,t,o){const c=e.value,h=t?t.value:null;if(vE(c),c===h)if(c.component){const p=o.getOrCreateContext(c.outlet);this.activateChildRoutes(e,t,p.children)}else this.activateChildRoutes(e,t,o);else if(c.component){const p=o.getOrCreateContext(c.outlet);if(this.routeReuseStrategy.shouldAttach(c.snapshot)){const m=this.routeReuseStrategy.retrieve(c.snapshot);this.routeReuseStrategy.store(c.snapshot,null),p.children.onOutletReAttached(m.contexts),p.attachRef=m.componentRef,p.route=m.route.value,p.outlet&&p.outlet.attach(m.componentRef,m.route.value),vE(m.route.value),this.activateChildRoutes(e,null,p.children)}else{const m=mA(c.snapshot),_=m?.get(Lg)??null;p.attachRef=null,p.route=c,p.resolver=_,p.injector=m,p.outlet&&p.outlet.activateWith(c,p.injector),this.activateChildRoutes(e,null,p.children)}}else this.activateChildRoutes(e,null,o)}}function jb(i){return"function"==typeof i}function Gg(i){return i instanceof qg}const a_=Symbol("INITIAL_VALUE");function u_(){return Ug(i=>iE(i.map(e=>e.pipe(xo(1),Sv(a_)))).pipe(BI((e,t)=>{let o=!1;return t.reduce((c,h,p)=>c!==a_?c:(h===a_&&(o=!0),o||!1!==h&&p!==t.length-1&&!Gg(h)?c:h),e)},a_),Tr(e=>e!==a_),mt(e=>Gg(e)?e:!0===e),xo(1)))}const vA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ub(i,e,t){if(""===e.path)return"full"===e.pathMatch&&(i.hasChildren()||t.length>0)?{...vA}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const c=(e.matcher||nL)(t,i,e);if(!c)return{...vA};const h={};Oo(c.posParams,(m,_)=>{h[_]=m.path});const p=c.consumed.length>0?{...h,...c.consumed[c.consumed.length-1].parameters}:h;return{matched:!0,consumedSegments:c.consumed,remainingSegments:t.slice(c.consumed.length),parameters:p,positionalParamSegments:c.posParams??{}}}function Hb(i,e,t,o,c="corrected"){if(t.length>0&&function WL(i,e,t){return t.some(o=>zb(i,e,o)&&ju(o)!==gn)}(i,t,o)){const p=new Sn(e,function GL(i,e,t,o){const c={};c[gn]=o,o._sourceSegment=i,o._segmentIndexShift=e.length;for(const h of t)if(""===h.path&&ju(h)!==gn){const p=new Sn([],{});p._sourceSegment=i,p._segmentIndexShift=e.length,c[ju(h)]=p}return c}(i,e,o,new Sn(t,i.children)));return p._sourceSegment=i,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:[]}}if(0===t.length&&function KL(i,e,t){return t.some(o=>zb(i,e,o))}(i,t,o)){const p=new Sn(i.segments,function $L(i,e,t,o,c,h){const p={};for(const m of o)if(zb(i,t,m)&&!c[ju(m)]){const _=new Sn([],{});_._sourceSegment=i,_._segmentIndexShift="legacy"===h?i.segments.length:e.length,p[ju(m)]=_}return{...c,...p}}(i,e,t,o,i.children,c));return p._sourceSegment=i,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:t}}const h=new Sn(i.segments,i.children);return h._sourceSegment=i,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}function zb(i,e,t){return(!(i.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function yA(i,e,t,o){return!!(ju(i)===o||o!==gn&&zb(e,t,i))&&("**"===i.path||Ub(e,i,t).matched)}function _A(i,e,t){return 0===e.length&&!i.children[t]}const qb=!1;class $b{constructor(e){this.segmentGroup=e||null}}class bA{constructor(e){this.urlTree=e}}function c_(i){return Dv(new $b(i))}function wA(i){return Dv(new bA(i))}class ZL{constructor(e,t,o,c,h){this.injector=e,this.configLoader=t,this.urlSerializer=o,this.urlTree=c,this.config=h,this.allowRedirects=!0}apply(){const e=Hb(this.urlTree.root,[],[],this.config).segmentGroup,t=new Sn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,gn).pipe(mt(h=>this.createUrlTree(TE(h),this.urlTree.queryParams,this.urlTree.fragment))).pipe(cp(h=>{if(h instanceof bA)return this.allowRedirects=!1,this.match(h.urlTree);throw h instanceof $b?this.noMatchError(h):h}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,gn).pipe(mt(c=>this.createUrlTree(TE(c),e.queryParams,e.fragment))).pipe(cp(c=>{throw c instanceof $b?this.noMatchError(c):c}))}noMatchError(e){return new Ee(4002,qb)}createUrlTree(e,t,o){const c=e.segments.length>0?new Sn([],{[gn]:e}):e;return new qg(c,t,o)}expandSegmentGroup(e,t,o,c){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(e,t,o).pipe(mt(h=>new Sn([],h))):this.expandSegment(e,o,t,o.segments,c,!0)}expandChildren(e,t,o){const c=[];for(const h of Object.keys(o.children))"primary"===h?c.unshift(h):c.push(h);return Ct(c).pipe(Tv(h=>{const p=o.children[h],m=gA(t,h);return this.expandSegmentGroup(e,m,p,h).pipe(mt(_=>({segment:_,outlet:h})))}),BI((h,p)=>(h[p.outlet]=p.segment,h),{}),function UF(i,e){const t=arguments.length>=2;return o=>o.pipe(i?Tr((c,h)=>i(c,h,o)):ge,sE(1),t?aE(e):VI(()=>new t_))}())}expandSegment(e,t,o,c,h,p){return Ct(o).pipe(Tv(m=>this.expandSegmentAgainstRoute(e,t,o,m,c,h,p).pipe(cp(E=>{if(E instanceof $b)return At(null);throw E}))),Hg(m=>!!m),cp((m,_)=>{if(m instanceof t_||"EmptyError"===m.name)return _A(t,c,h)?At(new Sn([],{})):c_(t);throw m}))}expandSegmentAgainstRoute(e,t,o,c,h,p,m){return yA(c,t,h,p)?void 0===c.redirectTo?this.matchSegmentAgainstRoute(e,t,c,h,p):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,o,c,h,p):c_(t):c_(t)}expandSegmentAgainstRouteUsingRedirect(e,t,o,c,h,p){return"**"===c.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,o,c,p):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,o,c,h,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,o,c){const h=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?wA(h):this.lineralizeSegments(o,h).pipe(Tt(p=>{const m=new Sn(p,{});return this.expandSegment(e,m,t,p,c,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,o,c,h,p){const{matched:m,consumedSegments:_,remainingSegments:E,positionalParamSegments:S}=Ub(t,c,h);if(!m)return c_(t);const R=this.applyRedirectCommands(_,c.redirectTo,S);return c.redirectTo.startsWith("/")?wA(R):this.lineralizeSegments(c,R).pipe(Tt(F=>this.expandSegment(e,t,o,F.concat(E),p,!1)))}matchSegmentAgainstRoute(e,t,o,c,h){if("**"===o.path)return e=pA(o,e),o.loadChildren?(o._loadedRoutes?At({routes:o._loadedRoutes,injector:o._loadedInjector}):this.configLoader.loadChildren(e,o)).pipe(mt(R=>(o._loadedRoutes=R.routes,o._loadedInjector=R.injector,new Sn(c,{})))):At(new Sn(c,{}));const{matched:p,consumedSegments:m,remainingSegments:_}=Ub(t,o,c);return p?(e=pA(o,e),this.getChildConfig(e,o,c).pipe(Tt(S=>{const R=S.injector??e,F=S.routes,{segmentGroup:B,slicedSegments:q}=Hb(t,m,_,F),Y=new Sn(B.segments,B.children);if(0===q.length&&Y.hasChildren())return this.expandChildren(R,F,Y).pipe(mt(he=>new Sn(m,he)));if(0===F.length&&0===q.length)return At(new Sn(m,{}));const ce=ju(o)===h;return this.expandSegment(R,Y,F,q,ce?gn:h,!0).pipe(mt(xe=>new Sn(m.concat(xe.segments),xe.children)))}))):c_(t)}getChildConfig(e,t,o){return t.children?At({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?At({routes:t._loadedRoutes,injector:t._loadedInjector}):this.runCanLoadGuards(e,t,o).pipe(Tt(c=>c?this.configLoader.loadChildren(e,t).pipe(ro(h=>{t._loadedRoutes=h.routes,t._loadedInjector=h.injector})):function QL(i){return Dv(hE(qb))}())):At({routes:[],injector:e})}runCanLoadGuards(e,t,o){const c=t.canLoad;return c&&0!==c.length?At(c.map(p=>{const m=e.get(p);return lp(function UL(i){return i&&jb(i.canLoad)}(m)?m.canLoad(t,o):m(t,o))})).pipe(u_(),ro(p=>{if(!Gg(p))return;const m=hE(lE+this.urlSerializer.serialize(p));throw m.url=p,m}),mt(p=>!0===p)):At(!0)}lineralizeSegments(e,t){let o=[],c=t.root;for(;;){if(o=o.concat(c.segments),0===c.numberOfChildren)return At(o);if(c.numberOfChildren>1||!c.children[gn])return Dv(new Ee(4e3,qb));c=c.children[gn]}}applyRedirectCommands(e,t,o){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,o)}applyRedirectCreatreUrlTree(e,t,o,c){const h=this.createSegmentGroup(e,t.root,o,c);return new qg(h,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const o={};return Oo(e,(c,h)=>{if("string"==typeof c&&c.startsWith(":")){const m=c.substring(1);o[h]=t[m]}else o[h]=c}),o}createSegmentGroup(e,t,o,c){const h=this.createSegments(e,t.segments,o,c);let p={};return Oo(t.children,(m,_)=>{p[_]=this.createSegmentGroup(e,m,o,c)}),new Sn(h,p)}createSegments(e,t,o,c){return t.map(h=>h.path.startsWith(":")?this.findPosParam(e,h,c):this.findOrReturn(h,o))}findPosParam(e,t,o){const c=o[t.path.substring(1)];if(!c)throw new Ee(4001,qb);return c}findOrReturn(e,t){let o=0;for(const c of t){if(c.path===e.path)return t.splice(o),c;o++}return e}}function TE(i){const e={};for(const o of Object.keys(i.children)){const h=TE(i.children[o]);(h.segments.length>0||h.hasChildren())&&(e[o]=h)}return function JL(i){if(1===i.numberOfChildren&&i.children[gn]){const e=i.children[gn];return new Sn(i.segments.concat(e.segments),e.children)}return i}(new Sn(i.segments,e))}class EA{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Gb{constructor(e,t){this.component=e,this.route=t}}function t2(i,e,t){const o=i._root;return l_(o,e?e._root:null,t,[o.value])}function Wb(i,e,t){return(mA(e)??t).get(i)}function l_(i,e,t,o,c={canDeactivateChecks:[],canActivateChecks:[]}){const h=Av(e);return i.children.forEach(p=>{(function r2(i,e,t,o,c={canDeactivateChecks:[],canActivateChecks:[]}){const h=i.value,p=e?e.value:null,m=t?t.getContext(i.value.outlet):null;if(p&&h.routeConfig===p.routeConfig){const _=function o2(i,e,t){if("function"==typeof t)return t(i,e);switch(t){case"pathParamsChange":return!$g(i.url,e.url);case"pathParamsOrQueryParamsChange":return!$g(i.url,e.url)||!ph(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yE(i,e)||!ph(i.queryParams,e.queryParams);default:return!yE(i,e)}}(p,h,h.routeConfig.runGuardsAndResolvers);_?c.canActivateChecks.push(new EA(o)):(h.data=p.data,h._resolvedData=p._resolvedData),l_(i,e,h.component?m?m.children:null:t,o,c),_&&m&&m.outlet&&m.outlet.isActivated&&c.canDeactivateChecks.push(new Gb(m.outlet.component,p))}else p&&h_(e,m,c),c.canActivateChecks.push(new EA(o)),l_(i,null,h.component?m?m.children:null:t,o,c)})(p,h[p.value.outlet],t,o.concat([p.value]),c),delete h[p.value.outlet]}),Oo(h,(p,m)=>h_(p,t.getContext(m),c)),c}function h_(i,e,t){const o=Av(i),c=i.value;Oo(o,(h,p)=>{h_(h,c.component?e?e.children.getContext(p):null:e,t)}),t.canDeactivateChecks.push(new Gb(c.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,c))}class p2{}function CA(i){return new le(e=>e.error(i))}class m2{constructor(e,t,o,c,h,p){this.rootComponentType=e,this.config=t,this.urlTree=o,this.url=c,this.paramsInheritanceStrategy=h,this.relativeLinkResolution=p}recognize(){const e=Hb(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,gn);if(null===t)return null;const o=new Fb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},gn,this.rootComponentType,null,this.urlTree.root,-1,{}),c=new kd(o,t),h=new sA(this.url,c);return this.inheritParamsAndData(h._root),h}inheritParamsAndData(e){const t=e.value,o=oA(t,this.paramsInheritanceStrategy);t.params=Object.freeze(o.params),t.data=Object.freeze(o.data),e.children.forEach(c=>this.inheritParamsAndData(c))}processSegmentGroup(e,t,o){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,o)}processChildren(e,t){const o=[];for(const h of Object.keys(t.children)){const p=t.children[h],m=gA(e,h),_=this.processSegmentGroup(m,p,h);if(null===_)return null;o.push(..._)}const c=DA(o);return function v2(i){i.sort((e,t)=>e.value.outlet===gn?-1:t.value.outlet===gn?1:e.value.outlet.localeCompare(t.value.outlet))}(c),c}processSegment(e,t,o,c){for(const h of e){const p=this.processSegmentAgainstRoute(h,t,o,c);if(null!==p)return p}return _A(t,o,c)?[]:null}processSegmentAgainstRoute(e,t,o,c){if(e.redirectTo||!yA(e,t,o,c))return null;let h,p=[],m=[];if("**"===e.path){const B=o.length>0?$I(o).parameters:{},q=TA(t)+o.length;h=new Fb(o,B,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,AA(e),ju(e),e.component??e._loadedComponent??null,e,SA(t),q,MA(e),q)}else{const B=Ub(t,e,o);if(!B.matched)return null;p=B.consumedSegments,m=B.remainingSegments;const q=TA(t)+p.length;h=new Fb(p,B.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,AA(e),ju(e),e.component??e._loadedComponent??null,e,SA(t),q,MA(e),q)}const _=function y2(i){return i.children?i.children:i.loadChildren?i._loadedRoutes:[]}(e),{segmentGroup:E,slicedSegments:S}=Hb(t,p,m,_.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===S.length&&E.hasChildren()){const B=this.processChildren(_,E);return null===B?null:[new kd(h,B)]}if(0===_.length&&0===S.length)return[new kd(h,[])];const R=ju(e)===c,F=this.processSegment(_,E,S,R?gn:c);return null===F?null:[new kd(h,F)]}}function _2(i){const e=i.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function DA(i){const e=[],t=new Set;for(const o of i){if(!_2(o)){e.push(o);continue}const c=e.find(h=>o.value.routeConfig===h.value.routeConfig);void 0!==c?(c.children.push(...o.children),t.add(c)):e.push(o)}for(const o of t){const c=DA(o.children);e.push(new kd(o.value,c))}return e.filter(o=>!t.has(o))}function SA(i){let e=i;for(;e._sourceSegment;)e=e._sourceSegment;return e}function TA(i){let e=i,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function AA(i){return i.data||{}}function MA(i){return i.resolve||{}}const AE=Symbol("RouteTitle");function kA(i){return"string"==typeof i.title||null===i.title}function ME(i){return Ug(e=>{const t=i(e);return t?Ct(t).pipe(mt(()=>e)):At(e)})}class A2 extends class I2{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const kE=new je("ROUTES");let RE=(()=>{class i{constructor(t,o){this.injector=t,this.compiler=o,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return At(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const o=lp(t.loadComponent()).pipe(ro(h=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=h}),Mb(()=>{this.componentLoaders.delete(t)})),c=new LI(o,()=>new Se).pipe(oE());return this.componentLoaders.set(t,c),c}loadChildren(t,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return At({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const h=this.loadModuleFactoryOrRoutes(o.loadChildren).pipe(mt(m=>{this.onLoadEndListener&&this.onLoadEndListener(o);let _,E,S=!1;Array.isArray(m)?E=m:(_=m.create(t).injector,E=qI(_.get(kE,[],et.Self|et.Optional)));return{routes:E.map(SE),injector:_}}),Mb(()=>{this.childrenLoaders.delete(o)})),p=new LI(h,()=>new Se).pipe(oE());return this.childrenLoaders.set(o,p),p}loadModuleFactoryOrRoutes(t){return lp(t()).pipe(Tt(o=>o instanceof AS||Array.isArray(o)?At(o):Ct(this.compiler.compileModuleAsync(o))))}}return i.\u0275fac=function(t){return new(t||i)(re(Jt),re(w0))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac}),i})();class k2{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function R2(i){throw i}function x2(i,e,t){return e.parse("/")}const O2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},P2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yo=(()=>{class i{constructor(t,o,c,h,p,m,_){this.rootComponentType=t,this.urlSerializer=o,this.rootContexts=c,this.location=h,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Se,this.errorHandler=R2,this.malformedUriErrorHandler=x2,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>At(void 0),this.urlHandlingStrategy=new k2,this.routeReuseStrategy=new A2,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=p.get(RE),this.configLoader.onLoadEndListener=F=>this.triggerEvent(new KF(F)),this.configLoader.onLoadStartListener=F=>this.triggerEvent(new WF(F)),this.ngModule=p.get(rp),this.console=p.get(FO);const R=p.get(en);this.isNgZoneEnabled=R instanceof en&&en.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function iL(){return new qg(new Sn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=iA(this.currentUrlTree,this.rootComponentType),this.transitions=new Vu({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const o=this.events;return t.pipe(Tr(c=>0!==c.id),mt(c=>({...c,extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),Ug(c=>{let h=!1,p=!1;return At(c).pipe(ro(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ug(m=>{const _=this.browserUrlTree.toString(),E=!this.navigated||m.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return OA(m.source)&&(this.browserUrlTree=m.extractedUrl),At(m).pipe(Ug(R=>{const F=this.transitions.getValue();return o.next(new cE(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),F!==this.transitions.getValue()?gr:Promise.resolve(R)}),function e2(i,e,t,o){return Ug(c=>function XL(i,e,t,o,c){return new ZL(i,e,t,o,c).apply()}(i,e,t,c.extractedUrl,o).pipe(mt(h=>({...c,urlAfterRedirects:h}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ro(R=>{this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects}}),function b2(i,e,t,o,c){return Tt(h=>function g2(i,e,t,o,c="emptyOnly",h="legacy"){try{const p=new m2(i,e,t,o,c,h).recognize();return null===p?CA(new p2):At(p)}catch(p){return CA(p)}}(i,e,h.urlAfterRedirects,t(h.urlAfterRedirects),o,c).pipe(mt(p=>({...h,targetSnapshot:p}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),ro(R=>{if("eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(B,R)}this.browserUrlTree=R.urlAfterRedirects}const F=new HF(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);o.next(F)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:B,source:q,restoredState:Y,extras:ce}=m,fe=new cE(F,this.serializeUrl(B),q,Y);o.next(fe);const xe=iA(B,this.rootComponentType).snapshot;return At({...m,targetSnapshot:xe,urlAfterRedirects:B,extras:{...ce,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=m.rawUrl,m.resolve(null),gr}),ro(m=>{const _=new zF(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(_)}),mt(m=>({...m,guards:t2(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function s2(i,e){return Tt(t=>{const{targetSnapshot:o,currentSnapshot:c,guards:{canActivateChecks:h,canDeactivateChecks:p}}=t;return 0===p.length&&0===h.length?At({...t,guardsResult:!0}):function a2(i,e,t,o){return Ct(i).pipe(Tt(c=>function f2(i,e,t,o,c){const h=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return h&&0!==h.length?At(h.map(m=>{const _=Wb(m,e,c);return lp(function qL(i){return i&&jb(i.canDeactivate)}(_)?_.canDeactivate(i,e,t,o):_(i,e,t,o)).pipe(Hg())})).pipe(u_()):At(!0)}(c.component,c.route,t,e,o)),Hg(c=>!0!==c,!0))}(p,o,c,i).pipe(Tt(m=>m&&function jL(i){return"boolean"==typeof i}(m)?function u2(i,e,t,o){return Ct(e).pipe(Tv(c=>Ib(function l2(i,e){return null!==i&&e&&e(new YF(i)),At(!0)}(c.route.parent,o),function c2(i,e){return null!==i&&e&&e(new XF(i)),At(!0)}(c.route,o),function d2(i,e,t){const o=e[e.length-1],h=e.slice(0,e.length-1).reverse().map(p=>function n2(i){const e=i.routeConfig?i.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:i,guards:e}:null}(p)).filter(p=>null!==p).map(p=>Ab(()=>At(p.guards.map(_=>{const E=Wb(_,p.node,t);return lp(function zL(i){return i&&jb(i.canActivateChild)}(E)?E.canActivateChild(o,i):E(o,i)).pipe(Hg())})).pipe(u_())));return At(h).pipe(u_())}(i,c.path,t),function h2(i,e,t){const o=e.routeConfig?e.routeConfig.canActivate:null;if(!o||0===o.length)return At(!0);const c=o.map(h=>Ab(()=>{const p=Wb(h,e,t);return lp(function HL(i){return i&&jb(i.canActivate)}(p)?p.canActivate(e,i):p(e,i)).pipe(Hg())}));return At(c).pipe(u_())}(i,c.route,t))),Hg(c=>!0!==c,!0))}(o,h,i,e):At(m)),mt(m=>({...t,guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),ro(m=>{if(Gg(m.guardsResult)){const E=hE(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw E.url=m.guardsResult,E}const _=new qF(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(_)}),Tr(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),ME(m=>{if(m.guards.canActivateChecks.length)return At(m).pipe(ro(_=>{const E=new $F(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}),Ug(_=>{let E=!1;return At(_).pipe(function w2(i,e){return Tt(t=>{const{targetSnapshot:o,guards:{canActivateChecks:c}}=t;if(!c.length)return At(t);let h=0;return Ct(c).pipe(Tv(p=>function E2(i,e,t,o){const c=i.routeConfig,h=i._resolve;return void 0!==c?.title&&!kA(c)&&(h[AE]=c.title),function C2(i,e,t,o){const c=function D2(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}(i);if(0===c.length)return At({});const h={};return Ct(c).pipe(Tt(p=>function S2(i,e,t,o){const c=Wb(i,e,o);return lp(c.resolve?c.resolve(e,t):c(e,t))}(i[p],e,t,o).pipe(Hg(),ro(m=>{h[p]=m}))),sE(1),uE(h),cp(p=>p instanceof t_?gr:Dv(p)))}(h,i,e,o).pipe(mt(p=>(i._resolvedData=p,i.data=oA(i,t).resolve,c&&kA(c)&&(i.data[AE]=c.title),null)))}(p.route,o,i,e)),ro(()=>h++),sE(1),Tt(p=>h===c.length?At(t):gr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ro({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),ro(_=>{const E=new GF(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}))}),ME(m=>{const _=E=>{const S=[];E.routeConfig?.loadComponent&&!E.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(E.routeConfig).pipe(ro(R=>{E.component=R}),mt(()=>{})));for(const R of E.children)S.push(..._(R));return S};return iE(_(m.targetSnapshot.root)).pipe(aE(),xo(1))}),ME(()=>this.afterPreactivation()),mt(m=>{const _=function EL(i,e,t){const o=i_(i,e._root,t?t._root:void 0);return new rA(o,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return{...m,targetRouterState:_}}),ro(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((i,e,t)=>mt(o=>(new VL(e,o.targetRouterState,o.currentRouterState,t).activate(i),o)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),ro({next(){h=!0},complete(){h=!0}}),Mb(()=>{h||p||this.cancelNavigationTransition(c,`Navigation ID ${c.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===c.id&&(this.currentNavigation=null)}),cp(m=>{if(p=!0,function tL(i){return i&&i[HI]}(m)){const _=Gg(m.url);_||(this.navigated=!0,this.restoreHistory(c,!0));const E=new kb(c.id,this.serializeUrl(c.extractedUrl),m.message);if(o.next(E),_){const S=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),R={skipLocationChange:c.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||OA(c.source)};this.scheduleNavigation(S,"imperative",null,R,{resolve:c.resolve,reject:c.reject,promise:c.promise})}else c.resolve(!1)}else{this.restoreHistory(c,!0);const _=new jI(c.id,this.serializeUrl(c.extractedUrl),m);o.next(_);try{c.resolve(this.errorHandler(m))}catch(E){c.reject(E)}}return gr}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const o="popstate"===t.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{const c={replaceUrl:!0},h=t.state?.navigationId?t.state:null;if(h){const m={...h};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(c.state=m)}const p=this.parseUrl(t.url);this.scheduleNavigation(p,o,h,c)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(SE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,o={}){const{relativeTo:c,queryParams:h,fragment:p,queryParamsHandling:m,preserveFragment:_}=o,E=c||this.routerState.root,S=_?this.currentUrlTree.fragment:p;let R=null;switch(m){case"merge":R={...this.currentUrlTree.queryParams,...h};break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=h||null}return null!==R&&(R=this.removeEmptyProps(R)),function SL(i,e,t,o,c){if(0===t.length)return bE(e.root,e.root,e.root,o,c);const h=function TL(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new cA(!0,0,i);let e=0,t=!1;const o=i.reduce((c,h,p)=>{if("object"==typeof h&&null!=h){if(h.outlets){const m={};return Oo(h.outlets,(_,E)=>{m[E]="string"==typeof _?_.split("/"):_}),[...c,{outlets:m}]}if(h.segmentPath)return[...c,h.segmentPath]}return"string"!=typeof h?[...c,h]:0===p?(h.split("/").forEach((m,_)=>{0==_&&"."===m||(0==_&&""===m?t=!0:".."===m?e++:""!=m&&c.push(m))}),c):[...c,h]},[]);return new cA(t,e,o)}(t);return h.toRoot()?bE(e.root,e.root,new Sn([],{}),o,c):function p(_){const E=function IL(i,e,t,o){return i.isAbsolute?new wE(e.root,!0,0):-1===o?new wE(t,t===e.root,0):function AL(i,e,t){let o=i,c=e,h=t;for(;h>c;){if(h-=c,o=o.parent,!o)throw new Ee(4005,!1);c=o.segments.length}return new wE(o,!1,c-h)}(t,o+(Lb(i.commands[0])?0:1),i.numberOfDoubleDots)}(h,e,i.snapshot?._urlSegment,_),S=E.processChildren?Bb(E.segmentGroup,E.index,h.commands):lA(E.segmentGroup,E.index,h.commands);return bE(e.root,E.segmentGroup,S,o,c)}(i.snapshot?._lastPathIndex)}(E,this.currentUrlTree,t,R,S??null)}navigateByUrl(t,o={skipLocationChange:!1}){const c=Gg(t)?t:this.parseUrl(t),h=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(h,"imperative",null,o)}navigate(t,o={skipLocationChange:!1}){return function N2(i){for(let e=0;e<i.length;e++){if(null==i[e])throw new Ee(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,o),o)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let o;try{o=this.urlSerializer.parse(t)}catch(c){o=this.malformedUriErrorHandler(c,this.urlSerializer,t)}return o}isActive(t,o){let c;if(c=!0===o?{...O2}:!1===o?{...P2}:o,Gg(t))return WI(this.currentUrlTree,t,c);const h=this.parseUrl(t);return WI(this.currentUrlTree,h,c)}removeEmptyProps(t){return Object.keys(t).reduce((o,c)=>{const h=t[c];return null!=h&&(o[c]=h),o},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new zg(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,o,c,h,p){if(this.disposed)return Promise.resolve(!1);let m,_,E;p?(m=p.resolve,_=p.reject,E=p.promise):E=new Promise((F,B)=>{m=F,_=B});const S=++this.navigationId;let R;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(c=this.location.getState()),R=c&&c.\u0275routerPageId?c.\u0275routerPageId:h.replaceUrl||h.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):R=0,this.setTransition({id:S,targetPageId:R,source:o,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:h,resolve:m,reject:_,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(F=>Promise.reject(F))}setBrowserUrl(t,o){const c=this.urlSerializer.serialize(t),h={...o.extras.state,...this.generateNgRouterState(o.id,o.targetPageId)};this.location.isCurrentPathEqualTo(c)||o.extras.replaceUrl?this.location.replaceState(c,"",h):this.location.go(c,"",h)}restoreHistory(t,o=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===c?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,o){const c=new kb(t.id,this.serializeUrl(t.extractedUrl),o);this.triggerEvent(c),t.resolve(!1)}generateNgRouterState(t,o){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:o}:{navigationId:t}}}return i.\u0275fac=function(t){Oc()},i.\u0275prov=Ne({token:i,factory:i.\u0275fac}),i})();function OA(i){return"imperative"!==i}class PA{buildTitle(e){let t,o=e.root;for(;void 0!==o;)t=this.getResolvedTitleForRoute(o)??t,o=o.children.find(c=>c.outlet===gn);return t}getResolvedTitleForRoute(e){return e.data[AE]}}let B2=(()=>{class i extends PA{constructor(t){super(),this.title=t}updateTitle(t){const o=this.buildTitle(t);void 0!==o&&this.title.setTitle(o)}}return i.\u0275fac=function(t){return new(t||i)(re(kI))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class NA{}let FA=(()=>{class i{constructor(t,o,c,h,p){this.router=t,this.injector=c,this.preloadingStrategy=h,this.loader=p}setUpPreloading(){this.subscription=this.router.events.pipe(Tr(t=>t instanceof zg),Tv(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,o){const c=[];for(const h of o){h.providers&&!h._injector&&(h._injector=J_(h.providers,t,`Route: ${h.path}`));const p=h._injector??t,m=h._loadedInjector??p;h.loadChildren&&!h._loadedRoutes||h.loadComponent&&!h._loadedComponent?c.push(this.preloadConfig(p,h)):(h.children||h._loadedRoutes)&&c.push(this.processRoutes(m,h.children??h._loadedRoutes))}return Ct(c).pipe(zi())}preloadConfig(t,o){return this.preloadingStrategy.preload(o,()=>{let c;c=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(t,o):At(null);const h=c.pipe(Tt(p=>null===p?At(void 0):(o._loadedRoutes=p.routes,o._loadedInjector=p.injector,this.processRoutes(p.injector??t,p.routes))));return o.loadComponent&&!o._loadedComponent?Ct([h,this.loader.loadComponent(o)]).pipe(zi()):h})}}return i.\u0275fac=function(t){return new(t||i)(re(yo),re(w0),re(Mc),re(NA),re(RE))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac}),i})();const LA=new je("");let V2=(()=>{class i{constructor(t,o,c={}){this.router=t,this.viewportScroller=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof cE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof zg&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof UI&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,o){this.router.triggerEvent(new UI(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(t){Oc()},i.\u0275prov=Ne({token:i,factory:i.\u0275fac}),i})();const PE=new je("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),BA=new je("ROUTER_FORROOT_GUARD"),VA=new je(""),j2=[Qy,{provide:XI,useClass:ZI},{provide:yo,useFactory:function G2(i,e,t,o,c,h,p={},m,_,E,S){const R=new yo(null,i,e,t,o,c,qI(h));return E&&(R.urlHandlingStrategy=E),S&&(R.routeReuseStrategy=S),R.titleStrategy=_??m,function W2(i,e){i.errorHandler&&(e.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(e.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(e.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(e.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(e.urlUpdateStrategy=i.urlUpdateStrategy),i.canceledNavigationResolution&&(e.canceledNavigationResolution=i.canceledNavigationResolution)}(p,R),R},deps:[XI,s_,Qy,Jt,w0,kE,PE,B2,[PA,new Vo],[class M2{},new Vo],[class T2{},new Vo]]},s_,{provide:Mv,useFactory:function K2(i){return i.routerState.root},deps:[yo]},RE];function U2(){return new ST("Router",yo)}let jA=(()=>{class i{constructor(t,o){}static forRoot(t,o){return{ngModule:i,providers:[j2,[],UA(t),{provide:BA,useFactory:$2,deps:[[yo,new Vo,new jo]]},{provide:PE,useValue:o||{}},o?.useHash?{provide:jg,useClass:TP}:{provide:jg,useClass:YT},{provide:LA,useFactory:()=>{const i=bi(yo),e=bi(GN),t=bi(PE);return t.scrollOffset&&e.setOffset(t.scrollOffset),new V2(i,e,t)}},o?.preloadingStrategy?tB(o.preloadingStrategy):[],{provide:ST,multi:!0,useFactory:U2},o?.initialNavigation?Q2(o):[],[{provide:HA,useFactory:Y2},{provide:yT,multi:!0,useExisting:HA}]]}}static forChild(t){return{ngModule:i,providers:[UA(t)]}}}return i.\u0275fac=function(t){return new(t||i)(re(BA,8),re(yo,8))},i.\u0275mod=Nt({type:i}),i.\u0275inj=fn({}),i})();function $2(i){return"guarded"}function UA(i){return[{provide:$n,multi:!0,useValue:i},{provide:kE,multi:!0,useValue:i}]}function Y2(){const i=bi(Jt);return e=>{const t=i.get(wv);if(e!==t.components[0])return;const o=i.get(yo),c=i.get(zA);null===i.get(NE,null,et.Optional)&&o.initialNavigation(),i.get(VA,null,et.Optional)?.setUpPreloading(),i.get(LA,null,et.Optional)?.init(),o.resetRootComponentType(t.componentTypes[0]),c.next(),c.complete()}}const HA=new je("");function Q2(i){return["disabled"===i.initialNavigation?[{provide:ib,multi:!0,useFactory:()=>{const i=bi(yo);return()=>{i.setUpLocationChangeListener()}}},{provide:NE,useValue:"disabled"}]:[],"enabledBlocking"===i.initialNavigation?[{provide:NE,useValue:"enabledBlocking"},{provide:ib,multi:!0,deps:[Jt],useFactory:i=>{const e=i.get(CP,Promise.resolve(null));let t=!1;return()=>e.then(()=>new Promise(c=>{const h=i.get(yo),p=i.get(zA);(function o(c){const h=i.get(yo);h.events.pipe(Tr(p=>p instanceof zg||p instanceof kb||p instanceof jI),mt(p=>{if(p instanceof zg)return!0;const m=h.navigationId!==p.id,_=p instanceof kb&&-1!==p.reason.indexOf(lE);return!(!m&&!_)&&null}),Tr(p=>null!==p),xo(1)).subscribe(()=>{c()})})(()=>{c(!0),t=!0}),h.afterPreactivation=()=>(c(!0),t||p.closed?At(void 0):p),h.initialNavigation()}))}}]:[]]}const zA=new je("",{factory:()=>new Se}),NE=new je("");function tB(i){return[FA,{provide:VA,useExisting:FA},{provide:NA,useExisting:i}]}const Aa=Wt(867);class Ma{static init(e){return Aa.default.initializeApp(e),[]}static getFirestore(){return Aa.default.firestore()}static _getFirestore(){return Aa.default.firestore}static getAuth(){return Aa.default.auth()}static getStorage(){return Aa.default.storage()}static getFirestoreTimestamp(){return Aa.default.firestore.Timestamp.now()}}Wt(315);class d_{constructor(){this.auth=Ma.getAuth()}createAccountWith(e){return new Promise((t,o)=>{this.auth.createUserWithEmailAndPassword(e.email,e.password).then(c=>{try{e.onComplete(c)}catch{}t(c)}).catch(c=>{try{e.onFail(c)}catch{}o(c)})})}signInAnonymously(e){return new Promise((t,o)=>{this.auth.signInAnonymously().then(c=>{try{e.onComplete(c)}catch{}t(c)}).catch(c=>{try{e.onFail(c)}catch{}o(c)})})}signInWith(e){return new Promise((t,o)=>{e.provider?this.auth.signInWithPopup(this.getProvider(e.provider)).then(c=>{try{e.onComplete(c)}catch{}t(c)}).catch(c=>{try{e.onFail(c)}catch{}o(c)}):this.auth.signInWithEmailAndPassword(e.email,e.password).then(c=>{try{e.onComplete(c)}catch{}t(c)}).catch(c=>{try{e.onFail(c)}catch{}o(c)})})}getProvider(e){switch(e.toLowerCase()){case"google":return new Aa.default.auth.GoogleAuthProvider;case"apple":return new Aa.default.auth.OAuthProvider("apple.com");case"facebook":return new Aa.default.auth.FacebookAuthProvider;case"yahoo":return new Aa.default.auth.OAuthProvider("yahoo.com");case"github":return new Aa.default.auth.GithubAuthProvider;case"twitter":return new Aa.default.auth.TwitterAuthProvider;case"microsoft":return new Aa.default.auth.OAuthProvider("microsoft.com")}}signOut(e){return new Promise((t,o)=>{e?this.auth.signOut().then(()=>{try{e.onComplete()}catch{}t()}).catch(()=>{try{e.onFail()}catch{}o(new Error("Failed to signout."))}):this.auth.signOut()})}listenToSignInStateChanges(e){this.auth.onAuthStateChanged(t=>{e(t)})}sendVerificationEmail(){try{this.validateIsSignedIn(),this.auth.currentUser.sendEmailVerification()}catch(e){console.error(`${e} User must be signed in to use the sendVerificaitonEmail() function.`)}}sendPasswordResetEmail(e){e.onComplete?this.auth.sendPasswordResetEmail(e.email).then(()=>e.onComplete(`Instructions to reset password was sent to ${e.email}.`)).catch(()=>e.onComplete("Failed to send password reset email.")):this.auth.sendPasswordResetEmail(e.email)}isEmailVerified(){try{return this.validateIsSignedIn(),this.auth.currentUser.emailVerified}catch(e){console.error(`User must be signed in to use the isEmailVerified() function. \n${e}`)}return!1}isSignedIn(){return null!=this.auth.currentUser||null!=this.auth.currentUser}validateIsSignedIn(){if(!this.isSignedIn())throw new Error("No user was signed in.")}getAuth(){return this.auth}checkSignInState(e){let t=this.getAuth().currentUser;try{e.whenChanged(t)}catch{}if(this.isSignedIn()){try{e.whenSignedIn(t)}catch{}if(this.isEmailVerified())try{e.whenSignedInAndEmailVerified(t)}catch{}else try{e.whenSignedInAndEmailNotVerified(t)}catch{}}else try{e.whenSignedOut(t)}catch{}}}let FE;try{FE=typeof Intl<"u"&&Intl.v8BreakIterator}catch{FE=!1}let f_,Kb,Wg,BE,Uu=(()=>{class i{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function $N(i){return i===dI}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!FE)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(t){return new(t||i)(re(b0))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function LE(i){return function nB(){if(null==f_&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>f_=!0}))}finally{f_=f_||!1}return f_}()?i:!!i.capture}function $A(){if(null==Wg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Wg=!1,Wg;if("scrollBehavior"in document.documentElement.style)Wg=!0;else{const i=Element.prototype.scrollTo;Wg=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return Wg}function p_(){if("object"!=typeof document||!document)return 0;if(null==Kb){const i=document.createElement("div"),e=i.style;i.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),o=t.style;o.width="2px",o.height="1px",i.appendChild(t),document.body.appendChild(i),Kb=0,0===i.scrollLeft&&(i.scrollLeft=1,Kb=0===i.scrollLeft?1:2),i.remove()}return Kb}function VE(){let i=typeof document<"u"&&document?document.activeElement:null;for(;i&&i.shadowRoot;){const e=i.shadowRoot.activeElement;if(e===i)break;i=e}return i}function Kg(i){return i.composedPath?i.composedPath()[0]:i.target}function jE(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Qb(i,...e){return e.length?e.some(t=>i[t]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function GA(i){return Tr((e,t)=>i<=t)}function WA(i,e=ge){return i=i??lB,gt((t,o)=>{let c,h=!0;t.subscribe(rt(o,p=>{const m=e(p);(h||!i(c,m))&&(h=!1,c=m,o.next(p))}))})}function lB(i,e){return i===e}function ka(i){return gt((e,t)=>{yn(i).subscribe(rt(t,()=>t.complete(),Re)),!t.closed&&e.subscribe(t)})}function Gc(i){return null!=i&&"false"!=`${i}`}function KA(i,e=0){return function hB(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):e}function Xb(i){return Array.isArray(i)?i:[i]}function Hi(i){return null==i?"":"string"==typeof i?i:`${i}px`}function Rv(i){return i instanceof Gr?i.nativeElement:i}let dB=(()=>{class i{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),fB=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nt({type:i}),i.\u0275inj=fn({providers:[dB]}),i})();class pB extends zt{constructor(e,t){super()}schedule(e,t=0){return this}}const Zb={setInterval(i,e,...t){const{delegate:o}=Zb;return o?.setInterval?o.setInterval(i,e,...t):setInterval(i,e,...t)},clearInterval(i){const{delegate:e}=Zb;return(e?.clearInterval||clearInterval)(i)},delegate:void 0};class UE extends pB{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const o=this.id,c=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(c,o,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(c,this.id,t),this}requestAsyncId(e,t,o=0){return Zb.setInterval(e.flush.bind(e,this),o)}recycleAsyncId(e,t,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return t;Zb.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(e,t);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let c,o=!1;try{this.work(e)}catch(h){o=!0,c=h||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),c}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:o}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ot(o,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const YA={now:()=>(YA.delegate||Date).now(),delegate:void 0};class g_{constructor(e,t=g_.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,o){return new this.schedulerActionCtor(this,e).schedule(o,t)}}g_.now=YA.now;class HE extends g_{constructor(e,t=g_.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let o;this._active=!0;do{if(o=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,o){for(;e=t.shift();)e.unsubscribe();throw o}}}const zE=new HE(UE),gB=zE;function QA(i,e=zE){return gt((t,o)=>{let c=null,h=null,p=null;const m=()=>{if(c){c.unsubscribe(),c=null;const E=h;h=null,o.next(E)}};function _(){const E=p+i,S=e.now();if(S<E)return c=this.schedule(void 0,E-S),void o.add(c);m()}t.subscribe(rt(o,E=>{h=E,p=e.now(),c||(c=e.schedule(_,i),o.add(c))},()=>{m(),o.complete()},void 0,()=>{h=c=null}))})}const XA=new Set;let xv,mB=(()=>{class i{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):yB}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function vB(i){if(!XA.has(i))try{xv||(xv=document.createElement("style"),xv.setAttribute("type","text/css"),document.head.appendChild(xv)),xv.sheet&&(xv.sheet.insertRule(`@media ${i} {body{ }}`,0),XA.add(i))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return i.\u0275fac=function(t){return new(t||i)(re(Uu))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function yB(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let qE=(()=>{class i{constructor(t,o){this._mediaMatcher=t,this._zone=o,this._queries=new Map,this._destroySubject=new Se}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return ZA(Xb(t)).some(c=>this._registerQuery(c).mql.matches)}observe(t){let h=iE(ZA(Xb(t)).map(p=>this._registerQuery(p).observable));return h=Ib(h.pipe(xo(1)),h.pipe(GA(1),QA(0))),h.pipe(mt(p=>{const m={matches:!1,breakpoints:{}};return p.forEach(({matches:_,query:E})=>{m.matches=m.matches||_,m.breakpoints[E]=_}),m}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const o=this._mediaMatcher.matchMedia(t),h={observable:new le(p=>{const m=_=>this._zone.run(()=>p.next(_));return o.addListener(m),()=>{o.removeListener(m)}}).pipe(Sv(o),mt(({matches:p})=>({query:t,matches:p})),ka(this._destroySubject)),mql:o};return this._queries.set(t,h),h}}return i.\u0275fac=function(t){return new(t||i)(re(mB),re(en))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function ZA(i){return i.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const Ov_Medium="(min-width: 960px) and (max-width: 1279.98px)",Ov_Large="(min-width: 1280px) and (max-width: 1919.98px)";let Pv=(()=>{class i{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function EB(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const o=function wB(i){try{return i.frameElement}catch{return null}}(function kB(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(t));if(o&&(-1===nM(o)||!this.isVisible(o)))return!1;let c=t.nodeName.toLowerCase(),h=nM(t);return t.hasAttribute("contenteditable")?-1!==h:!("iframe"===c||"object"===c||this._platform.WEBKIT&&this._platform.IOS&&!function AB(i){let e=i.nodeName.toLowerCase(),t="input"===e&&i.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===c?!!t.hasAttribute("controls")&&-1!==h:"video"===c?-1!==h&&(null!==h||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,o){return function MB(i){return!function DB(i){return function TB(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function CB(i){let e=i.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(i)||function SB(i){return function IB(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||tM(i))}(t)&&!this.isDisabled(t)&&(o?.ignoreVisibility||this.isVisible(t))}}return i.\u0275fac=function(t){return new(t||i)(re(Uu))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function tM(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let e=i.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function nM(i){if(!tM(i))return null;const e=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class RB{constructor(e,t,o,c,h=!1){this._element=e,this._checker=t,this._ngZone=o,this._document=c,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,h||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const o=this._getFirstTabbableElement(t);return o?.focus(e),!!o}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let o=0;o<t.length;o++){const c=t[o].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[o]):null;if(c)return c}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let o=t.length-1;o>=0;o--){const c=t[o].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[o]):null;if(c)return c}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(xo(1)).subscribe(e)}}let m_=(()=>{class i{constructor(t,o,c){this._checker=t,this._ngZone=o,this._document=c}create(t,o=!1){return new RB(t,this._checker,this._ngZone,this._document,o)}}return i.\u0275fac=function(t){return new(t||i)(re(Pv),re(en),re(tn))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function rM(i){return 0===i.buttons||0===i.offsetX&&0===i.offsetY}function iM(i){const e=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const xB=new je("cdk-input-modality-detector-options"),OB={ignoreKeys:[18,17,224,91,16]},Nv=LE({passive:!0,capture:!0});let PB=(()=>{class i{constructor(t,o,c,h){this._platform=t,this._mostRecentTarget=null,this._modality=new Vu(null),this._lastTouchMs=0,this._onKeydown=p=>{this._options?.ignoreKeys?.some(m=>m===p.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Kg(p))},this._onMousedown=p=>{Date.now()-this._lastTouchMs<650||(this._modality.next(rM(p)?"keyboard":"mouse"),this._mostRecentTarget=Kg(p))},this._onTouchstart=p=>{iM(p)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Kg(p))},this._options={...OB,...h},this.modalityDetected=this._modality.pipe(GA(1)),this.modalityChanged=this.modalityDetected.pipe(WA()),t.isBrowser&&o.runOutsideAngular(()=>{c.addEventListener("keydown",this._onKeydown,Nv),c.addEventListener("mousedown",this._onMousedown,Nv),c.addEventListener("touchstart",this._onTouchstart,Nv)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Nv),document.removeEventListener("mousedown",this._onMousedown,Nv),document.removeEventListener("touchstart",this._onTouchstart,Nv))}}return i.\u0275fac=function(t){return new(t||i)(re(Uu),re(en),re(tn),re(xB,8))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const FB=new je("cdk-focus-monitor-default-options"),Jb=LE({passive:!0,capture:!0});let Fv=(()=>{class i{constructor(t,o,c,h,p){this._ngZone=t,this._platform=o,this._inputModalityDetector=c,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Se,this._rootNodeFocusAndBlurListener=m=>{const _=Kg(m),E="focus"===m.type?this._onFocus:this._onBlur;for(let S=_;S;S=S.parentElement)E.call(this,m,S)},this._document=h,this._detectionMode=p?.detectionMode||0}monitor(t,o=!1){const c=Rv(t);if(!this._platform.isBrowser||1!==c.nodeType)return At(null);const h=function iB(i){if(function rB(){if(null==BE){const i=typeof document<"u"?document.head:null;BE=!(!i||!i.createShadowRoot&&!i.attachShadow)}return BE}()){const e=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(c)||this._getDocument(),p=this._elementInfo.get(c);if(p)return o&&(p.checkChildren=!0),p.subject;const m={checkChildren:o,subject:new Se,rootNode:h};return this._elementInfo.set(c,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(t){const o=Rv(t),c=this._elementInfo.get(o);c&&(c.subject.complete(),this._setClasses(o),this._elementInfo.delete(o),this._removeGlobalListeners(c))}focusVia(t,o,c){const h=Rv(t);h===this._getDocument().activeElement?this._getClosestElementsInfo(h).forEach(([m,_])=>this._originChanged(m,o,_)):(this._setOrigin(o),"function"==typeof h.focus&&h.focus(c))}ngOnDestroy(){this._elementInfo.forEach((t,o)=>this.stopMonitoring(o))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,o){t.classList.toggle("cdk-focused",!!o),t.classList.toggle("cdk-touch-focused","touch"===o),t.classList.toggle("cdk-keyboard-focused","keyboard"===o),t.classList.toggle("cdk-mouse-focused","mouse"===o),t.classList.toggle("cdk-program-focused","program"===o)}_setOrigin(t,o=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&o,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,o){const c=this._elementInfo.get(o),h=Kg(t);!c||!c.checkChildren&&o!==h||this._originChanged(o,this._getFocusOrigin(h),c)}_onBlur(t,o){const c=this._elementInfo.get(o);!c||c.checkChildren&&t.relatedTarget instanceof Node&&o.contains(t.relatedTarget)||(this._setClasses(o),this._emitOrigin(c,null))}_emitOrigin(t,o){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(o))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const o=t.rootNode,c=this._rootNodeFocusListenerCount.get(o)||0;c||this._ngZone.runOutsideAngular(()=>{o.addEventListener("focus",this._rootNodeFocusAndBlurListener,Jb),o.addEventListener("blur",this._rootNodeFocusAndBlurListener,Jb)}),this._rootNodeFocusListenerCount.set(o,c+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ka(this._stopInputModalityDetector)).subscribe(h=>{this._setOrigin(h,!0)}))}_removeGlobalListeners(t){const o=t.rootNode;if(this._rootNodeFocusListenerCount.has(o)){const c=this._rootNodeFocusListenerCount.get(o);c>1?this._rootNodeFocusListenerCount.set(o,c-1):(o.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Jb),o.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Jb),this._rootNodeFocusListenerCount.delete(o))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,o,c){this._setClasses(t,o),this._emitOrigin(c,o),this._lastFocusOrigin=o}_getClosestElementsInfo(t){const o=[];return this._elementInfo.forEach((c,h)=>{(h===t||c.checkChildren&&h.contains(t))&&o.push([h,c])}),o}}return i.\u0275fac=function(t){return new(t||i)(re(en),re(Uu),re(PB),re(tn,8),re(FB,8))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const sM="cdk-high-contrast-black-on-white",aM="cdk-high-contrast-white-on-black",$E="cdk-high-contrast-active";let uM=(()=>{class i{constructor(t,o){this._platform=t,this._document=o,this._breakpointSubscription=bi(qE).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const o=this._document.defaultView||window,c=o&&o.getComputedStyle?o.getComputedStyle(t):null,h=(c&&c.backgroundColor||"").replace(/ /g,"");switch(t.remove(),h){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove($E,sM,aM),this._hasCheckedHighContrastMode=!0;const o=this.getHighContrastMode();1===o?t.add($E,sM):2===o&&t.add($E,aM)}}}return i.\u0275fac=function(t){return new(t||i)(re(Uu),re(tn))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),LB=(()=>{class i{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return i.\u0275fac=function(t){return new(t||i)(re(uM))},i.\u0275mod=Nt({type:i}),i.\u0275inj=fn({imports:[fB]}),i})();const BB=new je("cdk-dir-doc",{providedIn:"root",factory:function VB(){return bi(tn)}}),jB=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let v_=(()=>{class i{constructor(t){if(this.value="ltr",this.change=new ui,t){const c=t.documentElement?t.documentElement.dir:null;this.value=function UB(i){const e=i?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?jB.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||c||"ltr")}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(t){return new(t||i)(re(BB,8))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),y_=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nt({type:i}),i.\u0275inj=fn({}),i})(),hM=(()=>{class i{}return i.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",i.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",i.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",i.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",i})(),dM=(()=>{class i{}return i.COMPLEX="375ms",i.ENTERING="225ms",i.EXITING="195ms",i})();const zB=new je("mat-sanity-checks",{providedIn:"root",factory:function HB(){return!0}});let _o=(()=>{class i{constructor(t,o,c){this._sanityChecks=o,this._document=c,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!jE()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return i.\u0275fac=function(t){return new(t||i)(re(uM),re(zB,8),re(tn))},i.\u0275mod=Nt({type:i}),i.\u0275inj=fn({imports:[y_,y_]}),i})();function qB(i){return class extends i{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Gc(e)}}}function fM(i,e){return class extends i{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const o=t||this.defaultColor;o!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),o&&this._elementRef.nativeElement.classList.add(`mat-${o}`),this._color=o)}}}function $B(i){return class extends i{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Gc(e)}}}class WB{constructor(e,t,o,c=!1){this._renderer=e,this.element=t,this.config=o,this._animationForciblyDisabledThroughCss=c,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const pM={enterDuration:225,exitDuration:150},GE=LE({passive:!0}),gM=["mousedown","touchstart"],mM=["mouseup","mouseleave","touchend","touchcancel"];class YB{constructor(e,t,o,c){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,c.isBrowser&&(this._containerElement=Rv(o))}fadeInRipple(e,t,o={}){const c=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),h={...pM,...o.animation};o.centered&&(e=c.left+c.width/2,t=c.top+c.height/2);const p=o.radius||function QB(i,e,t){const o=Math.max(Math.abs(i-t.left),Math.abs(i-t.right)),c=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(o*o+c*c)}(e,t,c),m=e-c.left,_=t-c.top,E=h.enterDuration,S=document.createElement("div");S.classList.add("mat-ripple-element"),S.style.left=m-p+"px",S.style.top=_-p+"px",S.style.height=2*p+"px",S.style.width=2*p+"px",null!=o.color&&(S.style.backgroundColor=o.color),S.style.transitionDuration=`${E}ms`,this._containerElement.appendChild(S);const R=window.getComputedStyle(S),B=R.transitionDuration,q="none"===R.transitionProperty||"0s"===B||"0s, 0s"===B,Y=new WB(this,S,o,q);S.style.transform="scale3d(1, 1, 1)",Y.state=0,o.persistent||(this._mostRecentTransientRipple=Y);let ce=null;return!q&&(E||h.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const fe=()=>this._finishRippleTransition(Y),xe=()=>this._destroyRipple(Y);S.addEventListener("transitionend",fe),S.addEventListener("transitioncancel",xe),ce={onTransitionEnd:fe,onTransitionCancel:xe}}),this._activeRipples.set(Y,ce),(q||!E)&&this._finishRippleTransition(Y),Y}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,o={...pM,...e.config.animation};t.style.transitionDuration=`${o.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!o.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Rv(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(gM))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(mM),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:o}=e.config;e.state=1,!o&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=rM(e),o=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!o&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!iM(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let o=0;o<t.length;o++)this.fadeInRipple(t[o].clientX,t[o].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,GE)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(gM.forEach(e=>{this._triggerElement.removeEventListener(e,this,GE)}),this._pointerUpEventsRegistered&&mM.forEach(e=>{this._triggerElement.removeEventListener(e,this,GE)}))}}const XB=new je("mat-ripple-global-options");let vM=(()=>{class i{constructor(t,o,c,h,p){this._elementRef=t,this._animationMode=p,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=h||{},this._rippleRenderer=new YB(this,o,t,c)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,o=0,c){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,o,{...this.rippleConfig,...c}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return i.\u0275fac=function(t){return new(t||i)(ie(Gr),ie(en),ie(Uu),ie(XB,8),ie(ip,8))},i.\u0275dir=Rt({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,o){2&t&&gs("mat-ripple-unbounded",o.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),i})(),ZB=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nt({type:i}),i.\u0275inj=fn({imports:[_o,_o]}),i})();const JB=["mat-button",""],eV=["*"],nV=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],rV=fM(qB($B(class{constructor(i){this._elementRef=i}})));let hp=(()=>{class i extends rV{constructor(t,o,c){super(t),this._focusMonitor=o,this._animationMode=c,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const h of nV)this._hasHostAttributes(h)&&this._getHostElement().classList.add(h);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,o){t?this._focusMonitor.focusVia(this._getHostElement(),t,o):this._getHostElement().focus(o)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(o=>this._getHostElement().hasAttribute(o))}}return i.\u0275fac=function(t){return new(t||i)(ie(Gr),ie(Fv),ie(ip,8))},i.\u0275cmp=ve({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,o){if(1&t&&vv(vM,5),2&t){let c;Nu(c=Fu())&&(o.ripple=c.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,o){2&t&&(Vc("disabled",o.disabled||null),gs("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-button-disabled",o.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ia],attrs:JB,ngContentSelectors:eV,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,o){1&t&&(jc(),Be(0,"span",0),vo(1),qe(),Vi(2,"span",1)(3,"span",2)),2&t&&(Xn(2),gs("mat-button-ripple-round",o.isRoundButton||o.isIconButton),si("matRippleDisabled",o._isRippleDisabled())("matRippleCentered",o.isIconButton)("matRippleTrigger",o._getHostElement()))},dependencies:[vM],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}"],encapsulation:2,changeDetection:0}),i})(),iV=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nt({type:i}),i.\u0275inj=fn({imports:[ZB,_o,_o]}),i})(),oV=(()=>{class i{constructor(t){this.router=t,this.auth=new d_}ngOnInit(){this.auth.isSignedIn()&&!this.auth?.getAuth()?.currentUser?.emailVerified?this.auth.sendVerificationEmail():this.router.navigate([""])}onResendClick(){this.auth.sendVerificationEmail()}}return i.\u0275fac=function(t){return new(t||i)(ie(yo))},i.\u0275cmp=ve({type:i,selectors:[["app-email-verification"]],decls:7,vars:0,consts:[["id","email-verification"],["mat-flat-button","","color","warn",3,"click"]],template:function(t,o){1&t&&(Be(0,"div",0)(1,"h1"),wt(2,"La tua email non \xe8 verificata!"),qe(),Be(3,"h3"),wt(4,"dopo la conferma sarai loggato"),qe(),Be(5,"button",1),$r("click",function(){return o.onResendClick()}),wt(6,"Invia link di conferma"),qe()())},dependencies:[hp],styles:["#email-verification[_ngcontent-%COMP%]{text-align:center;margin-top:8em}"]}),i})();Wt(361);class Lv{constructor(){this.listeners=new Map}appendArray(e){return Ma._getFirestore().FieldValue.arrayUnion(e)}increment(e){return Ma._getFirestore().FieldValue.increment(e)}genDocId(){return Ma.getFirestore().collection("TEMP").doc().id}all(e){const t=Ma.getFirestore().batch();for(let o of e.operations)o.getOperation(t);return new Promise((o,c)=>{t.commit().then(()=>{try{e.onComplete()}catch{}o()}).catch(h=>{try{e.onFail(h)}catch{}c(h)})})}create(e){return new Promise((t,o)=>{if(null==e.data||null==e.data)throw new Error("Error creating data. Data is null or undefined.");if(this.isCollectionPath(e.path)){let c=this.genCollectionReference(e.path).doc();c.set(e.data).then(()=>{try{e.onComplete(c.id)}catch{}t(c.id)}).catch(h=>{try{e.onFail(h)}catch{}o(h)})}else if(this.isDocumentPath(e.path)){let c=this.genDocumentReference(e.path);c.set(e.data).then(()=>{try{e.onComplete(c.id)}catch{}t(c.id)}).catch(h=>{try{e.onFail(h)}catch{}o(h)})}})}delete(e){return new Promise((t,o)=>{this.checkDocumentPathValidity(e.path),this.genDocumentReference(e.path).delete().then(()=>{try{e.onComplete()}catch{}t()}).catch(c=>{try{e.onFail(c)}catch{}o(c)})})}update(e){return new Promise((t,o)=>{this.checkDocumentPathValidity(e.path);const c=this.genDocumentReference(e.path);c.update(e.data).then(()=>{try{e.onComplete(c)}catch{}t(c)}).catch(h=>{try{e.onFail(h)}catch{}o(h)})})}getCollection(e){let t=this.genCollectionReference(e.path);return new Promise((null!=e.where||null!=e.where)&&e.where.length>0?(o,c)=>{let h;const p=Array(e.where)[0];for(let m=0;m<p.length;m++)h=null==h?p[m].getQuery(t):p[m].concatQuery(h);h.get().then(m=>{try{e.onComplete(m)}catch{}o(m)}).catch(m=>{try{e.onFail(m)}catch{}c(m)})}:(o,c)=>{t.get().then(h=>{try{e.onComplete(h)}catch{}o(h)}).catch(h=>{try{e.onFail(h)}catch{}c(h)})})}getDocument(e){return new Promise((t,o)=>{this.genDocumentReference(e.path).get().then(c=>{try{e.onComplete(c)}catch{}t(c)}).catch(c=>{try{e.onFail(c)}catch{}o(c)})})}listenToDocument(e){this.validateListenerName(e.name),this.addListener(e.name,this.genDocumentReference(e.path).onSnapshot(t=>{try{e.onUpdate(t)}catch{}}))}listenToCollection(e){this.validateListenerName(e.name);let t=this.genCollectionReference(e.path);if((null!=e.where||null!=e.where)&&e.where.length>0){let o;const c=Array(e.where)[0];for(let h=0;h<c.length;h++)o=null==o?c[h].getQuery(t):c[h].concatQuery(o);this.addListener(e.name,o.onSnapshot(h=>{try{e.onUpdate(h)}catch{}}))}else this.addListener(e.name,t.onSnapshot(o=>{try{e.onUpdate(o)}catch{}}))}genCollectionReference(e){this.checkCollectionPathValidity(e);const t=Array(e)[0];let o,c;for(let h=0;h<t.length;h++)h%2==0?o=null==o?Ma.getFirestore().collection(t[h]):c.collection(t[h]):c=o.doc(t[h]);return o}genDocumentReference(e){this.checkDocumentPathValidity(e);const t=Array(e)[0];let o,c;for(let h=0;h<t.length;h++)h%2==0?o=null==o?Ma.getFirestore().collection(t[h]):c.collection(t[h]):c=o.doc(t[h]);return c}addListener(e,t){return this.listeners.set(e,t),t}stopListeningTo(e){try{this.listeners.get(e)(),this.listeners.delete(e)}catch{}}stopListeningToAll(){this.listeners.forEach((e,t,o)=>{this.stopListeningTo(t)})}validateListenerName(e){if(null==e||null==e||"string"!=typeof e||e.trim().length<=0)throw"Listener name cannot be empty.";if(null!=this.listeners.get(e))throw`Listener name: ${e} is already taken.`}checkCollectionPathValidity(e){if(null==e||null==e||e.length<=0||!this.isCollectionPath(e))throw"Not a valid path to a collection."}isCollectionPath(e){return Array(e)[0].length%2==1}checkDocumentPathValidity(e){if(null==e||null==e||e.length<=0||!this.isDocumentPath(e))throw"Not a valid path to a document."}isDocumentPath(e){return Array(e)[0].length%2==0}}class yM{constructor(e,t){this.field=e,this.direction=t}getQuery(e){return e.orderBy(this.field,this.direction)}concatQuery(e){return e.orderBy(this.field,this.direction)}}class sV{constructor(e){this.limit=e}getQuery(e){return e.limit(this.limit)}concatQuery(e){return e.limit(this.limit)}}Wt(589);class aV{constructor(){this.listeners=new Map}downloadToLocalStorage(e){return new Promise((t,o)=>{if(e instanceof Array)this.getDownloadUrl({path:e,onComplete:c=>{t(c),window.open(c,"Download")},onFail:c=>{o(c)}});else try{window.open(e,"Download"),t()}catch(c){o(c)}})}upload(e){return new Promise((t,o)=>{let c=null,h=this.genStorageRef(e.path);c=null==e.data.metadata||null==e.data.metadata?h.put(e.data.data):h.put(e.data.data,e.data.metadata),c.on("state_changed",p=>{try{e.onUpload(p)}catch{}},p=>{o(p);try{e.onFail(p)}catch{}},()=>{h.getDownloadURL().then(p=>{t(p);try{e.onComplete(p)}catch{}})}),this.listeners.set(e.uploadName,c)})}deleteWithUrl(e){return new Promise((t,o)=>{Ma.getStorage().refFromURL(e.url).delete().then(()=>{t();try{e.onComplete()}catch{}}).catch(h=>{o(h);try{e.onFail(h)}catch{}})})}delete(e){return new Promise((t,o)=>{this.genStorageRef(e.path).delete().then(()=>{t();try{e.onComplete()}catch{}}).catch(h=>{o(h);try{e.onFail(h)}catch{}})})}getDownloadUrl(e){return new Promise((t,o)=>{const c=this.genStorageRef(e.path);try{c.getDownloadURL().then(h=>{t(h);try{e.onComplete(h)}catch{}})}catch(h){o(h);try{e.onFail(h)}catch{}}})}genStorageRef(e){let t=Ma.getStorage().ref();for(let o=0;o<e.length;o++)t=t.child(e[o]);return t}}const uV=["addListener","removeListener"],cV=["addEventListener","removeEventListener"],lV=["on","off"];function b_(i,e,t,o){if(pe(t)&&(o=t,t=void 0),o)return b_(i,e,t).pipe(rE(o));const[c,h]=function fV(i){return pe(i.addEventListener)&&pe(i.removeEventListener)}(i)?cV.map(p=>m=>i[p](e,m,t)):function hV(i){return pe(i.addListener)&&pe(i.removeListener)}(i)?uV.map(_M(i,e)):function dV(i){return pe(i.on)&&pe(i.off)}(i)?lV.map(_M(i,e)):[];if(!c&&Wo(i))return Tt(p=>b_(p,e,t))(yn(i));if(!c)throw new TypeError("Invalid event target");return new le(p=>{const m=(..._)=>p.next(1<_.length?_:_[0]);return c(m),()=>h(m)})}function _M(i,e){return t=>o=>i[t](e,o)}const w_={schedule(i){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:o}=w_;o&&(e=o.requestAnimationFrame,t=o.cancelAnimationFrame);const c=e(h=>{t=void 0,i(h)});return new zt(()=>t?.(c))},requestAnimationFrame(...i){const{delegate:e}=w_;return(e?.requestAnimationFrame||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:e}=w_;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...i)},delegate:void 0};new class gV extends HE{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:o}=this;let c;e=e||o.shift();do{if(c=e.execute(e.state,e.delay))break}while((e=o[0])&&e.id===t&&o.shift());if(this._active=!1,c){for(;(e=o[0])&&e.id===t&&o.shift();)e.unsubscribe();throw c}}}(class pV extends UE{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,o=0){return null!==o&&o>0?super.requestAsyncId(e,t,o):(e.actions.push(this),e._scheduled||(e._scheduled=w_.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,o=0){if(null!=o&&o>0||null==o&&this.delay>0)return super.recycleAsyncId(e,t,o);e.actions.some(c=>c.id===t)||(w_.cancelAnimationFrame(t),e._scheduled=void 0)}});let WE,vV=1;const ew={};function bM(i){return i in ew&&(delete ew[i],!0)}const yV={setImmediate(i){const e=vV++;return ew[e]=!0,WE||(WE=Promise.resolve()),WE.then(()=>bM(e)&&i()),e},clearImmediate(i){bM(i)}},{setImmediate:_V,clearImmediate:bV}=yV,tw={setImmediate(...i){const{delegate:e}=tw;return(e?.setImmediate||_V)(...i)},clearImmediate(i){const{delegate:e}=tw;return(e?.clearImmediate||bV)(i)},delegate:void 0};new class EV extends HE{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:o}=this;let c;e=e||o.shift();do{if(c=e.execute(e.state,e.delay))break}while((e=o[0])&&e.id===t&&o.shift());if(this._active=!1,c){for(;(e=o[0])&&e.id===t&&o.shift();)e.unsubscribe();throw c}}}(class wV extends UE{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,o=0){return null!==o&&o>0?super.requestAsyncId(e,t,o):(e.actions.push(this),e._scheduled||(e._scheduled=tw.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,o=0){if(null!=o&&o>0||null==o&&this.delay>0)return super.recycleAsyncId(e,t,o);e.actions.some(c=>c.id===t)||(tw.clearImmediate(t),e._scheduled=void 0)}});function wM(i,e=zE){return function DV(i){return gt((e,t)=>{let o=!1,c=null,h=null,p=!1;const m=()=>{if(h?.unsubscribe(),h=null,o){o=!1;const E=c;c=null,t.next(E)}p&&t.complete()},_=()=>{h=null,p&&t.complete()};e.subscribe(rt(t,E=>{o=!0,c=E,h||yn(i(E)).subscribe(h=rt(t,m,_))},()=>{p=!0,(!o||!h||h.closed)&&t.complete()}))})}(()=>function TV(i=0,e,t=gB){let o=-1;return null!=e&&(Ln(e)?t=e:o=e),new le(c=>{let h=function SV(i){return i instanceof Date&&!isNaN(i)}(i)?+i-t.now():i;h<0&&(h=0);let p=0;return t.schedule(function(){c.closed||(c.next(p++),0<=o?this.schedule(void 0,o):c.complete())},h)})}(i,e))}let nw=(()=>{class i{constructor(t,o,c){this._ngZone=t,this._platform=o,this._scrolled=new Se,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=c}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const o=this.scrollContainers.get(t);o&&(o.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new le(o=>{this._globalSubscription||this._addGlobalListener();const c=t>0?this._scrolled.pipe(wM(t)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{c.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):At()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(t,o){const c=this.getAncestorScrollContainers(t);return this.scrolled(o).pipe(Tr(h=>!h||c.indexOf(h)>-1))}getAncestorScrollContainers(t){const o=[];return this.scrollContainers.forEach((c,h)=>{this._scrollableContainsElement(h,t)&&o.push(h)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,o){let c=Rv(o),h=t.getElementRef().nativeElement;do{if(c==h)return!0}while(c=c.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>b_(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(t){return new(t||i)(re(en),re(Uu),re(tn,8))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),E_=(()=>{class i{constructor(t,o,c,h){this.elementRef=t,this.scrollDispatcher=o,this.ngZone=c,this.dir=h,this._destroyed=new Se,this._elementScrolled=new le(p=>this.ngZone.runOutsideAngular(()=>b_(this.elementRef.nativeElement,"scroll").pipe(ka(this._destroyed)).subscribe(p)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const o=this.elementRef.nativeElement,c=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=c?t.end:t.start),null==t.right&&(t.right=c?t.start:t.end),null!=t.bottom&&(t.top=o.scrollHeight-o.clientHeight-t.bottom),c&&0!=p_()?(null!=t.left&&(t.right=o.scrollWidth-o.clientWidth-t.left),2==p_()?t.left=t.right:1==p_()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=o.scrollWidth-o.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const o=this.elementRef.nativeElement;$A()?o.scrollTo(t):(null!=t.top&&(o.scrollTop=t.top),null!=t.left&&(o.scrollLeft=t.left))}measureScrollOffset(t){const o="left",c="right",h=this.elementRef.nativeElement;if("top"==t)return h.scrollTop;if("bottom"==t)return h.scrollHeight-h.clientHeight-h.scrollTop;const p=this.dir&&"rtl"==this.dir.value;return"start"==t?t=p?c:o:"end"==t&&(t=p?o:c),p&&2==p_()?t==o?h.scrollWidth-h.clientWidth-h.scrollLeft:h.scrollLeft:p&&1==p_()?t==o?h.scrollLeft+h.scrollWidth-h.clientWidth:-h.scrollLeft:t==o?h.scrollLeft:h.scrollWidth-h.clientWidth-h.scrollLeft}}return i.\u0275fac=function(t){return new(t||i)(ie(Gr),ie(nw),ie(en),ie(v_,8))},i.\u0275dir=Rt({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),i})(),KE=(()=>{class i{constructor(t,o,c){this._platform=t,this._change=new Se,this._changeListener=h=>{this._change.next(h)},this._document=c,o.runOutsideAngular(()=>{if(t.isBrowser){const h=this._getWindow();h.addEventListener("resize",this._changeListener),h.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:o,height:c}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+c,right:t.left+o,height:c,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,o=this._getWindow(),c=t.documentElement,h=c.getBoundingClientRect();return{top:-h.top||t.body.scrollTop||o.scrollY||c.scrollTop||0,left:-h.left||t.body.scrollLeft||o.scrollX||c.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(wM(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(t){return new(t||i)(re(Uu),re(en),re(tn,8))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),rw=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nt({type:i}),i.\u0275inj=fn({}),i})(),EM=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nt({type:i}),i.\u0275inj=fn({imports:[y_,rw,y_,rw]}),i})();class YE{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class QE extends YE{constructor(e,t,o,c){super(),this.component=e,this.viewContainerRef=t,this.injector=o,this.componentFactoryResolver=c}}class CM extends YE{constructor(e,t,o,c){super(),this.templateRef=e,this.viewContainerRef=t,this.context=o,this.injector=c}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class MV extends YE{constructor(e){super(),this.element=e instanceof Gr?e.nativeElement:e}}class XE{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof QE?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof CM?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof MV?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class kV extends XE{constructor(e,t,o,c,h){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=o,this._defaultInjector=c,this.attachDomPortal=p=>{const m=p.element,_=this._document.createComment("dom-portal");m.parentNode.insertBefore(_,m),this.outletElement.appendChild(m),this._attachedPortal=p,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(m,_)})},this._document=h}attachComponentPortal(e){const o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let c;return e.viewContainerRef?(c=e.viewContainerRef.createComponent(o,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>c.destroy())):(c=o.create(e.injector||this._defaultInjector||Jt.NULL),this._appRef.attachView(c.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(c.hostView),c.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(c)),this._attachedPortal=e,c}attachTemplatePortal(e){let t=e.viewContainerRef,o=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return o.rootNodes.forEach(c=>this.outletElement.appendChild(c)),o.detectChanges(),this.setDisposeFn(()=>{let c=t.indexOf(o);-1!==c&&t.remove(c)}),this._attachedPortal=e,o}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let iw=(()=>{class i extends XE{constructor(t,o,c){super(),this._componentFactoryResolver=t,this._viewContainerRef=o,this._isInitialized=!1,this.attached=new ui,this.attachDomPortal=h=>{const p=h.element,m=this._document.createComment("dom-portal");h.setAttachedHost(this),p.parentNode.insertBefore(m,p),this._getRootNode().appendChild(p),this._attachedPortal=h,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(p,m)})},this._document=c}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const o=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,h=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),p=o.createComponent(h,o.length,t.injector||o.injector);return o!==this._viewContainerRef&&this._getRootNode().appendChild(p.hostView.rootNodes[0]),super.setDisposeFn(()=>p.destroy()),this._attachedPortal=t,this._attachedRef=p,this.attached.emit(p),p}attachTemplatePortal(t){t.setAttachedHost(this);const o=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return i.\u0275fac=function(t){return new(t||i)(ie(Lg),ie(Pu),ie(tn))},i.\u0275dir=Rt({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ia]}),i})(),C_=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nt({type:i}),i.\u0275inj=fn({}),i})();const DM=$A();class RV{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Hi(-this._previousScrollPosition.left),e.style.top=Hi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,o=e.style,c=this._document.body.style,h=o.scrollBehavior||"",p=c.scrollBehavior||"";this._isEnabled=!1,o.left=this._previousHTMLStyles.left,o.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),DM&&(o.scrollBehavior=c.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),DM&&(o.scrollBehavior=h,c.scrollBehavior=p)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,o=this._viewportRuler.getViewportSize();return t.scrollHeight>o.height||t.scrollWidth>o.width}}class xV{constructor(e,t,o,c){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=o,this._config=c,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class SM{enable(){}disable(){}attach(){}}function ZE(i,e){return e.some(t=>i.bottom<t.top||i.top>t.bottom||i.right<t.left||i.left>t.right)}function TM(i,e){return e.some(t=>i.top<t.top||i.bottom>t.bottom||i.left<t.left||i.right>t.right)}class OV{constructor(e,t,o,c){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=o,this._config=c,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:o,height:c}=this._viewportRuler.getViewportSize();ZE(t,[{width:o,height:c,bottom:c,right:o,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let PV=(()=>{class i{constructor(t,o,c,h){this._scrollDispatcher=t,this._viewportRuler=o,this._ngZone=c,this.noop=()=>new SM,this.close=p=>new xV(this._scrollDispatcher,this._ngZone,this._viewportRuler,p),this.block=()=>new RV(this._viewportRuler,this._document),this.reposition=p=>new OV(this._scrollDispatcher,this._viewportRuler,this._ngZone,p),this._document=h}}return i.\u0275fac=function(t){return new(t||i)(re(nw),re(KE),re(en),re(tn))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class IM{constructor(e){if(this.scrollStrategy=new SM,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const o of t)void 0!==e[o]&&(this[o]=e[o])}}}class NV{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let AM=(()=>{class i{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const o=this._attachedOverlays.indexOf(t);o>-1&&this._attachedOverlays.splice(o,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(t){return new(t||i)(re(tn))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),FV=(()=>{class i extends AM{constructor(t,o){super(t),this._ngZone=o,this._keydownListener=c=>{const h=this._attachedOverlays;for(let p=h.length-1;p>-1;p--)if(h[p]._keydownEvents.observers.length>0){const m=h[p]._keydownEvents;this._ngZone?this._ngZone.run(()=>m.next(c)):m.next(c);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(t){return new(t||i)(re(tn),re(en,8))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),LV=(()=>{class i extends AM{constructor(t,o,c){super(t),this._platform=o,this._ngZone=c,this._cursorStyleIsSet=!1,this._pointerDownListener=h=>{this._pointerDownEventTarget=Kg(h)},this._clickListener=h=>{const p=Kg(h),m="click"===h.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:p;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let E=_.length-1;E>-1;E--){const S=_[E];if(S._outsidePointerEvents.observers.length<1||!S.hasAttached())continue;if(S.overlayElement.contains(p)||S.overlayElement.contains(m))break;const R=S._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>R.next(h)):R.next(h)}}}add(t){if(super.add(t),!this._isAttached){const o=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(o)):this._addEventListeners(o),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return i.\u0275fac=function(t){return new(t||i)(re(tn),re(Uu),re(en,8))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ow=(()=>{class i{constructor(t,o){this._platform=o,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||jE()){const c=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let h=0;h<c.length;h++)c[h].remove()}const o=this._document.createElement("div");o.classList.add(t),jE()?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}}return i.\u0275fac=function(t){return new(t||i)(re(tn),re(Uu))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class Bv{constructor(e,t,o,c,h,p,m,_,E,S=!1){this._portalOutlet=e,this._host=t,this._pane=o,this._config=c,this._ngZone=h,this._keyboardDispatcher=p,this._document=m,this._location=_,this._outsideClickDispatcher=E,this._animationsDisabled=S,this._backdropElement=null,this._backdropClick=new Se,this._attachments=new Se,this._detachments=new Se,this._locationChanges=zt.EMPTY,this._backdropClickHandler=R=>this._backdropClick.next(R),this._backdropTransitionendHandler=R=>{this._disposeBackdrop(R.target)},this._keydownEvents=new Se,this._outsidePointerEvents=new Se,c.scrollStrategy&&(this._scrollStrategy=c.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=c.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(xo(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Hi(this._config.width),e.height=Hi(this._config.height),e.minWidth=Hi(this._config.minWidth),e.minHeight=Hi(this._config.minHeight),e.maxWidth=Hi(this._config.maxWidth),e.maxHeight=Hi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,o){const c=Xb(t||[]).filter(h=>!!h);c.length&&(o?e.classList.add(...c):e.classList.remove(...c))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ka(Xr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const MM="cdk-overlay-connected-position-bounding-box",BV=/([A-Za-z%]+)$/;class VV{constructor(e,t,o,c,h){this._viewportRuler=t,this._document=o,this._platform=c,this._overlayContainer=h,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Se,this._resizeSubscription=zt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(MM),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,o=this._viewportRect,c=this._containerRect,h=[];let p;for(let m of this._preferredPositions){let _=this._getOriginPoint(e,c,m),E=this._getOverlayPoint(_,t,m),S=this._getOverlayFit(E,t,o,m);if(S.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(m,_);this._canFitWithFlexibleDimensions(S,E,o)?h.push({position:m,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,m)}):(!p||p.overlayFit.visibleArea<S.visibleArea)&&(p={overlayFit:S,overlayPoint:E,originPoint:_,position:m,overlayRect:t})}if(h.length){let m=null,_=-1;for(const E of h){const S=E.boundingBoxRect.width*E.boundingBoxRect.height*(E.position.weight||1);S>_&&(_=S,m=E)}return this._isPushed=!1,void this._applyPosition(m.position,m.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(p.position,p.originPoint);this._applyPosition(p.position,p.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Yg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(MM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,o){let c,h;if("center"==o.originX)c=e.left+e.width/2;else{const p=this._isRtl()?e.right:e.left,m=this._isRtl()?e.left:e.right;c="start"==o.originX?p:m}return t.left<0&&(c-=t.left),h="center"==o.originY?e.top+e.height/2:"top"==o.originY?e.top:e.bottom,t.top<0&&(h-=t.top),{x:c,y:h}}_getOverlayPoint(e,t,o){let c,h;return c="center"==o.overlayX?-t.width/2:"start"===o.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,h="center"==o.overlayY?-t.height/2:"top"==o.overlayY?0:-t.height,{x:e.x+c,y:e.y+h}}_getOverlayFit(e,t,o,c){const h=RM(t);let{x:p,y:m}=e,_=this._getOffset(c,"x"),E=this._getOffset(c,"y");_&&(p+=_),E&&(m+=E);let F=0-m,B=m+h.height-o.height,q=this._subtractOverflows(h.width,0-p,p+h.width-o.width),Y=this._subtractOverflows(h.height,F,B),ce=q*Y;return{visibleArea:ce,isCompletelyWithinViewport:h.width*h.height===ce,fitsInViewportVertically:Y===h.height,fitsInViewportHorizontally:q==h.width}}_canFitWithFlexibleDimensions(e,t,o){if(this._hasFlexibleDimensions){const c=o.bottom-t.y,h=o.right-t.x,p=kM(this._overlayRef.getConfig().minHeight),m=kM(this._overlayRef.getConfig().minWidth),E=e.fitsInViewportHorizontally||null!=m&&m<=h;return(e.fitsInViewportVertically||null!=p&&p<=c)&&E}return!1}_pushOverlayOnScreen(e,t,o){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const c=RM(t),h=this._viewportRect,p=Math.max(e.x+c.width-h.width,0),m=Math.max(e.y+c.height-h.height,0),_=Math.max(h.top-o.top-e.y,0),E=Math.max(h.left-o.left-e.x,0);let S=0,R=0;return S=c.width<=h.width?E||-p:e.x<this._viewportMargin?h.left-o.left-e.x:0,R=c.height<=h.height?_||-m:e.y<this._viewportMargin?h.top-o.top-e.y:0,this._previousPushAmount={x:S,y:R},{x:e.x+S,y:e.y+R}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const o=this._getScrollVisibility(),c=new NV(e,o);this._positionChanges.next(c)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let o,c=e.overlayY;o="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let h=0;h<t.length;h++)t[h].style.transformOrigin=`${o} ${c}`}_calculateBoundingBoxRect(e,t){const o=this._viewportRect,c=this._isRtl();let h,p,m,S,R,F;if("top"===t.overlayY)p=e.y,h=o.height-p+this._viewportMargin;else if("bottom"===t.overlayY)m=o.height-e.y+2*this._viewportMargin,h=o.height-m+this._viewportMargin;else{const B=Math.min(o.bottom-e.y+o.top,e.y),q=this._lastBoundingBoxSize.height;h=2*B,p=e.y-B,h>q&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.y-q/2)}if("end"===t.overlayX&&!c||"start"===t.overlayX&&c)F=o.width-e.x+this._viewportMargin,S=e.x-this._viewportMargin;else if("start"===t.overlayX&&!c||"end"===t.overlayX&&c)R=e.x,S=o.right-e.x;else{const B=Math.min(o.right-e.x+o.left,e.x),q=this._lastBoundingBoxSize.width;S=2*B,R=e.x-B,S>q&&!this._isInitialRender&&!this._growAfterOpen&&(R=e.x-q/2)}return{top:p,left:R,bottom:m,right:F,width:S,height:h}}_setBoundingBoxStyles(e,t){const o=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(o.height=Math.min(o.height,this._lastBoundingBoxSize.height),o.width=Math.min(o.width,this._lastBoundingBoxSize.width));const c={};if(this._hasExactPosition())c.top=c.left="0",c.bottom=c.right=c.maxHeight=c.maxWidth="",c.width=c.height="100%";else{const h=this._overlayRef.getConfig().maxHeight,p=this._overlayRef.getConfig().maxWidth;c.height=Hi(o.height),c.top=Hi(o.top),c.bottom=Hi(o.bottom),c.width=Hi(o.width),c.left=Hi(o.left),c.right=Hi(o.right),c.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",c.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",h&&(c.maxHeight=Hi(h)),p&&(c.maxWidth=Hi(p))}this._lastBoundingBoxSize=o,Yg(this._boundingBox.style,c)}_resetBoundingBoxStyles(){Yg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Yg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const o={},c=this._hasExactPosition(),h=this._hasFlexibleDimensions,p=this._overlayRef.getConfig();if(c){const S=this._viewportRuler.getViewportScrollPosition();Yg(o,this._getExactOverlayY(t,e,S)),Yg(o,this._getExactOverlayX(t,e,S))}else o.position="static";let m="",_=this._getOffset(t,"x"),E=this._getOffset(t,"y");_&&(m+=`translateX(${_}px) `),E&&(m+=`translateY(${E}px)`),o.transform=m.trim(),p.maxHeight&&(c?o.maxHeight=Hi(p.maxHeight):h&&(o.maxHeight="")),p.maxWidth&&(c?o.maxWidth=Hi(p.maxWidth):h&&(o.maxWidth="")),Yg(this._pane.style,o)}_getExactOverlayY(e,t,o){let c={top:"",bottom:""},h=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(h=this._pushOverlayOnScreen(h,this._overlayRect,o)),"bottom"===e.overlayY?c.bottom=this._document.documentElement.clientHeight-(h.y+this._overlayRect.height)+"px":c.top=Hi(h.y),c}_getExactOverlayX(e,t,o){let p,c={left:"",right:""},h=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(h=this._pushOverlayOnScreen(h,this._overlayRect,o)),p=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===p?c.right=this._document.documentElement.clientWidth-(h.x+this._overlayRect.width)+"px":c.left=Hi(h.x),c}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),o=this._scrollables.map(c=>c.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:TM(e,o),isOriginOutsideView:ZE(e,o),isOverlayClipped:TM(t,o),isOverlayOutsideView:ZE(t,o)}}_subtractOverflows(e,...t){return t.reduce((o,c)=>o-Math.max(c,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,o=this._viewportRuler.getViewportScrollPosition();return{top:o.top+this._viewportMargin,left:o.left+this._viewportMargin,right:o.left+e-this._viewportMargin,bottom:o.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Xb(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Gr)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,o=e.height||0;return{top:e.y,bottom:e.y+o,left:e.x,right:e.x+t,height:o,width:t}}}function Yg(i,e){for(let t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function kM(i){if("number"!=typeof i&&null!=i){const[e,t]=i.split(BV);return t&&"px"!==t?null:parseFloat(e)}return i||null}function RM(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const xM="cdk-global-overlay-wrapper";class jV{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(xM),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,o=this._overlayRef.getConfig(),{width:c,height:h,maxWidth:p,maxHeight:m}=o,_=!("100%"!==c&&"100vw"!==c||p&&"100%"!==p&&"100vw"!==p),E=!("100%"!==h&&"100vh"!==h||m&&"100%"!==m&&"100vh"!==m),S=this._xPosition,R=this._xOffset,F="rtl"===this._overlayRef.getConfig().direction;let B="",q="",Y="";_?Y="flex-start":"center"===S?(Y="center",F?q=R:B=R):F?"left"===S||"end"===S?(Y="flex-end",B=R):("right"===S||"start"===S)&&(Y="flex-start",q=R):"left"===S||"start"===S?(Y="flex-start",B=R):("right"===S||"end"===S)&&(Y="flex-end",q=R),e.position=this._cssPosition,e.marginLeft=_?"0":B,e.marginTop=E?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=_?"0":q,t.justifyContent=Y,t.alignItems=E?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,o=t.style;t.classList.remove(xM),o.justifyContent=o.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let UV=(()=>{class i{constructor(t,o,c,h){this._viewportRuler=t,this._document=o,this._platform=c,this._overlayContainer=h}global(){return new jV}flexibleConnectedTo(t){return new VV(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(t){return new(t||i)(re(KE),re(tn),re(Uu),re(ow))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),HV=0,Qg=(()=>{class i{constructor(t,o,c,h,p,m,_,E,S,R,F,B){this.scrollStrategies=t,this._overlayContainer=o,this._componentFactoryResolver=c,this._positionBuilder=h,this._keyboardDispatcher=p,this._injector=m,this._ngZone=_,this._document=E,this._directionality=S,this._location=R,this._outsideClickDispatcher=F,this._animationsModuleType=B}create(t){const o=this._createHostElement(),c=this._createPaneElement(o),h=this._createPortalOutlet(c),p=new IM(t);return p.direction=p.direction||this._directionality.value,new Bv(h,o,c,p,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const o=this._document.createElement("div");return o.id="cdk-overlay-"+HV++,o.classList.add("cdk-overlay-pane"),t.appendChild(o),o}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(wv)),new kV(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(t){return new(t||i)(re(PV),re(ow),re(Lg),re(UV),re(FV),re(Jt),re(en),re(tn),re(v_),re(Qy),re(LV),re(ip,8))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac}),i})();const $V={provide:new je("cdk-connected-overlay-scroll-strategy"),deps:[Qg],useFactory:function qV(i){return()=>i.scrollStrategies.reposition()}};let OM=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nt({type:i}),i.\u0275inj=fn({providers:[Qg,$V],imports:[y_,C_,EM,EM]}),i})();function GV(i,e){}class D_{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let JE=(()=>{class i extends XE{constructor(t,o,c,h,p,m,_,E){super(),this._elementRef=t,this._focusTrapFactory=o,this._config=h,this._interactivityChecker=p,this._ngZone=m,this._overlayRef=_,this._focusMonitor=E,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=S=>{this._portalOutlet.hasAttached();const R=this._portalOutlet.attachDomPortal(S);return this._contentAttached(),R},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=c}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const o=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),o}attachTemplatePortal(t){this._portalOutlet.hasAttached();const o=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),o}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,o){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const c=()=>{t.removeEventListener("blur",c),t.removeEventListener("mousedown",c),t.removeAttribute("tabindex")};t.addEventListener("blur",c),t.addEventListener("mousedown",c)})),t.focus(o)}_focusByCssSelector(t,o){let c=this._elementRef.nativeElement.querySelector(t);c&&this._forceFocus(c,o)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(o=>{o||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let o=null;if("string"==typeof t?o=this._document.querySelector(t):"boolean"==typeof t?o=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(o=t),this._config.restoreFocus&&o&&"function"==typeof o.focus){const c=VE(),h=this._elementRef.nativeElement;(!c||c===this._document.body||c===h||h.contains(c))&&(this._focusMonitor?(this._focusMonitor.focusVia(o,this._closeInteractionType),this._closeInteractionType=null):o.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,o=VE();return t===o||t.contains(o)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=VE())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return i.\u0275fac=function(t){return new(t||i)(ie(Gr),ie(m_),ie(tn,8),ie(D_),ie(Pv),ie(en),ie(Bv),ie(Fv))},i.\u0275cmp=ve({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(t,o){if(1&t&&vv(iw,7),2&t){let c;Nu(c=Fu())&&(o._portalOutlet=c.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,o){2&t&&Vc("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledBy)("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},features:[Ia],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,o){1&t&&mo(0,GV,0,0,"ng-template",0)},dependencies:[iw],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),i})();class eC{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Se,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(o=>{27===o.keyCode&&!this.disableClose&&!Qb(o)&&(o.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const o=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this.overlayRef.dispose(),o.next(e),o.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const PM=new je("DialogScrollStrategy"),WV=new je("DialogData"),KV=new je("DefaultDialogConfig"),QV={provide:PM,deps:[Qg],useFactory:function YV(i){return()=>i.scrollStrategies.block()}};let XV=0,tC=(()=>{class i{constructor(t,o,c,h,p,m){this._overlay=t,this._injector=o,this._defaultOptions=c,this._parentDialog=h,this._overlayContainer=p,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Se,this._afterOpenedAtThisLevel=new Se,this._ariaHiddenElements=new Map,this.afterAllClosed=Ab(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Sv(void 0))),this._scrollStrategy=m}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(t,o){(o={...this._defaultOptions||new D_,...o}).id=o.id||"cdk-dialog-"+XV++,o.id&&this.getDialogById(o.id);const h=this._getOverlayConfig(o),p=this._overlay.create(h),m=new eC(p,o),_=this._attachContainer(p,m,o);return m.containerInstance=_,this._attachDialogContent(t,m,_,o),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(m),m.closed.subscribe(()=>this._removeOpenDialog(m,!0)),this.afterOpened.next(m),m}closeAll(){nC(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(o=>o.id===t)}ngOnDestroy(){nC(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),nC(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const o=new IM({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(o.backdropClass=t.backdropClass),o}_attachContainer(t,o,c){const h=c.injector??c.viewContainerRef?.injector,p=[{provide:D_,useValue:c},{provide:eC,useValue:o},{provide:Bv,useValue:t}];let m;c.container?"function"==typeof c.container?m=c.container:(m=c.container.type,p.push(...c.container.providers(c))):m=JE;const _=new QE(m,c.viewContainerRef,Jt.create({parent:h||this._injector,providers:p}),c.componentFactoryResolver);return t.attach(_).instance}_attachDialogContent(t,o,c,h){const p=this._createInjector(h,o,c);if(t instanceof dh){let m={$implicit:h.data,dialogRef:o};h.templateContext&&(m={...m,..."function"==typeof h.templateContext?h.templateContext():h.templateContext}),c.attachTemplatePortal(new CM(t,null,m,p))}else{const m=c.attachComponentPortal(new QE(t,h.viewContainerRef,p,h.componentFactoryResolver));o.componentInstance=m.instance}}_createInjector(t,o,c){const h=t&&t.viewContainerRef&&t.viewContainerRef.injector,p=[{provide:WV,useValue:t.data},{provide:eC,useValue:o}];return t.providers&&("function"==typeof t.providers?p.push(...t.providers(o,t,c)):p.push(...t.providers)),t.direction&&(!h||!h.get(v_,null,et.Optional))&&p.push({provide:v_,useValue:{value:t.direction,change:At()}}),Jt.create({parent:h||this._injector,providers:p})}_removeOpenDialog(t,o){const c=this.openDialogs.indexOf(t);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((h,p)=>{h?p.setAttribute("aria-hidden",h):p.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),o&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const o=t.parentElement.children;for(let c=o.length-1;c>-1;c--){const h=o[c];h!==t&&"SCRIPT"!==h.nodeName&&"STYLE"!==h.nodeName&&!h.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(h,h.getAttribute("aria-hidden")),h.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return i.\u0275fac=function(t){return new(t||i)(re(Qg),re(Jt),re(KV,8),re(i,12),re(ow),re(PM))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac}),i})();function nC(i,e){let t=i.length;for(;t--;)e(i[t])}let NM=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nt({type:i}),i.\u0275inj=fn({providers:[tC,QV],imports:[OM,C_,LB,C_]}),i})();class FM{}const xd="*";function rC(i,e){return{type:7,name:i,definitions:e,options:{}}}function Vv(i,e=null){return{type:4,styles:e,timings:i}}function sw(i,e=null){return{type:3,steps:i,options:e}}function LM(i,e=null){return{type:2,steps:i,options:e}}function gh(i){return{type:6,styles:i,offset:null}}function jv(i,e,t){return{type:0,name:i,styles:e,options:t}}function Uv(i,e,t=null){return{type:1,expr:i,animation:e,options:t}}function aw(i=null){return{type:9,options:i}}function uw(i,e,t=null){return{type:11,selector:i,animation:e,options:t}}function BM(i){Promise.resolve(null).then(i)}class S_{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){BM(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class VM{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,o=0,c=0;const h=this.players.length;0==h?BM(()=>this._onFinish()):this.players.forEach(p=>{p.onDone(()=>{++t==h&&this._onFinish()}),p.onDestroy(()=>{++o==h&&this._onDestroy()}),p.onStart(()=>{++c==h&&this._onStart()})}),this.totalTime=this.players.reduce((p,m)=>Math.max(p,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(o=>{const c=o.totalTime?Math.min(1,t/o.totalTime):1;o.setPosition(c)})}getPosition(){const e=this.players.reduce((t,o)=>null===t||o.totalTime>t.totalTime?o:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}function JV(i,e){}const Hv={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},ej={dialogContainer:rC("dialogContainer",[jv("void, exit",gh({opacity:0,transform:"scale(0.7)"})),jv("enter",gh({transform:"none"})),Uv("* => enter",sw([Vv("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",gh({transform:"none",opacity:1})),uw("@*",aw(),{optional:!0})]),Hv),Uv("* => void, * => exit",sw([Vv("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",gh({opacity:0})),uw("@*",aw(),{optional:!0})]),Hv)])};class cw{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Hv.params.enterAnimationDuration,this.exitAnimationDuration=Hv.params.exitAnimationDuration}}let tj=(()=>{class i extends JE{constructor(t,o,c,h,p,m,_,E){super(t,o,c,h,p,m,_,E),this._animationStateChanged=new ui}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return i.\u0275fac=function(t){return new(t||i)(ie(Gr),ie(m_),ie(tn,8),ie(cw),ie(Pv),ie(en),ie(Bv),ie(Fv))},i.\u0275cmp=ve({type:i,selectors:[["ng-component"]],features:[Ia],decls:0,vars:0,template:function(t,o){},encapsulation:2}),i})(),nj=(()=>{class i extends tj{constructor(t,o,c,h,p,m,_,E,S){super(t,o,c,h,p,m,_,S),this._changeDetectorRef=E,this._state="enter"}_onAnimationDone({toState:t,totalTime:o}){"enter"===t?this._openAnimationDone(o):"exit"===t&&this._animationStateChanged.next({state:"closed",totalTime:o})}_onAnimationStart({toState:t,totalTime:o}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:o}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:o})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Hv.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Hv.params.exitAnimationDuration}}}}return i.\u0275fac=function(t){return new(t||i)(ie(Gr),ie(m_),ie(tn,8),ie(cw),ie(Pv),ie(en),ie(Bv),ie(sp),ie(Fv))},i.\u0275cmp=ve({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(t,o){1&t&&Py("@dialogContainer.start",function(h){return o._onAnimationStart(h)})("@dialogContainer.done",function(h){return o._onAnimationDone(h)}),2&t&&(Kw("id",o._config.id),Vc("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledBy)("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),Ly("@dialogContainer",o._getAnimationState()))},features:[Ia],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,o){1&t&&mo(0,JV,0,0,"ng-template",0)},dependencies:[iw],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[ej.dialogContainer]}}),i})();class jM{constructor(e,t,o){this._ref=e,this._containerInstance=o,this._afterOpened=new Se,this._beforeClosed=new Se,this._state=0,this.disableClose=t.disableClose,this.id=e.id,o._animationStateChanged.pipe(Tr(c=>"opened"===c.state),xo(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),o._animationStateChanged.pipe(Tr(c=>"closed"===c.state),xo(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Xr(this.backdropClick(),this.keydownEvents().pipe(Tr(c=>27===c.keyCode&&!this.disableClose&&!Qb(c)))).subscribe(c=>{this.disableClose||(c.preventDefault(),function rj(i,e,t){i._closeInteractionType=e,i.close(t)}(this,"keydown"===c.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Tr(t=>"closing"===t.state),xo(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const UM=new je("MatDialogData"),ij=new je("mat-dialog-default-options"),HM=new je("mat-dialog-scroll-strategy"),sj={provide:HM,deps:[Qg],useFactory:function oj(i){return()=>i.scrollStrategies.block()}};let aj=0,uj=(()=>{class i{constructor(t,o,c,h,p,m,_,E,S,R){this._overlay=t,this._defaultOptions=c,this._parentDialog=h,this._dialogRefConstructor=_,this._dialogContainerType=E,this._dialogDataToken=S,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Se,this._afterOpenedAtThisLevel=new Se,this._idPrefix="mat-dialog-",this.afterAllClosed=Ab(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Sv(void 0))),this._scrollStrategy=m,this._dialog=o.get(tC)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,o){let c;(o={...this._defaultOptions||new cw,...o}).id=o.id||`${this._idPrefix}${aj++}`,o.scrollStrategy=o.scrollStrategy||this._scrollStrategy();const h=this._dialog.open(t,{...o,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:cw,useValue:o},{provide:D_,useValue:o}]},templateContext:()=>({dialogRef:c}),providers:(p,m,_)=>(c=new this._dialogRefConstructor(p,o,_),c.updatePosition(o?.position),[{provide:this._dialogContainerType,useValue:_},{provide:this._dialogDataToken,useValue:m.data},{provide:this._dialogRefConstructor,useValue:c}])});return c.componentInstance=h.componentInstance,this.openDialogs.push(c),this.afterOpened.next(c),c.afterClosed().subscribe(()=>{const p=this.openDialogs.indexOf(c);p>-1&&(this.openDialogs.splice(p,1),this.openDialogs.length||this._getAfterAllClosed().next())}),c}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(o=>o.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let o=t.length;for(;o--;)t[o].close()}}return i.\u0275fac=function(t){Oc()},i.\u0275prov=Ne({token:i,factory:i.\u0275fac}),i})(),oC=(()=>{class i extends uj{constructor(t,o,c,h,p,m,_,E){super(t,o,h,m,_,p,jM,nj,UM,E)}}return i.\u0275fac=function(t){return new(t||i)(re(Qg),re(Jt),re(Qy,8),re(ij,8),re(HM),re(i,12),re(ow),re(ip,8))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac}),i})(),cj=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nt({type:i}),i.\u0275inj=fn({providers:[oC,sj],imports:[NM,OM,C_,_o,_o]}),i})();const lj=["*",[["mat-card-footer"]]],hj=["*","mat-card-footer"],dj=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],fj=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let pj=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Rt({type:i,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),i})(),sC=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Rt({type:i,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),i})(),gj=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Rt({type:i,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),i})(),aC=(()=>{class i{constructor(){this.align="start"}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Rt({type:i,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,o){2&t&&gs("mat-card-actions-align-end","end"===o.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),i})(),mj=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Rt({type:i,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),i})(),uC=(()=>{class i{constructor(t){this._animationMode=t}}return i.\u0275fac=function(t){return new(t||i)(ie(ip,8))},i.\u0275cmp=ve({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,o){2&t&&gs("_mat-animation-noopable","NoopAnimations"===o._animationMode)},exportAs:["matCard"],ngContentSelectors:hj,decls:2,vars:0,template:function(t,o){1&t&&(jc(lj),vo(0),vo(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),i})(),cC=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=ve({type:i,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:fj,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,o){1&t&&(jc(dj),vo(0),Be(1,"div",0),vo(2,1),qe(),vo(3,2))},encapsulation:2,changeDetection:0}),i})(),vj=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nt({type:i}),i.\u0275inj=fn({imports:[_o,_o]}),i})();class _j{}class dp{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const o=t.indexOf(":");if(o>0){const c=t.slice(0,o),h=c.toLowerCase(),p=t.slice(o+1).trim();this.maybeSetNormalizedName(c,h),this.headers.has(h)?this.headers.get(h).push(p):this.headers.set(h,[p])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let o=e[t];const c=t.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(c,o),this.maybeSetNormalizedName(t,c))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof dp?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new dp;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof dp?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let o=e.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(e.name,t);const c=("a"===e.op?this.headers.get(t):void 0)||[];c.push(...o),this.headers.set(t,c);break;case"d":const h=e.value;if(h){let p=this.headers.get(t);if(!p)return;p=p.filter(m=>-1===h.indexOf(m)),0===p.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,p)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class bj{encodeKey(e){return zM(e)}encodeValue(e){return zM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Ej=/%(\d[a-f0-9])/gi,Cj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function zM(i){return encodeURIComponent(i).replace(Ej,(e,t)=>Cj[t]??e)}function lw(i){return`${i}`}class fp{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new bj,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function wj(i,e){const t=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(c=>{const h=c.indexOf("="),[p,m]=-1==h?[e.decodeKey(c),""]:[e.decodeKey(c.slice(0,h)),e.decodeValue(c.slice(h+1))],_=t.get(p)||[];_.push(m),t.set(p,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const o=e.fromObject[t],c=Array.isArray(o)?o.map(lw):[lw(o)];this.map.set(t,c)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(o=>{const c=e[o];Array.isArray(c)?c.forEach(h=>{t.push({param:o,value:h,op:"a"})}):t.push({param:o,value:c,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(o=>t+"="+this.encoder.encodeValue(o)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new fp({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(lw(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let o=this.map.get(e.param)||[];const c=o.indexOf(lw(e.value));-1!==c&&o.splice(c,1),o.length>0?this.map.set(e.param,o):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Dj{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function qM(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function $M(i){return typeof Blob<"u"&&i instanceof Blob}function GM(i){return typeof FormData<"u"&&i instanceof FormData}class T_{constructor(e,t,o,c){let h;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Sj(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||c?(this.body=void 0!==o?o:null,h=c):h=o,h&&(this.reportProgress=!!h.reportProgress,this.withCredentials=!!h.withCredentials,h.responseType&&(this.responseType=h.responseType),h.headers&&(this.headers=h.headers),h.context&&(this.context=h.context),h.params&&(this.params=h.params)),this.headers||(this.headers=new dp),this.context||(this.context=new Dj),this.params){const p=this.params.toString();if(0===p.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+p}}else this.params=new fp,this.urlWithParams=t}serializeBody(){return null===this.body?null:qM(this.body)||$M(this.body)||GM(this.body)||function Tj(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof fp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||GM(this.body)?null:$M(this.body)?this.body.type||null:qM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,o=e.url||this.url,c=e.responseType||this.responseType,h=void 0!==e.body?e.body:this.body,p=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,m=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,E=e.params||this.params;const S=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((R,F)=>R.set(F,e.setHeaders[F]),_)),e.setParams&&(E=Object.keys(e.setParams).reduce((R,F)=>R.set(F,e.setParams[F]),E)),new T_(t,o,h,{params:E,headers:_,context:S,reportProgress:m,responseType:c,withCredentials:p})}}var Po=(()=>((Po=Po||{})[Po.Sent=0]="Sent",Po[Po.UploadProgress=1]="UploadProgress",Po[Po.ResponseHeader=2]="ResponseHeader",Po[Po.DownloadProgress=3]="DownloadProgress",Po[Po.Response=4]="Response",Po[Po.User=5]="User",Po))();class lC extends class Ij{constructor(e,t=200,o="OK"){this.headers=e.headers||new dp,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||o,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Po.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new lC({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function hC(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let KM=(()=>{class i{constructor(t){this.handler=t}request(t,o,c={}){let h;if(t instanceof T_)h=t;else{let _,E;_=c.headers instanceof dp?c.headers:new dp(c.headers),c.params&&(E=c.params instanceof fp?c.params:new fp({fromObject:c.params})),h=new T_(t,o,void 0!==c.body?c.body:null,{headers:_,context:c.context,params:E,reportProgress:c.reportProgress,responseType:c.responseType||"json",withCredentials:c.withCredentials})}const p=At(h).pipe(Tv(_=>this.handler.handle(_)));if(t instanceof T_||"events"===c.observe)return p;const m=p.pipe(Tr(_=>_ instanceof lC));switch(c.observe||"body"){case"body":switch(h.responseType){case"arraybuffer":return m.pipe(mt(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return m.pipe(mt(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return m.pipe(mt(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return m.pipe(mt(_=>_.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${c.observe}}`)}}delete(t,o={}){return this.request("DELETE",t,o)}get(t,o={}){return this.request("GET",t,o)}head(t,o={}){return this.request("HEAD",t,o)}jsonp(t,o){return this.request("JSONP",t,{params:(new fp).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,o={}){return this.request("OPTIONS",t,o)}patch(t,o,c={}){return this.request("PATCH",t,hC(c,o))}post(t,o,c={}){return this.request("POST",t,hC(c,o))}put(t,o,c={}){return this.request("PUT",t,hC(c,o))}}return i.\u0275fac=function(t){return new(t||i)(re(_j))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac}),i})();const Mj=["*"];let hw;function I_(i){return function kj(){if(void 0===hw&&(hw=null,typeof window<"u")){const i=window;void 0!==i.trustedTypes&&(hw=i.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return hw}()?.createHTML(i)||i}function YM(i){return Error(`Unable to find icon with the name "${i}"`)}function QM(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function XM(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class Xg{constructor(e,t,o){this.url=e,this.svgText=t,this.options=o}}let dw=(()=>{class i{constructor(t,o,c,h){this._httpClient=t,this._sanitizer=o,this._errorHandler=h,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons"],this._document=c}addSvgIcon(t,o,c){return this.addSvgIconInNamespace("",t,o,c)}addSvgIconLiteral(t,o,c){return this.addSvgIconLiteralInNamespace("",t,o,c)}addSvgIconInNamespace(t,o,c,h){return this._addSvgIconConfig(t,o,new Xg(c,null,h))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,o,c,h){const p=this._sanitizer.sanitize(pn.HTML,c);if(!p)throw XM(c);const m=I_(p);return this._addSvgIconConfig(t,o,new Xg("",m,h))}addSvgIconSet(t,o){return this.addSvgIconSetInNamespace("",t,o)}addSvgIconSetLiteral(t,o){return this.addSvgIconSetLiteralInNamespace("",t,o)}addSvgIconSetInNamespace(t,o,c){return this._addSvgIconSetConfig(t,new Xg(o,null,c))}addSvgIconSetLiteralInNamespace(t,o,c){const h=this._sanitizer.sanitize(pn.HTML,o);if(!h)throw XM(o);const p=I_(h);return this._addSvgIconSetConfig(t,new Xg("",p,c))}registerFontClassAlias(t,o=t){return this._fontCssClassesByAlias.set(t,o),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const o=this._sanitizer.sanitize(pn.RESOURCE_URL,t);if(!o)throw QM(t);const c=this._cachedIconsByUrl.get(o);return c?At(fw(c)):this._loadSvgIconFromConfig(new Xg(t,null)).pipe(ro(h=>this._cachedIconsByUrl.set(o,h)),mt(h=>fw(h)))}getNamedSvgIcon(t,o=""){const c=ZM(o,t);let h=this._svgIconConfigs.get(c);if(h)return this._getSvgFromConfig(h);if(h=this._getIconConfigFromResolvers(o,t),h)return this._svgIconConfigs.set(c,h),this._getSvgFromConfig(h);const p=this._iconSetConfigs.get(o);return p?this._getSvgFromIconSetConfigs(t,p):Dv(YM(c))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?At(fw(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(mt(o=>fw(o)))}_getSvgFromIconSetConfigs(t,o){const c=this._extractIconWithNameFromAnySet(t,o);return c?At(c):function yj(...i){const e=W(i),{args:t,keys:o}=PI(i),c=new le(h=>{const{length:p}=t;if(!p)return void h.complete();const m=new Array(p);let _=p,E=p;for(let S=0;S<p;S++){let R=!1;yn(t[S]).subscribe(rt(h,F=>{R||(R=!0,E--),m[S]=F},()=>_--,void 0,()=>{(!_||!R)&&(E||h.next(o?NI(o,m):m),h.complete())}))}});return e?c.pipe(rE(e)):c}(o.filter(p=>!p.svgText).map(p=>this._loadSvgIconSetFromConfig(p).pipe(cp(m=>{const E=`Loading icon set URL: ${this._sanitizer.sanitize(pn.RESOURCE_URL,p.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(E)),At(null)})))).pipe(mt(()=>{const p=this._extractIconWithNameFromAnySet(t,o);if(!p)throw YM(t);return p}))}_extractIconWithNameFromAnySet(t,o){for(let c=o.length-1;c>=0;c--){const h=o[c];if(h.svgText&&h.svgText.toString().indexOf(t)>-1){const p=this._svgElementFromConfig(h),m=this._extractSvgIconFromSet(p,t,h.options);if(m)return m}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(ro(o=>t.svgText=o),mt(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?At(null):this._fetchIcon(t).pipe(ro(o=>t.svgText=o))}_extractSvgIconFromSet(t,o,c){const h=t.querySelector(`[id="${o}"]`);if(!h)return null;const p=h.cloneNode(!0);if(p.removeAttribute("id"),"svg"===p.nodeName.toLowerCase())return this._setSvgAttributes(p,c);if("symbol"===p.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(p),c);const m=this._svgElementFromString(I_("<svg></svg>"));return m.appendChild(p),this._setSvgAttributes(m,c)}_svgElementFromString(t){const o=this._document.createElement("DIV");o.innerHTML=t;const c=o.querySelector("svg");if(!c)throw Error("<svg> tag not found");return c}_toSvgElement(t){const o=this._svgElementFromString(I_("<svg></svg>")),c=t.attributes;for(let h=0;h<c.length;h++){const{name:p,value:m}=c[h];"id"!==p&&o.setAttribute(p,m)}for(let h=0;h<t.childNodes.length;h++)t.childNodes[h].nodeType===this._document.ELEMENT_NODE&&o.appendChild(t.childNodes[h].cloneNode(!0));return o}_setSvgAttributes(t,o){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),o&&o.viewBox&&t.setAttribute("viewBox",o.viewBox),t}_fetchIcon(t){const{url:o,options:c}=t,h=c?.withCredentials??!1;if(!this._httpClient)throw function Rj(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const p=this._sanitizer.sanitize(pn.RESOURCE_URL,o);if(!p)throw QM(o);const m=this._inProgressUrlFetches.get(p);if(m)return m;const _=this._httpClient.get(p,{responseType:"text",withCredentials:h}).pipe(mt(E=>I_(E)),Mb(()=>this._inProgressUrlFetches.delete(p)),Ws());return this._inProgressUrlFetches.set(p,_),_}_addSvgIconConfig(t,o,c){return this._svgIconConfigs.set(ZM(t,o),c),this}_addSvgIconSetConfig(t,o){const c=this._iconSetConfigs.get(t);return c?c.push(o):this._iconSetConfigs.set(t,[o]),this}_svgElementFromConfig(t){if(!t.svgElement){const o=this._svgElementFromString(t.svgText);this._setSvgAttributes(o,t.options),t.svgElement=o}return t.svgElement}_getIconConfigFromResolvers(t,o){for(let c=0;c<this._resolvers.length;c++){const h=this._resolvers[c](o,t);if(h)return Oj(h)?new Xg(h.url,null,h.options):new Xg(h,null)}}}return i.\u0275fac=function(t){return new(t||i)(re(KM,8),re(nE),re(tn,8),re(Ni))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function fw(i){return i.cloneNode(!0)}function ZM(i,e){return i+":"+e}function Oj(i){return!(!i.url||!i.options)}const Pj=fM(class{constructor(i){this._elementRef=i}}),Nj=new je("MAT_ICON_DEFAULT_OPTIONS"),Fj=new je("mat-icon-location",{providedIn:"root",factory:function Lj(){const i=bi(tn),e=i?i.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),JM=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Bj=JM.map(i=>`[${i}]`).join(", "),Vj=/^url\(['"]?#(.*?)['"]?\)$/;let A_=(()=>{class i extends Pj{constructor(t,o,c,h,p,m){super(t),this._iconRegistry=o,this._location=h,this._errorHandler=p,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=zt.EMPTY,m&&(m.color&&(this.color=this.defaultColor=m.color),m.fontSet&&(this.fontSet=m.fontSet)),c||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Gc(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const o=this._cleanupFontValue(t);o!==this._fontSet&&(this._fontSet=o,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const o=this._cleanupFontValue(t);o!==this._fontIcon&&(this._fontIcon=o,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const o=t.split(":");switch(o.length){case 1:return["",o[0]];case 2:return o;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const o=this._location.getPathname();o!==this._previousPath&&(this._previousPath=o,this._prependPathToReferences(o))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let o=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();o--;){const c=t.childNodes[o];(1!==c.nodeType||"svg"===c.nodeName.toLowerCase())&&c.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,o=(this.fontSet?[this._iconRegistry.classNameForFontAlias(this.fontSet)]:this._iconRegistry.getDefaultFontSetClass()).filter(c=>c.length>0);this._previousFontSetClass.forEach(c=>t.classList.remove(c)),o.forEach(c=>t.classList.add(c)),this._previousFontSetClass=o,this.fontIcon!==this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const o=this._elementsWithExternalReferences;o&&o.forEach((c,h)=>{c.forEach(p=>{h.setAttribute(p.name,`url('${t}#${p.value}')`)})})}_cacheChildrenWithExternalReferences(t){const o=t.querySelectorAll(Bj),c=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let h=0;h<o.length;h++)JM.forEach(p=>{const m=o[h],_=m.getAttribute(p),E=_?_.match(Vj):null;if(E){let S=c.get(m);S||(S=[],c.set(m,S)),S.push({name:p,value:E[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[o,c]=this._splitIconName(t);o&&(this._svgNamespace=o),c&&(this._svgName=c),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(c,o).pipe(xo(1)).subscribe(h=>this._setSvgElement(h),h=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${o}:${c}! ${h.message}`))})}}}return i.\u0275fac=function(t){return new(t||i)(ie(Gr),ie(dw),Co("aria-hidden"),ie(Fj),ie(Ni),ie(Nj,8))},i.\u0275cmp=ve({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,o){2&t&&(Vc("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet),gs("mat-icon-inline",o.inline)("mat-icon-no-color","primary"!==o.color&&"accent"!==o.color&&"warn"!==o.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Ia],ngContentSelectors:Mj,decls:1,vars:0,template:function(t,o){1&t&&(jc(),vo(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),i})(),jj=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nt({type:i}),i.\u0275inj=fn({imports:[_o,_o]}),i})();function Uj(i,e){1&i&&(Be(0,"div",16),Vi(1,"img",17),qe())}let Hj=(()=>{class i{constructor(t){this.dialog=t,this.auth=new d_,this.firestore=new Lv,this.storage=new aV}ngOnInit(){}onFilmClick(t,o,c){let h=t.value,p=o.value,m=c.value;h.length<=0||(this.selectedImageFile?this.uploadImageFilm(h,p,m):this.uploadFilm(h,p,m))}uploadImageFilm(t,o,c){let h=this.firestore.genDocId();this.storage.upload({uploadName:"upload Image Film",path:["Films",h,"image"],data:{data:this.selectedImageFile},onComplete:p=>{this.firestore.create({path:["Films",h],data:{comment:t,creatorId:this.auth.getAuth().currentUser.uid,imageUrl:p,title:o,description:c,timestamp:Ma.getFirestoreTimestamp()},onComplete:m=>{this.dialog.close()}})}})}uploadFilm(t,o,c){this.firestore.create({path:["Films"],data:{comment:t,title:o,description:c,creatorId:this.auth.getAuth().currentUser.uid,timestamp:Ma.getFirestoreTimestamp()},onComplete:h=>{this.dialog.close()}})}onPhotoSelected(t){if(this.selectedImageFile=t.files[0],!this.selectedImageFile)return;let o=new FileReader;o.readAsDataURL(this.selectedImageFile),o.addEventListener("loadend",c=>{let h=o.result.toString();document.getElementById("film-preview-image").src=h})}}return i.\u0275fac=function(t){return new(t||i)(ie(jM))},i.\u0275cmp=ve({type:i,selectors:[["app-create-film"]],decls:30,vars:1,consts:[[1,"film-tit"],["placeholder","Titolo..."],["titleInput",""],[1,"film-desc"],["placeholder","Descrizione..."],["descriptionInput",""],[1,"film-riass"],["placeholder","Riassunto..."],["commentInput",""],["id","film-preview",4,"ngIf"],["align","end"],["mat-button","","color","warn"],["for","photo-upload"],["id","photo-upload","type","file","accept","image/*",3,"change"],["photoSelector",""],["mat-flat-button","","color","warn",3,"click"],["id","film-preview"],["id","film-preview-image"]],template:function(t,o){if(1&t){const c=Ou();Be(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),wt(3,"Scheda Creazione Film"),qe()(),Be(4,"div",0)(5,"h3"),wt(6,"Titolo del film"),qe(),Vi(7,"textarea",1,2),qe(),Be(9,"div",3)(10,"h3"),wt(11,"Breve descrizione in poche parole"),qe(),Vi(12,"textarea",4,5),qe(),Be(14,"div",6)(15,"h3"),wt(16,"Riassunto del film"),qe(),Be(17,"textarea",7,8),wt(19,"        "),qe()(),mo(20,Uj,2,0,"div",9),Be(21,"mat-card-actions",10)(22,"button",11)(23,"label",12)(24,"input",13,14),$r("change",function(){Gi(c);const p=qs(25);return Lr(o.onPhotoSelected(p))}),qe(),Be(26,"mat-icon"),wt(27,"insert_photo"),qe()()(),Be(28,"button",15),$r("click",function(){Gi(c);const p=qs(18),m=qs(8),_=qs(13);return Lr(o.onFilmClick(p,m,_))}),wt(29,"Inserisci"),qe()()()}2&t&&(Xn(20),si("ngIf",o.selectedImageFile))},dependencies:[Cv,hp,uC,cC,sC,aC,A_],styles:["#photo-upload[_ngcontent-%COMP%]{display:none}.film-riass[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-size:1.5em;padding:1em;resize:none;width:500px;min-height:400px;border:none;outline:none}#film-preview[_ngcontent-%COMP%]{text-align:right;margin-top:1em}#film-preview-image[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:150px;height:100px;border-radius:1em;border:1px dashed gray}.film-tit[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .film-desc[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-size:1em;padding:1em;resize:none;border:none;outline:none}"]}),i})();function zj(i,e){1&i&&Vi(0,"app-film",4),2&i&&si("filmData",e.$implicit)}let ek=(()=>{class i{constructor(t){this.dialog=t,this.firestore=new Lv,this.films=[]}ngOnInit(){this.getFilms()}onCreateFilmClick(){this.dialog.open(Hj)}getFilms(){this.firestore.getCollection({path:["Films"],where:[new yM("timestamp","desc"),new sV(10)],onComplete:t=>{t.docs.forEach(o=>{let c=o.data();c.filmId=o.id,this.films.push(c)})},onFail:t=>{}})}}return i.\u0275fac=function(t){return new(t||i)(ie(oC))},i.\u0275cmp=ve({type:i,selectors:[["app-films-home-feed"]],decls:6,vars:1,consts:[["id","feed"],["id","films-home-feed"],[3,"filmData",4,"ngFor","ngForOf"],["mat-fab","","color","warn","id","film-button","title","inserisci films",3,"click"],[3,"filmData"]],template:function(t,o){1&t&&(Be(0,"div",0)(1,"div",1),mo(2,zj,1,1,"app-film",2),qe(),Be(3,"button",3),$r("click",function(){return o.onCreateFilmClick()}),Be(4,"mat-icon"),wt(5,"add"),qe()()()),2&t&&(Xn(2),si("ngForOf",o.films))},styles:["#feed[_ngcontent-%COMP%]{width:100%;height:100%;background-size:cover;background-position:center;min-height:800px}#film-button[_ngcontent-%COMP%]{position:fixed;bottom:2em;right:2em}#films-home-feed[_ngcontent-%COMP%]{max-width:1000px;margin-left:auto;margin-right:auto;background-image:url(logo-line-screen-2k.3259eaaee3da6ca7.png)}"]}),i})();function qj(i,e){}const $j={bottomSheetState:rC("state",[jv("void, hidden",gh({transform:"translateY(100%)"})),jv("visible",gh({transform:"translateY(0%)"})),Uv("visible => void, visible => hidden",sw([Vv(`${dM.COMPLEX} ${hM.ACCELERATION_CURVE}`),uw("@*",aw(),{optional:!0})])),Uv("void => visible",sw([Vv(`${dM.EXITING} ${hM.DECELERATION_CURVE}`),uw("@*",aw(),{optional:!0})]))])};let Gj=(()=>{class i extends JE{constructor(t,o,c,h,p,m,_,E,S,R){super(t,o,c,h,p,m,_,R),this._changeDetectorRef=S,this._animationState="void",this._animationStateChanged=new ui,this._breakpointSubscription=E.observe([Ov_Medium,Ov_Large,"(min-width: 1920px)"]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",E.isMatched(Ov_Medium)),this._toggleClass("mat-bottom-sheet-container-large",E.isMatched(Ov_Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",E.isMatched("(min-width: 1920px)"))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_captureInitialFocus(){}_toggleClass(t,o){this._elementRef.nativeElement.classList.toggle(t,o)}}return i.\u0275fac=function(t){return new(t||i)(ie(Gr),ie(m_),ie(tn,8),ie(D_),ie(Pv),ie(en),ie(Bv),ie(qE),ie(sp),ie(Fv))},i.\u0275cmp=ve({type:i,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(t,o){1&t&&Py("@state.start",function(h){return o._onAnimationStart(h)})("@state.done",function(h){return o._onAnimationDone(h)}),2&t&&(Vc("role",o._config.role)("aria-modal",o._config.isModal)("aria-label",o._config.ariaLabel),Ly("@state",o._animationState))},features:[Ia],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,o){1&t&&mo(0,qj,0,0,"ng-template",0)},dependencies:[iw],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[$j.bottomSheetState]}}),i})(),tk=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nt({type:i}),i.\u0275inj=fn({imports:[NM,_o,C_,_o]}),i})();const Wj=new je("MatBottomSheetData");class Kj{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class dC{constructor(e,t,o){this._ref=e,this._afterOpened=new Se,this.containerInstance=o,this.disableClose=t.disableClose,o._animationStateChanged.pipe(Tr(c=>"done"===c.phaseName&&"visible"===c.toState),xo(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),o._animationStateChanged.pipe(Tr(c=>"done"===c.phaseName&&"hidden"===c.toState),xo(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),e.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),Xr(this.backdropClick(),this.keydownEvents().pipe(Tr(c=>27===c.keyCode))).subscribe(c=>{!this.disableClose&&("keydown"!==c.type||!Qb(c))&&(c.preventDefault(),this.dismiss())})}get instance(){return this._ref.componentInstance}dismiss(e){!this.containerInstance||(this.containerInstance._animationStateChanged.pipe(Tr(t=>"start"===t.phaseName),xo(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},t.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=e,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const Yj=new je("mat-bottom-sheet-default-options");let nk=(()=>{class i{constructor(t,o,c,h){this._overlay=t,this._parentBottomSheet=c,this._defaultOptions=h,this._bottomSheetRefAtThisLevel=null,this._dialog=o.get(tC)}get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}open(t,o){const c={...this._defaultOptions||new Kj,...o};let h;return this._dialog.open(t,{...c,disableClose:!0,maxWidth:"100%",container:Gj,scrollStrategy:c.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:h}),providers:(p,m,_)=>(h=new dC(p,c,_),[{provide:dC,useValue:h},{provide:Wj,useValue:c.data}])}),h.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===h&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>h.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):h.containerInstance.enter(),this._openedBottomSheetRef=h,h}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}}return i.\u0275fac=function(t){return new(t||i)(re(Qg),re(Jt),re(i,12),re(Yj,8))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:tk}),i})();function Qj(i,e){if(1&i){const t=Ou();Be(0,"div"),Vi(1,"input",5,6)(3,"input",7,8),Be(5,"button",9),$r("click",function(){Gi(t);const c=qs(2),h=qs(4);return Lr($s().onLogin(c,h))}),wt(6,"Login"),qe()()}}function Xj(i,e){if(1&i){const t=Ou();Be(0,"div"),Vi(1,"input",5,10)(3,"input",7,11)(5,"input",12,13),Be(7,"button",14),$r("click",function(){Gi(t);const c=qs(2),h=qs(4),p=qs(6);return Lr($s().onRegisterClick(c,h,p))}),wt(8,"Crea"),qe()()}}function Zj(i,e){if(1&i){const t=Ou();Be(0,"div"),Vi(1,"input",5,15),Be(3,"button",16),$r("click",function(){Gi(t);const c=qs(2);return Lr($s().onResetClick(c))}),wt(4,"Richiedi nuova"),qe()()}}let rk=(()=>{class i{constructor(t){this.bottomSheetRef=t,this.state=Ra.LOGIN,this.firebasetsAuth=new d_}ngOnInit(){}onResetClick(t){let o=t.value;this.isNotEmpty(o)&&this.firebasetsAuth.sendPasswordResetEmail({email:o,onComplete:c=>{this.bottomSheetRef.dismiss()}})}onLogin(t,o){let c=t.value,h=o.value;this.isNotEmpty(c)&&this.isNotEmpty(h)&&this.firebasetsAuth.signInWith({email:c,password:h,onComplete:p=>{this.bottomSheetRef.dismiss()},onFail:p=>{alert(p)}})}onRegisterClick(t,o,c){let h=t.value,p=o.value,m=c.value;this.isNotEmpty(h)&&this.isNotEmpty(p)&&this.isNotEmpty(m)&&this.isAMatch(p,m)&&this.firebasetsAuth.createAccountWith({email:h,password:p,onComplete:_=>{this.bottomSheetRef.dismiss()},onFail:_=>{alert("Creazione dell'account fallita.")}})}isNotEmpty(t){return null!=t&&t.length>0}isAMatch(t,o){return t==o}onForgotPasswordClick(){this.state=Ra.FORGOT_PASSWORD}onCreateAccountClick(){this.state=Ra.REGISTER}onLoginCLick(){this.state=Ra.LOGIN}isLoginState(){return this.state==Ra.LOGIN}isRegisterState(){return this.state==Ra.REGISTER}isForgotPasswordState(){return this.state==Ra.FORGOT_PASSWORD}getStateText(){switch(this.state){case Ra.LOGIN:return"Login";case Ra.REGISTER:return"Registrati";case Ra.FORGOT_PASSWORD:return"Oops password dimenticata"}}}return i.\u0275fac=function(t){return new(t||i)(ie(dC))},i.\u0275cmp=ve({type:i,selectors:[["app-authenticator"]],decls:15,vars:4,consts:[["id","authenticator"],["id","authenticator-content"],[4,"ngIf"],["align","end"],["mat-flat-button","",3,"click"],["placeholder","Email"],["loginEmail",""],["placeholder","Password","type","password"],["loginPassword",""],["mat-flat-button","","color","primary",3,"click"],["registerEmail",""],["registerPassword",""],["placeholder","Confirm Password","type","password"],["registerConfirmPassword",""],["mat-flat-button","","color","accent",3,"click"],["resetEmail",""],["mat-flat-button","","color","warn",3,"click"]],template:function(t,o){1&t&&(Be(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),wt(4),qe()(),mo(5,Qj,7,0,"div",2),mo(6,Xj,9,0,"div",2),mo(7,Zj,5,0,"div",2),Be(8,"mat-card-actions",3)(9,"button",4),$r("click",function(){return o.onForgotPasswordClick()}),wt(10,"Password Dimenticata"),qe(),Be(11,"button",4),$r("click",function(){return o.onCreateAccountClick()}),wt(12,"Crea nuovo Account"),qe(),Be(13,"button",4),$r("click",function(){return o.onLoginCLick()}),wt(14,"Login"),qe()()()()),2&t&&(Xn(4),Ng(o.getStateText()),Xn(1),si("ngIf",o.isLoginState()),Xn(1),si("ngIf",o.isRegisterState()),Xn(1),si("ngIf",o.isForgotPasswordState()))},dependencies:[Cv,hp,uC,cC,sC,aC],styles:["#authenticator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}#authenticator-content[_ngcontent-%COMP%]{width:100%;max-width:30em;padding:1.5em}button[_ngcontent-%COMP%]{margin:.5em;border-radius:5px;background-color:#635b5d}input[_ngcontent-%COMP%]{width:100%;padding:1em;margin:.5em 0;border-radius:5px;outline:none;border:1px solid rgba(15,15,15,.3);background-color:#a68b85;color:#fff;font-weight:700;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}[_ngcontent-%COMP%]::placeholder{color:#fff;opacity:1}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#fff}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#fff}"]}),i})();var Ra=(()=>{return(i=Ra||(Ra={}))[i.LOGIN=0]="LOGIN",i[i.REGISTER=1]="REGISTER",i[i.FORGOT_PASSWORD=2]="FORGOT_PASSWORD",Ra;var i})();let ik=(()=>{class i{constructor(t){this.loginSheet=t}ngOnInit(){}onGetStartedClick(){this.loginSheet.open(rk)}}return i.\u0275fac=function(t){return new(t||i)(ie(nk))},i.\u0275cmp=ve({type:i,selectors:[["app-home"]],decls:11,vars:0,consts:[["id","home-page"],["id","home-page-landing"],["id","landing-left"],["id","landing-left-content"],["mat-flat-button","","color","warn",3,"click"]],template:function(t,o){1&t&&(Be(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),wt(5,"Sito di recensioni di animazioni(film e serie)"),qe(),Be(6,"p"),wt(7," Unisciti e comincia a dire la tua esplorando centinaia di titoli! "),qe(),Be(8,"button",4),$r("click",function(){return o.onGetStartedClick()}),wt(9,"Comincia!"),qe()()(),Vi(10,"div"),qe()())},dependencies:[hp],styles:["#home-page[_ngcontent-%COMP%]{width:100%;height:100%}#home-page-landing[_ngcontent-%COMP%]{width:100%;height:100%;background-image:url(logo-screen-2k.f19f89730f83e4fb.png);background-size:cover;background-position:center;display:grid;grid-template-columns:10fr 1fr;grid-template-rows:100%;min-height:1260px}#landing-left[_ngcontent-%COMP%]{color:#eabcae}#landing-left-content[_ngcontent-%COMP%]{padding:1em 1em 1em 4em}#landing-left-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:1.5em;font-size:2.8em;margin-bottom:1em}#landing-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1em;font-size:2em;margin-bottom:1em}#landing-left-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:2em;padding:.5em;border-radius:5px;background-color:#635b5d}"]}),i})();const Jj=[{path:"",component:ik},{path:"emailVerification",component:oV},{path:"filmshomefeed",component:ek},{path:"**",component:ik}];let eU=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nt({type:i}),i.\u0275inj=fn({imports:[jA.forRoot(Jj),jA]}),i})();const pw=["*"],tU=["content"];function nU(i,e){if(1&i){const t=Ou();Be(0,"div",2),$r("click",function(){return Gi(t),Lr($s()._onBackdropClicked())}),qe()}2&i&&gs("mat-drawer-shown",$s()._isShowingBackdrop())}function rU(i,e){1&i&&(Be(0,"mat-drawer-content"),vo(1,2),qe())}const iU=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],oU=["mat-drawer","mat-drawer-content","*"];function sU(i,e){if(1&i){const t=Ou();Be(0,"div",2),$r("click",function(){return Gi(t),Lr($s()._onBackdropClicked())}),qe()}2&i&&gs("mat-drawer-shown",$s()._isShowingBackdrop())}function aU(i,e){1&i&&(Be(0,"mat-sidenav-content"),vo(1,2),qe())}const uU=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],cU=["mat-sidenav","mat-sidenav-content","*"],ok={transformDrawer:rC("transform",[jv("open, open-instant",gh({transform:"none",visibility:"visible"})),jv("void",gh({"box-shadow":"none",visibility:"hidden"})),Uv("void => open-instant",Vv("0ms")),Uv("void <=> open, open-instant => void",Vv("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},hU=new je("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function dU(){return!1}}),fC=new je("MAT_DRAWER_CONTAINER");let gw=(()=>{class i extends E_{constructor(t,o,c,h,p){super(c,h,p),this._changeDetectorRef=t,this._container=o}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return i.\u0275fac=function(t){return new(t||i)(ie(sp),ie(Ks(()=>ak)),ie(Gr),ie(nw),ie(en))},i.\u0275cmp=ve({type:i,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,o){2&t&&Ny("margin-left",o._container._contentMargins.left,"px")("margin-right",o._container._contentMargins.right,"px")},features:[Hy([{provide:E_,useExisting:i}]),Ia],ngContentSelectors:pw,decls:1,vars:0,template:function(t,o){1&t&&(jc(),vo(0))},encapsulation:2,changeDetection:0}),i})(),sk=(()=>{class i{constructor(t,o,c,h,p,m,_,E){this._elementRef=t,this._focusTrapFactory=o,this._focusMonitor=c,this._platform=h,this._ngZone=p,this._interactivityChecker=m,this._doc=_,this._container=E,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Se,this._animationEnd=new Se,this._animationState="void",this.openedChange=new ui(!0),this._openedStream=this.openedChange.pipe(Tr(S=>S),mt(()=>{})),this.openedStart=this._animationStarted.pipe(Tr(S=>S.fromState!==S.toState&&0===S.toState.indexOf("open")),uE(void 0)),this._closedStream=this.openedChange.pipe(Tr(S=>!S),mt(()=>{})),this.closedStart=this._animationStarted.pipe(Tr(S=>S.fromState!==S.toState&&"void"===S.toState),uE(void 0)),this._destroyed=new Se,this.onPositionChanged=new ui,this._modeChanged=new Se,this.openedChange.subscribe(S=>{S?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{b_(this._elementRef.nativeElement,"keydown").pipe(Tr(S=>27===S.keyCode&&!this.disableClose&&!Qb(S)),ka(this._destroyed)).subscribe(S=>this._ngZone.run(()=>{this.close(),S.stopPropagation(),S.preventDefault()}))}),this._animationEnd.pipe(WA((S,R)=>S.fromState===R.fromState&&S.toState===R.toState)).subscribe(S=>{const{fromState:R,toState:F}=S;(0===F.indexOf("open")&&"void"===R||"void"===F&&0===R.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Gc(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=Gc(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(Gc(t))}_forceFocus(t,o){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const c=()=>{t.removeEventListener("blur",c),t.removeEventListener("mousedown",c),t.removeAttribute("tabindex")};t.addEventListener("blur",c),t.addEventListener("mousedown",c)})),t.focus(o)}_focusByCssSelector(t,o){let c=this._elementRef.nativeElement.querySelector(t);c&&this._forceFocus(c,o)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(o=>{!o&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,o){t&&o&&(this._openedVia=o);const c=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),c}_setOpen(t,o,c){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",o&&this._restoreFocus(c)),this._updateFocusTrapState(),new Promise(h=>{this.openedChange.pipe(xo(1)).subscribe(p=>h(p?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const o=this._elementRef.nativeElement,c=o.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),c.insertBefore(this._anchor,o)),c.appendChild(o)):this._anchor&&this._anchor.parentNode.insertBefore(o,this._anchor)}}return i.\u0275fac=function(t){return new(t||i)(ie(Gr),ie(m_),ie(Fv),ie(Uu),ie(en),ie(Pv),ie(tn,8),ie(fC,8))},i.\u0275cmp=ve({type:i,selectors:[["mat-drawer"]],viewQuery:function(t,o){if(1&t&&vv(tU,5),2&t){let c;Nu(c=Fu())&&(o._content=c.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,o){1&t&&Py("@transform.start",function(h){return o._animationStarted.next(h)})("@transform.done",function(h){return o._animationEnd.next(h)}),2&t&&(Vc("align",null),Ly("@transform",o._animationState),gs("mat-drawer-end","end"===o.position)("mat-drawer-over","over"===o.mode)("mat-drawer-push","push"===o.mode)("mat-drawer-side","side"===o.mode)("mat-drawer-opened",o.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:pw,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,o){1&t&&(jc(),Be(0,"div",0,1),vo(2),qe())},dependencies:[E_],encapsulation:2,data:{animation:[ok.transformDrawer]},changeDetection:0}),i})(),ak=(()=>{class i{constructor(t,o,c,h,p,m=!1,_){this._dir=t,this._element=o,this._ngZone=c,this._changeDetectorRef=h,this._animationMode=_,this._drawers=new eb,this.backdropClick=new ui,this._destroyed=new Se,this._doCheckSubject=new Se,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Se,t&&t.change.pipe(ka(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),p.change().pipe(ka(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=m}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Gc(t)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(t){this._backdropOverride=null==t?null:Gc(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Sv(this._allDrawers),ka(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(o=>!o._container||o._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Sv(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(QA(10),ka(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,o=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const c=this._left._getWidth();t+=c,o-=c}if(this._right&&this._right.opened)if("side"==this._right.mode)o+=this._right._getWidth();else if("push"==this._right.mode){const c=this._right._getWidth();o+=c,t-=c}t=t||null,o=o||null,(t!==this._contentMargins.left||o!==this._contentMargins.right)&&(this._contentMargins={left:t,right:o},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Tr(o=>o.fromState!==o.toState),ka(this._drawers.changes)).subscribe(o=>{"open-instant"!==o.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(ka(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe(ka(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(xo(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(ka(Xr(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const o=this._element.nativeElement.classList,c="mat-drawer-container-has-open";t?o.add(c):o.remove(c)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return i.\u0275fac=function(t){return new(t||i)(ie(v_,8),ie(Gr),ie(en),ie(sp),ie(KE),ie(hU),ie(ip,8))},i.\u0275cmp=ve({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(t,o,c){if(1&t&&(Bg(c,gw,5),Bg(c,sk,5)),2&t){let h;Nu(h=Fu())&&(o._content=h.first),Nu(h=Fu())&&(o._allDrawers=h)}},viewQuery:function(t,o){if(1&t&&vv(gw,5),2&t){let c;Nu(c=Fu())&&(o._userContent=c.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,o){2&t&&gs("mat-drawer-container-explicit-backdrop",o._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Hy([{provide:fC,useExisting:i}])],ngContentSelectors:oU,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,o){1&t&&(jc(iU),mo(0,nU,1,2,"div",0),vo(1),vo(2,1),mo(3,rU,2,0,"mat-drawer-content",1)),2&t&&(si("ngIf",o.hasBackdrop),Xn(3),si("ngIf",!o._content))},dependencies:[Cv,gw],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),i})(),pC=(()=>{class i extends gw{constructor(t,o,c,h,p){super(t,o,c,h,p)}}return i.\u0275fac=function(t){return new(t||i)(ie(sp),ie(Ks(()=>uk)),ie(Gr),ie(nw),ie(en))},i.\u0275cmp=ve({type:i,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,o){2&t&&Ny("margin-left",o._container._contentMargins.left,"px")("margin-right",o._container._contentMargins.right,"px")},features:[Hy([{provide:E_,useExisting:i}]),Ia],ngContentSelectors:pw,decls:1,vars:0,template:function(t,o){1&t&&(jc(),vo(0))},encapsulation:2,changeDetection:0}),i})(),gC=(()=>{class i extends sk{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Gc(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=KA(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=KA(t)}}return i.\u0275fac=function(){let e;return function(o){return(e||(e=Jd(i)))(o||i)}}(),i.\u0275cmp=ve({type:i,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,o){2&t&&(Vc("align",null),Ny("top",o.fixedInViewport?o.fixedTopGap:null,"px")("bottom",o.fixedInViewport?o.fixedBottomGap:null,"px"),gs("mat-drawer-end","end"===o.position)("mat-drawer-over","over"===o.mode)("mat-drawer-push","push"===o.mode)("mat-drawer-side","side"===o.mode)("mat-drawer-opened",o.opened)("mat-sidenav-fixed",o.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[Ia],ngContentSelectors:pw,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,o){1&t&&(jc(),Be(0,"div",0,1),vo(2),qe())},dependencies:[E_],encapsulation:2,data:{animation:[ok.transformDrawer]},changeDetection:0}),i})(),uk=(()=>{class i extends ak{}return i.\u0275fac=function(){let e;return function(o){return(e||(e=Jd(i)))(o||i)}}(),i.\u0275cmp=ve({type:i,selectors:[["mat-sidenav-container"]],contentQueries:function(t,o,c){if(1&t&&(Bg(c,pC,5),Bg(c,gC,5)),2&t){let h;Nu(h=Fu())&&(o._content=h.first),Nu(h=Fu())&&(o._allDrawers=h)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,o){2&t&&gs("mat-drawer-container-explicit-backdrop",o._backdropOverride)},exportAs:["matSidenavContainer"],features:[Hy([{provide:fC,useExisting:i}]),Ia],ngContentSelectors:cU,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,o){1&t&&(jc(uU),mo(0,sU,1,2,"div",0),vo(1),vo(2,1),mo(3,aU,2,0,"mat-sidenav-content",1)),2&t&&(si("ngIf",o.hasBackdrop),Xn(3),si("ngIf",!o._content))},dependencies:[Cv,pC],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),i})(),fU=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nt({type:i}),i.\u0275inj=fn({imports:[hI,_o,rw,rw,_o]}),i})(),pU=(()=>{class i{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=Gc(t)}get inset(){return this._inset}set inset(t){this._inset=Gc(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=ve({type:i,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,o){2&t&&(Vc("aria-orientation",o.vertical?"vertical":"horizontal"),gs("mat-divider-vertical",o.vertical)("mat-divider-horizontal",!o.vertical)("mat-divider-inset",o.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,o){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),i})(),gU=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nt({type:i}),i.\u0275inj=fn({imports:[_o,_o]}),i})();const mU=function(i,e){return{active:i,idle:e}};let vU=(()=>{class i{constructor(){this.firestore=new Lv,this.auth=new d_}ngOnInit(){}onContinueClick(t,o){let c=t.value,h=o.value;this.firestore.create({path:["Users",this.auth.getAuth().currentUser.uid],data:{publicName:c,description:h},onComplete:p=>{alert("Profilo Creato"),t.value="",o.value=""},onFail:p=>{}})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=ve({type:i,selectors:[["app-profile"]],inputs:{show:"show"},decls:8,vars:4,consts:[["id","profile",3,"ngClass"],["id","profile-content"],["placeholder","Name"],["nameInput",""],["placeholder","Description"],["descriptionInput",""],["mat-flat-button","","color","warn",3,"click"]],template:function(t,o){if(1&t){const c=Ou();Be(0,"div",0)(1,"div",1),Vi(2,"input",2,3)(4,"textarea",4,5),Be(6,"button",6),$r("click",function(){Gi(c);const p=qs(3),m=qs(5);return Lr(o.onContinueClick(p,m))}),wt(7,"Continue"),qe()()()}2&t&&si("ngClass",BS(1,mU,o.show,!o.show))},dependencies:[q0,hp],styles:["#profile[_ngcontent-%COMP%]{position:fixed;top:0;right:0;height:100vh;background-color:#1d1d1d;z-index:9;transition-duration:.5s;overflow:hidden;display:flex;justify-content:center;align-items:center}#profile-content[_ngcontent-%COMP%]{width:100%;max-width:500px;padding:2em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:1em;border-radius:1em;margin-bottom:.5em;resize:none;outline:none;border:1px solid gray;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.active[_ngcontent-%COMP%]{width:100vw}.idle[_ngcontent-%COMP%]{width:0}"]}),i})();function yU(i,e){if(1&i){const t=Ou();Be(0,"div",11),$r("click",function(){return Gi(t),Lr($s().onLoginClick())}),wt(1,"Login"),qe()}}function _U(i,e){if(1&i){const t=Ou();Be(0,"div",4),wt(1," Benvenuto, "),Be(2,"button",12),$r("click",function(){return Gi(t),Lr($s().sidenav.toggle())}),wt(3),qe()()}if(2&i){const t=$s();Xn(3),hv(" ",t.getUsername()," ")}}function bU(i,e){if(1&i){const t=Ou();Be(0,"button",17),$r("click",function(){return Gi(t),Lr($s(2).onLogoutClick())}),Be(1,"mat-icon"),wt(2,"exit_to_app"),qe(),Be(3,"span"),wt(4,"Logout"),qe()()}}function wU(i,e){if(1&i&&(Be(0,"mat-sidenav",13,14)(2,"h3"),wt(3),qe(),Be(4,"h4"),wt(5,"Questa \xe8 la tua dashboard"),qe(),Be(6,"p"),wt(7,"Sei un amministratore di questo sito e puoi aggiungere i film liberamente alla piattaforma"),qe(),Vi(8,"mat-divider"),Be(9,"button",15)(10,"mat-icon"),wt(11,"home"),qe(),Be(12,"span"),wt(13,"Home"),qe()(),Be(14,"button",15)(15,"mat-icon"),wt(16,"person"),qe(),Be(17,"span"),wt(18,"Profilo"),qe()(),Be(19,"button",15)(20,"mat-icon"),wt(21,"info"),qe(),Be(22,"span"),wt(23,"Info"),qe()(),Vi(24,"mat-divider"),Be(25,"button",15)(26,"mat-icon"),wt(27,"help"),qe(),Be(28,"span"),wt(29,"Aiuto"),qe()(),Vi(30,"mat-divider"),mo(31,bU,5,0,"button",16),qe()),2&i){const t=$s();Xn(3),hv("Ciao ",t.getUsername(),""),Xn(28),si("ngIf",t.loggedIn())}}let mw=(()=>{class i{constructor(t,o,c){this.observer=t,this.loginSheet=o,this.router=c,this.title="reviewmotion",this.auth=new d_,this.firestore=new Lv,this.userHasProfile=!0,this.auth.listenToSignInStateChanges(h=>{this.auth.checkSignInState({whenSignedIn:p=>{},whenSignedOut:p=>{},whenSignedInAndEmailNotVerified:p=>{this.router.navigate(["emailVerification"])},whenSignedInAndEmailVerified:p=>{this.getUserProfile()},whenChanged:p=>{}})})}ngAfterViewInit(){this.observer.observe(["(max-width: 1200px)"]).subscribe(t=>{t.matches?(this.sidenav.mode="over",this.sidenav.close()):(this.sidenav.mode="side",this.sidenav.open())})}static getUserDocument(){return i.userDocument}getUsername(){try{return i.userDocument.publicName}catch{return}}getUserProfile(){this.firestore.listenToDocument({name:"Getting Document",path:["Users",this.auth.getAuth().currentUser.uid],onUpdate:t=>{i.userDocument=t.data(),this.userHasProfile=t.exists,i.userDocument.userId=this.auth.getAuth().currentUser.uid,this.userHasProfile&&this.router.navigate(["filmshomefeed"])}})}onLogoutClick(){this.auth.signOut(),this.router.navigate(["/"])}onLoginClick(){this.loginSheet.open(rk)}loggedIn(){return this.auth.isSignedIn()}}return i.\u0275fac=function(t){return new(t||i)(ie(qE),ie(nk),ie(yo))},i.\u0275cmp=ve({type:i,selectors:[["app-root"]],viewQuery:function(t,o){if(1&t&&vv(gC,5),2&t){let c;Nu(c=Fu())&&(o.sidenav=c.first)}},decls:15,vars:4,consts:[["id","main"],["id","nav-bar"],["id","nav-bar-content"],["id","nav-bar-left"],[1,"nav-bar-items"],["id","nav-bar-right"],["class","nav-bar-items",3,"click",4,"ngIf"],["class","nav-bar-items",4,"ngIf"],["mode","over","position","end",4,"ngIf"],[1,"content","mat-elevation-z4"],[3,"show"],[1,"nav-bar-items",3,"click"],["mat-flat-button","","title","accedi alla dashboard",3,"click"],["mode","over","position","end"],["sidenav","matSidenav"],["mat-button","",1,"menu-button"],["mat-button","","class","menu-button","color","warn",3,"click",4,"ngIf"],["mat-button","","color","warn",1,"menu-button",3,"click"]],template:function(t,o){1&t&&(Be(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),wt(5,"REVIEWMOTION"),qe()(),Be(6,"div",5),mo(7,yU,2,0,"div",6),mo(8,_U,4,1,"div",7),qe()()(),Be(9,"mat-sidenav-container"),mo(10,wU,32,2,"mat-sidenav",8),Be(11,"mat-sidenav-content")(12,"div",9),Vi(13,"router-outlet"),qe()()()(),Vi(14,"app-profile",10)),2&t&&(Xn(7),si("ngIf",!o.loggedIn()),Xn(1),si("ngIf",o.loggedIn()&&o.userHasProfile),Xn(2),si("ngIf",o.loggedIn()&&o.userHasProfile),Xn(4),si("show",o.loggedIn()&&!o.userHasProfile))},dependencies:[Cv,CE,hp,A_,gC,uk,pC,pU,vU],styles:["#main[_ngcontent-%COMP%]{display:flex;flex-direction:column}#nav-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:5em;z-index:10;background-color:#635b5d}#nav-bar-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;height:100%}#nav-bar-left[_ngcontent-%COMP%], #nav-bar-right[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;padding:0 2em;color:#eabcae;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;flex-direction:row}#nav-bar-right[_ngcontent-%COMP%]{justify-content:flex-end}#navbar-items[_ngcontent-%COMP%]{font-size:1.5em}.nav-bar-items[_ngcontent-%COMP%]{font-size:2.5em;display:inline-block;cursor:pointer;margin-right:1em}#nav-bar-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1em;padding:.07em;border-radius:5px;background-color:#635b5d}mat-sidenav-container[_ngcontent-%COMP%]{margin-top:60px;height:calc(100vh - 60px)}mat-sidenav[_ngcontent-%COMP%]{margin:16px;width:200px;border-right:none;background-color:#a68b85;color:#fff;border-radius:10px;padding:16px;text-align:center}.content[_ngcontent-%COMP%]{height:calc(100vh - 98px);margin:16px 16px 16px 32px;border-radius:10px}.menu-button[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;font-size:1rem;padding:.07em;border-radius:5px;background-color:#635b5d;margin-top:10px}.menu-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}mat-sidenav-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem}mat-sidenav-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5rem}mat-sidenav-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2em}"]}),i})();function ck(i){return new Ee(3e3,!1)}function n3(){return typeof window<"u"&&typeof window.document<"u"}function mC(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function pp(i){switch(i.length){case 0:return new S_;case 1:return i[0];default:return new VM(i)}}function lk(i,e,t,o,c=new Map,h=new Map){const p=[],m=[];let _=-1,E=null;if(o.forEach(S=>{const R=S.get("offset"),F=R==_,B=F&&E||new Map;S.forEach((q,Y)=>{let ce=Y,fe=q;if("offset"!==Y)switch(ce=e.normalizePropertyName(ce,p),fe){case"!":fe=c.get(Y);break;case xd:fe=h.get(Y);break;default:fe=e.normalizeStyleValue(Y,ce,fe,p)}B.set(ce,fe)}),F||m.push(B),E=B,_=R}),p.length)throw function qU(i){return new Ee(3502,!1)}();return m}function vC(i,e,t,o){switch(e){case"start":i.onStart(()=>o(t&&yC(t,"start",i)));break;case"done":i.onDone(()=>o(t&&yC(t,"done",i)));break;case"destroy":i.onDestroy(()=>o(t&&yC(t,"destroy",i)))}}function yC(i,e,t){const h=_C(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,t.totalTime??i.totalTime,!!t.disabled),p=i._data;return null!=p&&(h._data=p),h}function _C(i,e,t,o,c="",h=0,p){return{element:i,triggerName:e,fromState:t,toState:o,phaseName:c,totalTime:h,disabled:!!p}}function xa(i,e,t){let o=i.get(e);return o||i.set(e,o=t),o}function hk(i){const e=i.indexOf(":");return[i.substring(1,e),i.slice(e+1)]}let bC=(i,e)=>!1,dk=(i,e,t)=>[],fk=null;function wC(i){const e=i.parentNode||i.host;return e===fk?null:e}(mC()||typeof Element<"u")&&(n3()?(fk=(()=>document.documentElement)(),bC=(i,e)=>{for(;e;){if(e===i)return!0;e=wC(e)}return!1}):bC=(i,e)=>i.contains(e),dk=(i,e,t)=>{if(t)return Array.from(i.querySelectorAll(e));const o=i.querySelector(e);return o?[o]:[]});let Zg=null,pk=!1;const gk=bC,mk=dk;let vk=(()=>{class i{validateStyleProperty(t){return function o3(i){Zg||(Zg=function s3(){return typeof document<"u"?document.body:null}()||{},pk=!!Zg.style&&"WebkitAppearance"in Zg.style);let e=!0;return Zg.style&&!function r3(i){return"ebkit"==i.substring(1,6)}(i)&&(e=i in Zg.style,!e&&pk&&(e="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in Zg.style)),e}(t)}matchesElement(t,o){return!1}containsElement(t,o){return gk(t,o)}getParentElement(t){return wC(t)}query(t,o,c){return mk(t,o,c)}computeStyle(t,o,c){return c||""}animate(t,o,c,h,p,m=[],_){return new S_(c,h)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ne({token:i,factory:i.\u0275fac}),i})(),EC=(()=>{class i{}return i.NOOP=new vk,i})();const CC="ng-enter",vw="ng-leave",yw="ng-trigger",M_=".ng-trigger",_k="ng-animating",DC=".ng-animating";function gp(i){if("number"==typeof i)return i;const e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:SC(parseFloat(e[1]),e[2])}function SC(i,e){return"s"===e?1e3*i:i}function _w(i,e,t){return i.hasOwnProperty("duration")?i:function c3(i,e,t){let c,h=0,p="";if("string"==typeof i){const m=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(ck()),{duration:0,delay:0,easing:""};c=SC(parseFloat(m[1]),m[2]);const _=m[3];null!=_&&(h=SC(parseFloat(_),m[4]));const E=m[5];E&&(p=E)}else c=i;if(!t){let m=!1,_=e.length;c<0&&(e.push(function EU(){return new Ee(3100,!1)}()),m=!0),h<0&&(e.push(function CU(){return new Ee(3101,!1)}()),m=!0),m&&e.splice(_,0,ck())}return{duration:c,delay:h,easing:p}}(i,e,t)}function k_(i,e={}){return Object.keys(i).forEach(t=>{e[t]=i[t]}),e}function bk(i){const e=new Map;return Object.keys(i).forEach(t=>{e.set(t,i[t])}),e}function mp(i,e=new Map,t){if(t)for(let[o,c]of t)e.set(o,c);for(let[o,c]of i)e.set(o,c);return e}function Ek(i,e,t){return t?e+":"+t+";":""}function Ck(i){let e="";for(let t=0;t<i.style.length;t++){const o=i.style.item(t);e+=Ek(0,o,i.style.getPropertyValue(o))}for(const t in i.style)i.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Ek(0,f3(t),i.style[t]));i.setAttribute("style",e)}function mh(i,e,t){i.style&&(e.forEach((o,c)=>{const h=IC(c);t&&!t.has(c)&&t.set(c,i.style[h]),i.style[h]=o}),mC()&&Ck(i))}function Jg(i,e){i.style&&(e.forEach((t,o)=>{const c=IC(o);i.style[c]=""}),mC()&&Ck(i))}function R_(i){return Array.isArray(i)?1==i.length?i[0]:LM(i):i}const TC=new RegExp("{{\\s*(.+?)\\s*}}","g");function Dk(i){let e=[];if("string"==typeof i){let t;for(;t=TC.exec(i);)e.push(t[1]);TC.lastIndex=0}return e}function bw(i,e,t){const o=i.toString(),c=o.replace(TC,(h,p)=>{let m=e[p];return null==m&&(t.push(function SU(i){return new Ee(3003,!1)}()),m=""),m.toString()});return c==o?i:c}function ww(i){const e=[];let t=i.next();for(;!t.done;)e.push(t.value),t=i.next();return e}const d3=/-+([a-z0-9])/g;function IC(i){return i.replace(d3,(...e)=>e[1].toUpperCase())}function f3(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Oa(i,e,t){switch(e.type){case 7:return i.visitTrigger(e,t);case 0:return i.visitState(e,t);case 1:return i.visitTransition(e,t);case 2:return i.visitSequence(e,t);case 3:return i.visitGroup(e,t);case 4:return i.visitAnimate(e,t);case 5:return i.visitKeyframes(e,t);case 6:return i.visitStyle(e,t);case 8:return i.visitReference(e,t);case 9:return i.visitAnimateChild(e,t);case 10:return i.visitAnimateRef(e,t);case 11:return i.visitQuery(e,t);case 12:return i.visitStagger(e,t);default:throw function TU(i){return new Ee(3004,!1)}()}}function Sk(i,e){return window.getComputedStyle(i)[e]}function _3(i,e){const t=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(o=>function b3(i,e,t){if(":"==i[0]){const _=function w3(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,o)=>parseFloat(o)>parseFloat(t);case":decrement":return(t,o)=>parseFloat(o)<parseFloat(t);default:return e.push(function jU(i){return new Ee(3016,!1)}()),"* => *"}}(i,t);if("function"==typeof _)return void e.push(_);i=_}const o=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return t.push(function VU(i){return new Ee(3015,!1)}()),e;const c=o[1],h=o[2],p=o[3];e.push(Tk(c,p));"<"==h[0]&&!("*"==c&&"*"==p)&&e.push(Tk(p,c))}(o,t,e)):t.push(i),t}const Sw=new Set(["true","1"]),Tw=new Set(["false","0"]);function Tk(i,e){const t=Sw.has(i)||Tw.has(i),o=Sw.has(e)||Tw.has(e);return(c,h)=>{let p="*"==i||i==c,m="*"==e||e==h;return!p&&t&&"boolean"==typeof c&&(p=c?Sw.has(i):Tw.has(i)),!m&&o&&"boolean"==typeof h&&(m=h?Sw.has(e):Tw.has(e)),p&&m}}const E3=new RegExp("s*:selfs*,?","g");function AC(i,e,t,o){return new C3(i).build(e,t,o)}class C3{constructor(e){this._driver=e}build(e,t,o){const c=new T3(t);return this._resetContextStyleTimingState(c),Oa(this,R_(e),c)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let o=t.queryCount=0,c=t.depCount=0;const h=[],p=[];return"@"==e.name.charAt(0)&&t.errors.push(function AU(){return new Ee(3006,!1)}()),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const _=m,E=_.name;E.toString().split(/\s*,\s*/).forEach(S=>{_.name=S,h.push(this.visitState(_,t))}),_.name=E}else if(1==m.type){const _=this.visitTransition(m,t);o+=_.queryCount,c+=_.depCount,p.push(_)}else t.errors.push(function MU(){return new Ee(3007,!1)}())}),{type:7,name:e.name,states:h,transitions:p,queryCount:o,depCount:c,options:null}}visitState(e,t){const o=this.visitStyle(e.styles,t),c=e.options&&e.options.params||null;if(o.containsDynamicStyles){const h=new Set,p=c||{};o.styles.forEach(m=>{m instanceof Map&&m.forEach(_=>{Dk(_).forEach(E=>{p.hasOwnProperty(E)||h.add(E)})})}),h.size&&(ww(h.values()),t.errors.push(function kU(i,e){return new Ee(3008,!1)}()))}return{type:0,name:e.name,style:o,options:c?{params:c}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const o=Oa(this,R_(e.animation),t);return{type:1,matchers:_3(e.expr,t.errors),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:em(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(o=>Oa(this,o,t)),options:em(e.options)}}visitGroup(e,t){const o=t.currentTime;let c=0;const h=e.steps.map(p=>{t.currentTime=o;const m=Oa(this,p,t);return c=Math.max(c,t.currentTime),m});return t.currentTime=c,{type:3,steps:h,options:em(e.options)}}visitAnimate(e,t){const o=function A3(i,e){if(i.hasOwnProperty("duration"))return i;if("number"==typeof i)return MC(_w(i,e).duration,0,"");const t=i;if(t.split(/\s+/).some(h=>"{"==h.charAt(0)&&"{"==h.charAt(1))){const h=MC(0,0,"");return h.dynamic=!0,h.strValue=t,h}const c=_w(t,e);return MC(c.duration,c.delay,c.easing)}(e.timings,t.errors);t.currentAnimateTimings=o;let c,h=e.styles?e.styles:gh({});if(5==h.type)c=this.visitKeyframes(h,t);else{let p=e.styles,m=!1;if(!p){m=!0;const E={};o.easing&&(E.easing=o.easing),p=gh(E)}t.currentTime+=o.duration+o.delay;const _=this.visitStyle(p,t);_.isEmptyStep=m,c=_}return t.currentAnimateTimings=null,{type:4,timings:o,style:c,options:null}}visitStyle(e,t){const o=this._makeStyleAst(e,t);return this._validateStyleAst(o,t),o}_makeStyleAst(e,t){const o=[],c=Array.isArray(e.styles)?e.styles:[e.styles];for(let m of c)"string"==typeof m?m===xd?o.push(m):t.errors.push(new Ee(3002,!1)):o.push(bk(m));let h=!1,p=null;return o.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(p=m.get("easing"),m.delete("easing")),!h))for(let _ of m.values())if(_.toString().indexOf("{{")>=0){h=!0;break}}),{type:6,styles:o,easing:p,offset:e.offset,containsDynamicStyles:h,options:null}}_validateStyleAst(e,t){const o=t.currentAnimateTimings;let c=t.currentTime,h=t.currentTime;o&&h>0&&(h-=o.duration+o.delay),e.styles.forEach(p=>{"string"!=typeof p&&p.forEach((m,_)=>{const E=t.collectedStyles.get(t.currentQuerySelector),S=E.get(_);let R=!0;S&&(h!=c&&h>=S.startTime&&c<=S.endTime&&(t.errors.push(function xU(i,e,t,o,c){return new Ee(3010,!1)}()),R=!1),h=S.startTime),R&&E.set(_,{startTime:h,endTime:c}),t.options&&function h3(i,e,t){const o=e.params||{},c=Dk(i);c.length&&c.forEach(h=>{o.hasOwnProperty(h)||t.push(function DU(i){return new Ee(3001,!1)}())})}(m,t.options,t.errors)})})}visitKeyframes(e,t){const o={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function OU(){return new Ee(3011,!1)}()),o;let h=0;const p=[];let m=!1,_=!1,E=0;const S=e.steps.map(fe=>{const xe=this._makeStyleAst(fe,t);let he=null!=xe.offset?xe.offset:function I3(i){if("string"==typeof i)return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(t instanceof Map&&t.has("offset")){const o=t;e=parseFloat(o.get("offset")),o.delete("offset")}});else if(i instanceof Map&&i.has("offset")){const t=i;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(xe.styles),Ve=0;return null!=he&&(h++,Ve=xe.offset=he),_=_||Ve<0||Ve>1,m=m||Ve<E,E=Ve,p.push(Ve),xe});_&&t.errors.push(function PU(){return new Ee(3012,!1)}()),m&&t.errors.push(function NU(){return new Ee(3200,!1)}());const R=e.steps.length;let F=0;h>0&&h<R?t.errors.push(function FU(){return new Ee(3202,!1)}()):0==h&&(F=1/(R-1));const B=R-1,q=t.currentTime,Y=t.currentAnimateTimings,ce=Y.duration;return S.forEach((fe,xe)=>{const he=F>0?xe==B?1:F*xe:p[xe],Ve=he*ce;t.currentTime=q+Y.delay+Ve,Y.duration=Ve,this._validateStyleAst(fe,t),fe.offset=he,o.styles.push(fe)}),o}visitReference(e,t){return{type:8,animation:Oa(this,R_(e.animation),t),options:em(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:em(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:em(e.options)}}visitQuery(e,t){const o=t.currentQuerySelector,c=e.options||{};t.queryCount++,t.currentQuery=e;const[h,p]=function D3(i){const e=!!i.split(/\s*,\s*/).find(t=>":self"==t);return e&&(i=i.replace(E3,"")),i=i.replace(/@\*/g,M_).replace(/@\w+/g,t=>M_+"-"+t.slice(1)).replace(/:animating/g,DC),[i,e]}(e.selector);t.currentQuerySelector=o.length?o+" "+h:h,xa(t.collectedStyles,t.currentQuerySelector,new Map);const m=Oa(this,R_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=o,{type:11,selector:h,limit:c.limit||0,optional:!!c.optional,includeSelf:p,animation:m,originalSelector:e.selector,options:em(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function LU(){return new Ee(3013,!1)}());const o="full"===e.timings?{duration:0,delay:0,easing:"full"}:_w(e.timings,t.errors,!0);return{type:12,animation:Oa(this,R_(e.animation),t),timings:o,options:null}}}class T3{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set,this.nonAnimatableCSSPropertiesFound=new Set}}function em(i){return i?(i=k_(i)).params&&(i.params=function S3(i){return i?k_(i):null}(i.params)):i={},i}function MC(i,e,t){return{duration:i,delay:e,easing:t}}function kC(i,e,t,o,c,h,p=null,m=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:o,duration:c,delay:h,totalTime:c+h,easing:p,subTimeline:m}}class Iw{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let o=this._map.get(e);o||this._map.set(e,o=[]),o.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const R3=new RegExp(":enter","g"),O3=new RegExp(":leave","g");function RC(i,e,t,o,c,h=new Map,p=new Map,m,_,E=[]){return(new P3).buildKeyframes(i,e,t,o,c,h,p,m,_,E)}class P3{buildKeyframes(e,t,o,c,h,p,m,_,E,S=[]){E=E||new Iw;const R=new xC(e,t,E,c,h,S,[]);R.options=_;const F=_.delay?gp(_.delay):0;R.currentTimeline.delayNextStep(F),R.currentTimeline.setStyles([p],null,R.errors,_),Oa(this,o,R);const B=R.timelines.filter(q=>q.containsAnimation());if(B.length&&m.size){let q;for(let Y=B.length-1;Y>=0;Y--){const ce=B[Y];if(ce.element===t){q=ce;break}}q&&!q.allowOnlyTimelineStyles()&&q.setStyles([m],null,R.errors,_)}return B.length?B.map(q=>q.buildKeyframes()):[kC(t,[],[],[],0,F,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const o=t.subInstructions.get(t.element);if(o){const c=t.createSubContext(e.options),h=t.currentTimeline.currentTime,p=this._visitSubInstructions(o,c,c.options);h!=p&&t.transformIntoNewTimeline(p)}t.previousNode=e}visitAnimateRef(e,t){const o=t.createSubContext(e.options);o.transformIntoNewTimeline(),this.visitReference(e.animation,o),t.transformIntoNewTimeline(o.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,o){let h=t.currentTimeline.currentTime;const p=null!=o.duration?gp(o.duration):null,m=null!=o.delay?gp(o.delay):null;return 0!==p&&e.forEach(_=>{const E=t.appendInstructionToTimeline(_,p,m);h=Math.max(h,E.duration+E.delay)}),h}visitReference(e,t){t.updateOptions(e.options,!0),Oa(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const o=t.subContextCount;let c=t;const h=e.options;if(h&&(h.params||h.delay)&&(c=t.createSubContext(h),c.transformIntoNewTimeline(),null!=h.delay)){6==c.previousNode.type&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=Aw);const p=gp(h.delay);c.delayNextStep(p)}e.steps.length&&(e.steps.forEach(p=>Oa(this,p,c)),c.currentTimeline.applyStylesToKeyframe(),c.subContextCount>o&&c.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const o=[];let c=t.currentTimeline.currentTime;const h=e.options&&e.options.delay?gp(e.options.delay):0;e.steps.forEach(p=>{const m=t.createSubContext(e.options);h&&m.delayNextStep(h),Oa(this,p,m),c=Math.max(c,m.currentTimeline.currentTime),o.push(m.currentTimeline)}),o.forEach(p=>t.currentTimeline.mergeTimelineCollectedStyles(p)),t.transformIntoNewTimeline(c),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const o=e.strValue;return _w(t.params?bw(o,t.params,t.errors):o,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const o=t.currentAnimateTimings=this._visitTiming(e.timings,t),c=t.currentTimeline;o.delay&&(t.incrementTime(o.delay),c.snapshotCurrentStyles());const h=e.style;5==h.type?this.visitKeyframes(h,t):(t.incrementTime(o.duration),this.visitStyle(h,t),c.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const o=t.currentTimeline,c=t.currentAnimateTimings;!c&&o.hasCurrentStyleProperties()&&o.forwardFrame();const h=c&&c.easing||e.easing;e.isEmptyStep?o.applyEmptyStep(h):o.setStyles(e.styles,h,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const o=t.currentAnimateTimings,c=t.currentTimeline.duration,h=o.duration,m=t.createSubContext().currentTimeline;m.easing=o.easing,e.styles.forEach(_=>{m.forwardTime((_.offset||0)*h),m.setStyles(_.styles,_.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(c+h),t.previousNode=e}visitQuery(e,t){const o=t.currentTimeline.currentTime,c=e.options||{},h=c.delay?gp(c.delay):0;h&&(6===t.previousNode.type||0==o&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Aw);let p=o;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!c.optional,t.errors);t.currentQueryTotal=m.length;let _=null;m.forEach((E,S)=>{t.currentQueryIndex=S;const R=t.createSubContext(e.options,E);h&&R.delayNextStep(h),E===t.element&&(_=R.currentTimeline),Oa(this,e.animation,R),R.currentTimeline.applyStylesToKeyframe(),p=Math.max(p,R.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(p),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const o=t.parentContext,c=t.currentTimeline,h=e.timings,p=Math.abs(h.duration),m=p*(t.currentQueryTotal-1);let _=p*t.currentQueryIndex;switch(h.duration<0?"reverse":h.easing){case"reverse":_=m-_;break;case"full":_=o.currentStaggerTime}const S=t.currentTimeline;_&&S.delayNextStep(_);const R=S.currentTime;Oa(this,e.animation,t),t.previousNode=e,o.currentStaggerTime=c.currentTime-R+(c.startTime-o.currentTimeline.startTime)}}const Aw={};class xC{constructor(e,t,o,c,h,p,m,_){this._driver=e,this.element=t,this.subInstructions=o,this._enterClassName=c,this._leaveClassName=h,this.errors=p,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Aw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new Mw(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const o=e;let c=this.options;null!=o.duration&&(c.duration=gp(o.duration)),null!=o.delay&&(c.delay=gp(o.delay));const h=o.params;if(h){let p=c.params;p||(p=this.options.params={}),Object.keys(h).forEach(m=>{(!t||!p.hasOwnProperty(m))&&(p[m]=bw(h[m],p,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const o=e.params={};Object.keys(t).forEach(c=>{o[c]=t[c]})}}return e}createSubContext(e=null,t,o){const c=t||this.element,h=new xC(this._driver,c,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(c,o||0));return h.previousNode=this.previousNode,h.currentAnimateTimings=this.currentAnimateTimings,h.options=this._copyOptions(),h.updateOptions(e),h.currentQueryIndex=this.currentQueryIndex,h.currentQueryTotal=this.currentQueryTotal,h.parentContext=this,this.subContextCount++,h}transformIntoNewTimeline(e){return this.previousNode=Aw,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,o){const c={duration:t??e.duration,delay:this.currentTimeline.currentTime+(o??0)+e.delay,easing:""},h=new N3(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,c,e.stretchStartingKeyframe);return this.timelines.push(h),c}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,o,c,h,p){let m=[];if(c&&m.push(this.element),e.length>0){e=(e=e.replace(R3,"."+this._enterClassName)).replace(O3,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=o);0!==o&&(E=o<0?E.slice(E.length+o,E.length):E.slice(0,o)),m.push(...E)}return!h&&0==m.length&&p.push(function BU(i){return new Ee(3014,!1)}()),m}}class Mw{constructor(e,t,o,c){this._driver=e,this.element=t,this.startTime=o,this._elementTimelineStylesLookup=c,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Mw(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,o]of this._globalTimelineStyles)this._backFill.set(t,o||xd),this._currentKeyframe.set(t,xd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,o,c){t&&this._previousKeyframe.set("easing",t);const h=c&&c.params||{},p=function F3(i,e){const t=new Map;let o;return i.forEach(c=>{if("*"===c){o=o||e.keys();for(let h of o)t.set(h,xd)}else mp(c,t)}),t}(e,this._globalTimelineStyles);for(let[m,_]of p){const E=bw(_,h,o);this._pendingStyles.set(m,E),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)||xd),this._updateStyle(m,E)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,o)=>{const c=this._styleSummary.get(o);(!c||t.time>c.time)&&this._updateStyle(o,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,o=1===this._keyframes.size&&0===this.duration;let c=[];this._keyframes.forEach((m,_)=>{const E=mp(m,new Map,this._backFill);E.forEach((S,R)=>{"!"===S?e.add(R):S===xd&&t.add(R)}),o||E.set("offset",_/this.duration),c.push(E)});const h=e.size?ww(e.values()):[],p=t.size?ww(t.values()):[];if(o){const m=c[0],_=new Map(m);m.set("offset",0),_.set("offset",1),c=[m,_]}return kC(this.element,c,h,p,this.duration,this.startTime,this.easing,!1)}}class N3 extends Mw{constructor(e,t,o,c,h,p,m=!1){super(e,t,p.delay),this.keyframes=o,this.preStyleProps=c,this.postStyleProps=h,this._stretchStartingKeyframe=m,this.timings={duration:p.duration,delay:p.delay,easing:p.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:o,easing:c}=this.timings;if(this._stretchStartingKeyframe&&t){const h=[],p=o+t,m=t/p,_=mp(e[0]);_.set("offset",0),h.push(_);const E=mp(e[0]);E.set("offset",Mk(m)),h.push(E);const S=e.length-1;for(let R=1;R<=S;R++){let F=mp(e[R]);const B=F.get("offset");F.set("offset",Mk((t+B*o)/p)),h.push(F)}o=p,t=0,c="",e=h}return kC(this.element,e,this.preStyleProps,this.postStyleProps,o,t,c,!0)}}function Mk(i,e=3){const t=Math.pow(10,e-1);return Math.round(i*t)/t}class OC{}const L3=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class B3 extends OC{normalizePropertyName(e,t){return IC(e)}normalizeStyleValue(e,t,o,c){let h="";const p=o.toString().trim();if(L3.has(t)&&0!==o&&"0"!==o)if("number"==typeof o)h="px";else{const m=o.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&c.push(function IU(i,e){return new Ee(3005,!1)}())}return p+h}}function kk(i,e,t,o,c,h,p,m,_,E,S,R,F){return{type:0,element:i,triggerName:e,isRemovalTransition:c,fromState:t,fromStyles:h,toState:o,toStyles:p,timelines:m,queriedElements:_,preStyleProps:E,postStyleProps:S,totalTime:R,errors:F}}const PC={};class Rk{constructor(e,t,o){this._triggerName=e,this.ast=t,this._stateStyles=o}match(e,t,o,c){return function V3(i,e,t,o,c){return i.some(h=>h(e,t,o,c))}(this.ast.matchers,e,t,o,c)}buildStyles(e,t,o){let c=this._stateStyles.get("*");return void 0!==e&&(c=this._stateStyles.get(e?.toString())||c),c?c.buildStyles(t,o):new Map}build(e,t,o,c,h,p,m,_,E,S){const R=[],F=this.ast.options&&this.ast.options.params||PC,q=this.buildStyles(o,m&&m.params||PC,R),Y=_&&_.params||PC,ce=this.buildStyles(c,Y,R),fe=new Set,xe=new Map,he=new Map,Ve="void"===c,Ht={params:j3(Y,F),delay:this.ast.options?.delay},Tn=S?[]:RC(e,t,this.ast.animation,h,p,q,ce,Ht,E,R);let Kr=0;if(Tn.forEach(Na=>{Kr=Math.max(Na.duration+Na.delay,Kr)}),R.length)return kk(t,this._triggerName,o,c,Ve,q,ce,[],[],xe,he,Kr,R);Tn.forEach(Na=>{const Fa=Na.element,qv=xa(xe,Fa,new Set);Na.preStyleProps.forEach(Wc=>qv.add(Wc));const Od=xa(he,Fa,new Set);Na.postStyleProps.forEach(Wc=>Od.add(Wc)),Fa!==t&&fe.add(Fa)});const Pa=ww(fe.values());return kk(t,this._triggerName,o,c,Ve,q,ce,Tn,Pa,xe,he,Kr)}}function j3(i,e){const t=k_(e);for(const o in i)i.hasOwnProperty(o)&&null!=i[o]&&(t[o]=i[o]);return t}class U3{constructor(e,t,o){this.styles=e,this.defaultParams=t,this.normalizer=o}buildStyles(e,t){const o=new Map,c=k_(this.defaultParams);return Object.keys(e).forEach(h=>{const p=e[h];null!==p&&(c[h]=p)}),this.styles.styles.forEach(h=>{"string"!=typeof h&&h.forEach((p,m)=>{p&&(p=bw(p,c,t));const _=this.normalizer.normalizePropertyName(m,t);p=this.normalizer.normalizeStyleValue(m,_,p,t),o.set(_,p)})}),o}}class z3{constructor(e,t,o){this.name=e,this.ast=t,this._normalizer=o,this.transitionFactories=[],this.states=new Map,t.states.forEach(c=>{this.states.set(c.name,new U3(c.style,c.options&&c.options.params||{},o))}),xk(this.states,"true","1"),xk(this.states,"false","0"),t.transitions.forEach(c=>{this.transitionFactories.push(new Rk(e,c,this.states))}),this.fallbackTransition=function q3(i,e,t){return new Rk(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(p,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,o,c){return this.transitionFactories.find(p=>p.match(e,t,o,c))||null}matchStyles(e,t,o){return this.fallbackTransition.buildStyles(e,t,o)}}function xk(i,e,t){i.has(e)?i.has(t)||i.set(t,i.get(e)):i.has(t)&&i.set(e,i.get(t))}const $3=new Iw;class G3{constructor(e,t,o){this.bodyNode=e,this._driver=t,this._normalizer=o,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const o=[],h=AC(this._driver,t,o,[]);if(o.length)throw function $U(i){return new Ee(3503,!1)}();this._animations.set(e,h)}_buildPlayer(e,t,o){const c=e.element,h=lk(0,this._normalizer,0,e.keyframes,t,o);return this._driver.animate(c,h,e.duration,e.delay,e.easing,[],!0)}create(e,t,o={}){const c=[],h=this._animations.get(e);let p;const m=new Map;if(h?(p=RC(this._driver,t,h,CC,vw,new Map,new Map,o,$3,c),p.forEach(S=>{const R=xa(m,S.element,new Map);S.postStyleProps.forEach(F=>R.set(F,null))})):(c.push(function GU(){return new Ee(3300,!1)}()),p=[]),c.length)throw function WU(i){return new Ee(3504,!1)}();m.forEach((S,R)=>{S.forEach((F,B)=>{S.set(B,this._driver.computeStyle(R,B,xd))})});const E=pp(p.map(S=>{const R=m.get(S.element);return this._buildPlayer(S,new Map,R)}));return this._playersById.set(e,E),E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const o=this.players.indexOf(t);o>=0&&this.players.splice(o,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function KU(i){return new Ee(3301,!1)}();return t}listen(e,t,o,c){const h=_C(t,"","","");return vC(this._getPlayer(e),o,h,c),()=>{}}command(e,t,o,c){if("register"==o)return void this.register(e,c[0]);if("create"==o)return void this.create(e,t,c[0]||{});const h=this._getPlayer(e);switch(o){case"play":h.play();break;case"pause":h.pause();break;case"reset":h.reset();break;case"restart":h.restart();break;case"finish":h.finish();break;case"init":h.init();break;case"setPosition":h.setPosition(parseFloat(c[0]));break;case"destroy":this.destroy(e)}}}const Ok="ng-animate-queued",NC="ng-animate-disabled",X3=[],Pk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Z3={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hu="__ng_removed";class FC{constructor(e,t=""){this.namespaceId=t;const o=e&&e.hasOwnProperty("value");if(this.value=function nH(i){return i??null}(o?e.value:e),o){const h=k_(e);delete h.value,this.options=h}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const o=this.options.params;Object.keys(t).forEach(c=>{null==o[c]&&(o[c]=t[c])})}}}const x_="void",LC=new FC(x_);class J3{constructor(e,t,o){this.id=e,this.hostElement=t,this._engine=o,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,zu(t,this._hostClassName)}listen(e,t,o,c){if(!this._triggers.has(t))throw function YU(i,e){return new Ee(3302,!1)}();if(null==o||0==o.length)throw function QU(i){return new Ee(3303,!1)}();if(!function rH(i){return"start"==i||"done"==i}(o))throw function XU(i,e){return new Ee(3400,!1)}();const h=xa(this._elementListeners,e,[]),p={name:t,phase:o,callback:c};h.push(p);const m=xa(this._engine.statesByElement,e,new Map);return m.has(t)||(zu(e,yw),zu(e,yw+"-"+t),m.set(t,LC)),()=>{this._engine.afterFlush(()=>{const _=h.indexOf(p);_>=0&&h.splice(_,1),this._triggers.has(t)||m.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function ZU(i){return new Ee(3401,!1)}();return t}trigger(e,t,o,c=!0){const h=this._getTrigger(t),p=new BC(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(zu(e,yw),zu(e,yw+"-"+t),this._engine.statesByElement.set(e,m=new Map));let _=m.get(t);const E=new FC(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&_&&E.absorbOptions(_.options),m.set(t,E),_||(_=LC),E.value!==x_&&_.value===E.value){if(!function sH(i,e){const t=Object.keys(i),o=Object.keys(e);if(t.length!=o.length)return!1;for(let c=0;c<t.length;c++){const h=t[c];if(!e.hasOwnProperty(h)||i[h]!==e[h])return!1}return!0}(_.params,E.params)){const Y=[],ce=h.matchStyles(_.value,_.params,Y),fe=h.matchStyles(E.value,E.params,Y);Y.length?this._engine.reportError(Y):this._engine.afterFlush(()=>{Jg(e,ce),mh(e,fe)})}return}const F=xa(this._engine.playersByElement,e,[]);F.forEach(Y=>{Y.namespaceId==this.id&&Y.triggerName==t&&Y.queued&&Y.destroy()});let B=h.matchTransition(_.value,E.value,e,E.params),q=!1;if(!B){if(!c)return;B=h.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:_,toState:E,player:p,isFallbackTransition:q}),q||(zu(e,Ok),p.onStart(()=>{zv(e,Ok)})),p.onDone(()=>{let Y=this.players.indexOf(p);Y>=0&&this.players.splice(Y,1);const ce=this._engine.playersByElement.get(e);if(ce){let fe=ce.indexOf(p);fe>=0&&ce.splice(fe,1)}}),this.players.push(p),F.push(p),p}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,o)=>{this._elementListeners.set(o,t.filter(c=>c.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(o=>o.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const o=this._engine.driver.query(e,M_,!0),c=e.shadowRoot?this._engine.driver.query(e.shadowRoot,M_,!0):[];[...o,...c].forEach(h=>{if(h[Hu])return;const p=this._engine.fetchNamespacesByElement(h);p.size?p.forEach(m=>m.triggerLeaveAnimation(h,t,!1,!0)):this.clearElementCache(h)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(h=>this.clearElementCache(h)))}triggerLeaveAnimation(e,t,o,c){const h=this._engine.statesByElement.get(e),p=new Map;if(h){const m=[];if(h.forEach((_,E)=>{if(p.set(E,_.value),this._triggers.has(E)){const S=this.trigger(e,E,x_,c);S&&m.push(S)}}),m.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,p),o&&pp(m).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),o=this._engine.statesByElement.get(e);if(t&&o){const c=new Set;t.forEach(h=>{const p=h.name;if(c.has(p))return;c.add(p);const _=this._triggers.get(p).fallbackTransition,E=o.get(p)||LC,S=new FC(x_),R=new BC(this.id,p,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:p,transition:_,fromState:E,toState:S,player:R,isFallbackTransition:!0})})}}removeNode(e,t){const o=this._engine;if((!!e.childElementCount||!(!e.shadowRoot||!e.shadowRoot.childElementCount))&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let p=!1;if(o.totalAnimations){const m=o.players.length?o.playersByQueriedElement.get(e):[];if(m&&m.length)p=!0;else{let _=e;for(;_=_.parentNode;)if(o.statesByElement.get(_)){p=!0;break}}}if(this.prepareLeaveAnimationListeners(e),p)o.markElementAsRemoved(this.id,e,!1,t);else{const m=e[Hu];(!m||m===Pk)&&(o.afterFlush(()=>this.clearElementCache(e)),o.destroyInnerAnimations(e),o._onRemovalComplete(e,t))}}insertNode(e,t){zu(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(o=>{const c=o.player;if(c.destroyed)return;const h=o.element,p=this._elementListeners.get(h);p&&p.forEach(m=>{if(m.name==o.triggerName){const _=_C(h,o.triggerName,o.fromState.value,o.toState.value);_._data=e,vC(o.player,m.phase,_,m.callback)}}),c.markedForDestroy?this._engine.afterFlush(()=>{c.destroy()}):t.push(o)}),this._queue=[],t.sort((o,c)=>{const h=o.transition.ast.depCount,p=c.transition.ast.depCount;return 0==h||0==p?h-p:this._engine.driver.containsElement(o.element,c.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(o=>o.element===e)||t,t}}class eH{constructor(e,t,o){this.bodyNode=e,this.driver=t,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(c,h)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(o=>{o.queued&&e.push(o)})}),e}createNamespace(e,t){const o=new J3(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(o,t):(this.newHostElements.set(t,o),this.collectEnterElement(t)),this._namespaceLookup[e]=o}_balanceNamespaceList(e,t){const o=this._namespaceList,c=this.namespacesByHostElement;if(o.length-1>=0){let p=!1,m=this.driver.getParentElement(t);for(;m;){const _=c.get(m);if(_){const E=o.indexOf(_);o.splice(E+1,0,e),p=!0;break}m=this.driver.getParentElement(m)}p||o.unshift(e)}else o.push(e);return c.set(t,e),e}register(e,t){let o=this._namespaceLookup[e];return o||(o=this.createNamespace(e,t)),o}registerTrigger(e,t,o){let c=this._namespaceLookup[e];c&&c.register(t,o)&&this.totalAnimations++}destroy(e,t){if(!e)return;const o=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[e];const c=this._namespaceList.indexOf(o);c>=0&&this._namespaceList.splice(c,1)}),this.afterFlushAnimationsDone(()=>o.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,o=this.statesByElement.get(e);if(o)for(let c of o.values())if(c.namespaceId){const h=this._fetchNamespace(c.namespaceId);h&&t.add(h)}return t}trigger(e,t,o,c){if(kw(t)){const h=this._fetchNamespace(e);if(h)return h.trigger(t,o,c),!0}return!1}insertNode(e,t,o,c){if(!kw(t))return;const h=t[Hu];if(h&&h.setForRemoval){h.setForRemoval=!1,h.setForMove=!0;const p=this.collectedLeaveElements.indexOf(t);p>=0&&this.collectedLeaveElements.splice(p,1)}if(e){const p=this._fetchNamespace(e);p&&p.insertNode(t,o)}c&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),zu(e,NC)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),zv(e,NC))}removeNode(e,t,o,c){if(kw(t)){const h=e?this._fetchNamespace(e):null;if(h?h.removeNode(t,c):this.markElementAsRemoved(e,t,!1,c),o){const p=this.namespacesByHostElement.get(t);p&&p.id!==e&&p.removeNode(t,c)}}else this._onRemovalComplete(t,c)}markElementAsRemoved(e,t,o,c,h){this.collectedLeaveElements.push(t),t[Hu]={namespaceId:e,setForRemoval:c,hasAnimation:o,removedBeforeQueried:!1,previousTriggersValues:h}}listen(e,t,o,c,h){return kw(t)?this._fetchNamespace(e).listen(t,o,c,h):()=>{}}_buildInstruction(e,t,o,c,h){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,o,c,e.fromState.options,e.toState.options,t,h)}destroyInnerAnimations(e){let t=this.driver.query(e,M_,!0);t.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,DC,!0),t.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return pp(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Hu];if(t&&t.setForRemoval){if(e[Hu]=Pk,t.namespaceId){this.destroyInnerAnimations(e);const o=this._fetchNamespace(t.namespaceId);o&&o.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(NC)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,c)=>this._balanceNamespaceList(o,c)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)zu(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{t=this._flushAnimations(o,e)}finally{for(let c=0;c<o.length;c++)o[c]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],t.length?pp(t).onDone(()=>{o.forEach(c=>c())}):o.forEach(c=>c())}}reportError(e){throw function JU(i){return new Ee(3402,!1)}()}_flushAnimations(e,t){const o=new Iw,c=[],h=new Map,p=[],m=new Map,_=new Map,E=new Map,S=new Set;this.disabledNodes.forEach(Qe=>{S.add(Qe);const Dt=this.driver.query(Qe,".ng-animate-queued",!0);for(let Ot=0;Ot<Dt.length;Ot++)S.add(Dt[Ot])});const R=this.bodyNode,F=Array.from(this.statesByElement.keys()),B=Lk(F,this.collectedEnterElements),q=new Map;let Y=0;B.forEach((Qe,Dt)=>{const Ot=CC+Y++;q.set(Dt,Ot),Qe.forEach(Nn=>zu(Nn,Ot))});const ce=[],fe=new Set,xe=new Set;for(let Qe=0;Qe<this.collectedLeaveElements.length;Qe++){const Dt=this.collectedLeaveElements[Qe],Ot=Dt[Hu];Ot&&Ot.setForRemoval&&(ce.push(Dt),fe.add(Dt),Ot.hasAnimation?this.driver.query(Dt,".ng-star-inserted",!0).forEach(Nn=>fe.add(Nn)):xe.add(Dt))}const he=new Map,Ve=Lk(F,Array.from(fe));Ve.forEach((Qe,Dt)=>{const Ot=vw+Y++;he.set(Dt,Ot),Qe.forEach(Nn=>zu(Nn,Ot))}),e.push(()=>{B.forEach((Qe,Dt)=>{const Ot=q.get(Dt);Qe.forEach(Nn=>zv(Nn,Ot))}),Ve.forEach((Qe,Dt)=>{const Ot=he.get(Dt);Qe.forEach(Nn=>zv(Nn,Ot))}),ce.forEach(Qe=>{this.processLeaveNode(Qe)})});const Ht=[],Tn=[];for(let Qe=this._namespaceList.length-1;Qe>=0;Qe--)this._namespaceList[Qe].drainQueuedTransitions(t).forEach(Ot=>{const Nn=Ot.player,bo=Ot.element;if(Ht.push(Nn),this.collectedEnterElements.length){const Go=bo[Hu];if(Go&&Go.setForMove){if(Go.previousTriggersValues&&Go.previousTriggersValues.has(Ot.triggerName)){const tm=Go.previousTriggersValues.get(Ot.triggerName),qu=this.statesByElement.get(Ot.element);if(qu&&qu.has(Ot.triggerName)){const Ow=qu.get(Ot.triggerName);Ow.value=tm,qu.set(Ot.triggerName,Ow)}}return void Nn.destroy()}}const vh=!R||!this.driver.containsElement(R,bo),La=he.get(bo),vp=q.get(bo),Yr=this._buildInstruction(Ot,o,vp,La,vh);if(Yr.errors&&Yr.errors.length)return void Tn.push(Yr);if(vh)return Nn.onStart(()=>Jg(bo,Yr.fromStyles)),Nn.onDestroy(()=>mh(bo,Yr.toStyles)),void c.push(Nn);if(Ot.isFallbackTransition)return Nn.onStart(()=>Jg(bo,Yr.fromStyles)),Nn.onDestroy(()=>mh(bo,Yr.toStyles)),void c.push(Nn);const Wk=[];Yr.timelines.forEach(Go=>{Go.stretchStartingKeyframe=!0,this.disabledNodes.has(Go.element)||Wk.push(Go)}),Yr.timelines=Wk,o.append(bo,Yr.timelines),p.push({instruction:Yr,player:Nn,element:bo}),Yr.queriedElements.forEach(Go=>xa(m,Go,[]).push(Nn)),Yr.preStyleProps.forEach((Go,tm)=>{if(Go.size){let qu=_.get(tm);qu||_.set(tm,qu=new Set),Go.forEach((Ow,jC)=>qu.add(jC))}}),Yr.postStyleProps.forEach((Go,tm)=>{let qu=E.get(tm);qu||E.set(tm,qu=new Set),Go.forEach((Ow,jC)=>qu.add(jC))})});if(Tn.length){const Qe=[];Tn.forEach(Dt=>{Qe.push(function e3(i,e){return new Ee(3505,!1)}())}),Ht.forEach(Dt=>Dt.destroy()),this.reportError(Qe)}const Kr=new Map,Pa=new Map;p.forEach(Qe=>{const Dt=Qe.element;o.has(Dt)&&(Pa.set(Dt,Dt),this._beforeAnimationBuild(Qe.player.namespaceId,Qe.instruction,Kr))}),c.forEach(Qe=>{const Dt=Qe.element;this._getPreviousPlayers(Dt,!1,Qe.namespaceId,Qe.triggerName,null).forEach(Nn=>{xa(Kr,Dt,[]).push(Nn),Nn.destroy()})});const Na=ce.filter(Qe=>Vk(Qe,_,E)),Fa=new Map;Fk(Fa,this.driver,xe,E,xd).forEach(Qe=>{Vk(Qe,_,E)&&Na.push(Qe)});const Od=new Map;B.forEach((Qe,Dt)=>{Fk(Od,this.driver,new Set(Qe),_,"!")}),Na.forEach(Qe=>{const Dt=Fa.get(Qe),Ot=Od.get(Qe);Fa.set(Qe,new Map([...Array.from(Dt?.entries()??[]),...Array.from(Ot?.entries()??[])]))});const Wc=[],$v=[],Gv={};p.forEach(Qe=>{const{element:Dt,player:Ot,instruction:Nn}=Qe;if(o.has(Dt)){if(S.has(Dt))return Ot.onDestroy(()=>mh(Dt,Nn.toStyles)),Ot.disabled=!0,Ot.overrideTotalTime(Nn.totalTime),void c.push(Ot);let bo=Gv;if(Pa.size>1){let La=Dt;const vp=[];for(;La=La.parentNode;){const Yr=Pa.get(La);if(Yr){bo=Yr;break}vp.push(La)}vp.forEach(Yr=>Pa.set(Yr,bo))}const vh=this._buildAnimation(Ot.namespaceId,Nn,Kr,h,Od,Fa);if(Ot.setRealPlayer(vh),bo===Gv)Wc.push(Ot);else{const La=this.playersByElement.get(bo);La&&La.length&&(Ot.parentPlayer=pp(La)),c.push(Ot)}}else Jg(Dt,Nn.fromStyles),Ot.onDestroy(()=>mh(Dt,Nn.toStyles)),$v.push(Ot),S.has(Dt)&&c.push(Ot)}),$v.forEach(Qe=>{const Dt=h.get(Qe.element);if(Dt&&Dt.length){const Ot=pp(Dt);Qe.setRealPlayer(Ot)}}),c.forEach(Qe=>{Qe.parentPlayer?Qe.syncPlayerEvents(Qe.parentPlayer):Qe.destroy()});for(let Qe=0;Qe<ce.length;Qe++){const Dt=ce[Qe],Ot=Dt[Hu];if(zv(Dt,vw),Ot&&Ot.hasAnimation)continue;let Nn=[];if(m.size){let vh=m.get(Dt);vh&&vh.length&&Nn.push(...vh);let La=this.driver.query(Dt,DC,!0);for(let vp=0;vp<La.length;vp++){let Yr=m.get(La[vp]);Yr&&Yr.length&&Nn.push(...Yr)}}const bo=Nn.filter(vh=>!vh.destroyed);bo.length?iH(this,Dt,bo):this.processLeaveNode(Dt)}return ce.length=0,Wc.forEach(Qe=>{this.players.push(Qe),Qe.onDone(()=>{Qe.destroy();const Dt=this.players.indexOf(Qe);this.players.splice(Dt,1)}),Qe.play()}),Wc}elementContainsData(e,t){let o=!1;const c=t[Hu];return c&&c.setForRemoval&&(o=!0),this.playersByElement.has(t)&&(o=!0),this.playersByQueriedElement.has(t)&&(o=!0),this.statesByElement.has(t)&&(o=!0),this._fetchNamespace(e).elementContainsData(t)||o}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,o,c,h){let p=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(p=m)}else{const m=this.playersByElement.get(e);if(m){const _=!h||h==x_;m.forEach(E=>{E.queued||!_&&E.triggerName!=c||p.push(E)})}}return(o||c)&&(p=p.filter(m=>!(o&&o!=m.namespaceId||c&&c!=m.triggerName))),p}_beforeAnimationBuild(e,t,o){const h=t.element,p=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const E=_.element,S=E!==h,R=xa(o,E,[]);this._getPreviousPlayers(E,S,p,m,t.toState).forEach(B=>{const q=B.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),B.destroy(),R.push(B)})}Jg(h,t.fromStyles)}_buildAnimation(e,t,o,c,h,p){const m=t.triggerName,_=t.element,E=[],S=new Set,R=new Set,F=t.timelines.map(q=>{const Y=q.element;S.add(Y);const ce=Y[Hu];if(ce&&ce.removedBeforeQueried)return new S_(q.duration,q.delay);const fe=Y!==_,xe=function oH(i){const e=[];return Bk(i,e),e}((o.get(Y)||X3).map(Kr=>Kr.getRealPlayer())).filter(Kr=>!!Kr.element&&Kr.element===Y),he=h.get(Y),Ve=p.get(Y),Ht=lk(0,this._normalizer,0,q.keyframes,he,Ve),Tn=this._buildPlayer(q,Ht,xe);if(q.subTimeline&&c&&R.add(Y),fe){const Kr=new BC(e,m,Y);Kr.setRealPlayer(Tn),E.push(Kr)}return Tn});E.forEach(q=>{xa(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function tH(i,e,t){let o=i.get(e);if(o){if(o.length){const c=o.indexOf(t);o.splice(c,1)}0==o.length&&i.delete(e)}return o}(this.playersByQueriedElement,q.element,q))}),S.forEach(q=>zu(q,_k));const B=pp(F);return B.onDestroy(()=>{S.forEach(q=>zv(q,_k)),mh(_,t.toStyles)}),R.forEach(q=>{xa(c,q,[]).push(B)}),B}_buildPlayer(e,t,o){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,o):new S_(e.duration,e.delay)}}class BC{constructor(e,t,o){this.namespaceId=e,this.triggerName=t,this.element=o,this._player=new S_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,o)=>{t.forEach(c=>vC(e,o,void 0,c))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){xa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function kw(i){return i&&1===i.nodeType}function Nk(i,e){const t=i.style.display;return i.style.display=e??"none",t}function Fk(i,e,t,o,c){const h=[];t.forEach(_=>h.push(Nk(_)));const p=[];o.forEach((_,E)=>{const S=new Map;_.forEach(R=>{const F=e.computeStyle(E,R,c);S.set(R,F),(!F||0==F.length)&&(E[Hu]=Z3,p.push(E))}),i.set(E,S)});let m=0;return t.forEach(_=>Nk(_,h[m++])),p}function Lk(i,e){const t=new Map;if(i.forEach(m=>t.set(m,[])),0==e.length)return t;const c=new Set(e),h=new Map;function p(m){if(!m)return 1;let _=h.get(m);if(_)return _;const E=m.parentNode;return _=t.has(E)?E:c.has(E)?1:p(E),h.set(m,_),_}return e.forEach(m=>{const _=p(m);1!==_&&t.get(_).push(m)}),t}function zu(i,e){i.classList?.add(e)}function zv(i,e){i.classList?.remove(e)}function iH(i,e,t){pp(t).onDone(()=>i.processLeaveNode(e))}function Bk(i,e){for(let t=0;t<i.length;t++){const o=i[t];o instanceof VM?Bk(o.players,e):e.push(o)}}function Vk(i,e,t){const o=t.get(i);if(!o)return!1;let c=e.get(i);return c?o.forEach(h=>c.add(h)):e.set(i,o),t.delete(i),!0}class Rw{constructor(e,t,o){this.bodyNode=e,this._driver=t,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(c,h)=>{},this._transitionEngine=new eH(e,t,o),this._timelineEngine=new G3(e,t,o),this._transitionEngine.onRemovalComplete=(c,h)=>this.onRemovalComplete(c,h)}registerTrigger(e,t,o,c,h){const p=e+"-"+c;let m=this._triggerCache[p];if(!m){const _=[],S=AC(this._driver,h,_,[]);if(_.length)throw function zU(i,e){return new Ee(3404,!1)}();m=function H3(i,e,t){return new z3(i,e,t)}(c,S,this._normalizer),this._triggerCache[p]=m}this._transitionEngine.registerTrigger(t,c,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,o,c){this._transitionEngine.insertNode(e,t,o,c)}onRemove(e,t,o,c){this._transitionEngine.removeNode(e,t,c||!1,o)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,o,c){if("@"==o.charAt(0)){const[h,p]=hk(o);this._timelineEngine.command(h,t,p,c)}else this._transitionEngine.trigger(e,t,o,c)}listen(e,t,o,c,h){if("@"==o.charAt(0)){const[p,m]=hk(o);return this._timelineEngine.listen(p,t,m,h)}return this._transitionEngine.listen(e,t,o,c,h)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let uH=(()=>{class i{constructor(t,o,c){this._element=t,this._startStyles=o,this._endStyles=c,this._state=0;let h=i.initialStylesByElement.get(t);h||i.initialStylesByElement.set(t,h=new Map),this._initialStyles=h}start(){this._state<1&&(this._startStyles&&mh(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(mh(this._element,this._initialStyles),this._endStyles&&(mh(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Jg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Jg(this._element,this._endStyles),this._endStyles=null),mh(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function VC(i){let e=null;return i.forEach((t,o)=>{(function cH(i){return"display"===i||"position"===i})(o)&&(e=e||new Map,e.set(o,t))}),e}class jk{constructor(e,t,o,c){this.element=e,this.keyframes=t,this.options=o,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(o=>{t.push(Object.fromEntries(o))}),t}_triggerWebAnimation(e,t,o){return e.animate(this._convertKeyframesToObject(t),o)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((o,c)=>{"offset"!==c&&e.set(c,this._finished?o:Sk(this.element,c))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class lH{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return gk(e,t)}getParentElement(e){return wC(e)}query(e,t,o){return mk(e,t,o)}computeStyle(e,t,o){return window.getComputedStyle(e)[t]}animate(e,t,o,c,h,p=[]){const _={duration:o,delay:c,fill:0==c?"both":"forwards"};h&&(_.easing=h);const E=new Map,S=p.filter(B=>B instanceof jk);(function p3(i,e){return 0===i||0===e})(o,c)&&S.forEach(B=>{B.currentSnapshot.forEach((q,Y)=>E.set(Y,q))});let R=function l3(i){return i.length?i[0]instanceof Map?i:i.map(e=>bk(e)):[]}(t).map(B=>mp(B));R=function g3(i,e,t){if(t.size&&e.length){let o=e[0],c=[];if(t.forEach((h,p)=>{o.has(p)||c.push(p),o.set(p,h)}),c.length)for(let h=1;h<e.length;h++){let p=e[h];c.forEach(m=>p.set(m,Sk(i,m)))}}return e}(e,R,E);const F=function aH(i,e){let t=null,o=null;return Array.isArray(e)&&e.length?(t=VC(e[0]),e.length>1&&(o=VC(e[e.length-1]))):e instanceof Map&&(t=VC(e)),t||o?new uH(i,t,o):null}(e,R);return new jk(e,R,_,F)}}let hH=(()=>{class i extends FM{constructor(t,o){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(o.body,{id:"0",encapsulation:Jr.None,styles:[],data:{animation:[]}})}build(t){const o=this._nextAnimationId.toString();this._nextAnimationId++;const c=Array.isArray(t)?LM(t):t;return Uk(this._renderer,null,o,"register",[c]),new dH(o,this._renderer)}}return i.\u0275fac=function(t){return new(t||i)(re(zy),re(tn))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac}),i})();class dH extends class ZV{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new fH(this._id,e,t||{},this._renderer)}}class fH{constructor(e,t,o,c){this.id=e,this.element=t,this._renderer=c,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Uk(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Uk(i,e,t,o,c){return i.setProperty(e,`@@${t}:${o}`,c)}const Hk="@.disabled";let pH=(()=>{class i{constructor(t,o,c){this.delegate=t,this.engine=o,this._zone=c,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(h,p)=>{const m=p?.parentNode(h);m&&p.removeChild(m,h)}}createRenderer(t,o){const h=this.delegate.createRenderer(t,o);if(!(t&&o&&o.data&&o.data.animation)){let S=this._rendererCache.get(h);return S||(S=new zk("",h,this.engine),this._rendererCache.set(h,S)),S}const p=o.id,m=o.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const _=S=>{Array.isArray(S)?S.forEach(_):this.engine.registerTrigger(p,m,t,S.name,S)};return o.data.animation.forEach(_),new gH(this,m,h,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,o,c){t>=0&&t<this._microtaskId?this._zone.run(()=>o(c)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(h=>{const[p,m]=h;p(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,c]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(t){return new(t||i)(re(zy),re(Rw),re(en))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac}),i})();class zk{constructor(e,t,o){this.namespaceId=e,this.delegate=t,this.engine=o,this.destroyNode=this.delegate.destroyNode?c=>t.destroyNode(c):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,o,c=!0){this.delegate.insertBefore(e,t,o),this.engine.onInsert(this.namespaceId,t,e,c)}removeChild(e,t,o){this.engine.onRemove(this.namespaceId,t,this.delegate,o)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,o,c){this.delegate.setAttribute(e,t,o,c)}removeAttribute(e,t,o){this.delegate.removeAttribute(e,t,o)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,o,c){this.delegate.setStyle(e,t,o,c)}removeStyle(e,t,o){this.delegate.removeStyle(e,t,o)}setProperty(e,t,o){"@"==t.charAt(0)&&t==Hk?this.disableAnimations(e,!!o):this.delegate.setProperty(e,t,o)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,o){return this.delegate.listen(e,t,o)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class gH extends zk{constructor(e,t,o,c){super(t,o,c),this.factory=e,this.namespaceId=t}setProperty(e,t,o){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Hk?this.disableAnimations(e,o=void 0===o||!!o):this.engine.process(this.namespaceId,e,t.slice(1),o):this.delegate.setProperty(e,t,o)}listen(e,t,o){if("@"==t.charAt(0)){const c=function mH(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(e);let h=t.slice(1),p="";return"@"!=h.charAt(0)&&([h,p]=function vH(i){const e=i.indexOf(".");return[i.substring(0,e),i.slice(e+1)]}(h)),this.engine.listen(this.namespaceId,c,h,p,m=>{this.factory.scheduleListenerCallback(m._data||-1,o,m)})}return this.delegate.listen(e,t,o)}}const qk=[{provide:FM,useClass:hH},{provide:OC,useFactory:function _H(){return new B3}},{provide:Rw,useClass:(()=>{class i extends Rw{constructor(t,o,c,h){super(t.body,o,c)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(t){return new(t||i)(re(tn),re(EC),re(OC),re(wv))},i.\u0275prov=Ne({token:i,factory:i.\u0275fac}),i})()},{provide:zy,useFactory:function bH(i,e,t){return new pH(i,e,t)},deps:[Tb,Rw,en]}],$k=[{provide:EC,useFactory:()=>new lH},{provide:ip,useValue:"BrowserAnimations"},...qk],wH=[{provide:EC,useClass:vk},{provide:ip,useValue:"NoopAnimations"},...qk];let EH=(()=>{class i{static withConfig(t){return{ngModule:i,providers:t.disableAnimations?wH:$k}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nt({type:i}),i.\u0275inj=fn({providers:$k,imports:[MI]}),i})();const Gk_firebaseConfig={apiKey:"AIzaSyCVYA6rUy2wIMltHblHjQbhQlGd_JGkIG8",authDomain:"reviewmotion-6e110.firebaseapp.com",projectId:"reviewmotion-6e110",storageBucket:"reviewmotion-6e110.appspot.com",messagingSenderId:"763180131379",appId:"1:763180131379:web:e836c1d779dc66a641ef46",measurementId:"G-QB9QMM1FJM"},CH=function(i){return{"comment-container":!0,"creator-comment-container":i}},DH=function(i){return{comment:!0,"creator-comment":i}};function SH(i,e){if(1&i&&(Be(0,"div",6)(1,"div")(2,"p",7),wt(3),qe(),Be(4,"p",6),wt(5),qe()()()),2&i){const t=e.$implicit,o=$s();si("ngClass",a0(4,CH,o.isCommentCreator(t))),Xn(3),Ng(null==t?null:t.creatorName),Xn(1),si("ngClass",a0(6,DH,o.isCommentCreator(t))),Xn(1),Ng(null==t?null:t.comment)}}let TH=(()=>{class i{constructor(t){this.filmId=t,this.firestore=new Lv,this.comments=[]}ngOnInit(){this.getComments()}isCommentCreator(t){try{return t.creatorId==mw.getUserDocument().userId}catch{return}}getComments(){this.firestore.listenToCollection({name:"Film Comments",path:["Films",this.filmId,"FilmComments"],where:[new yM("timestamp","asc")],onUpdate:t=>{t.docChanges().forEach(o=>{"added"==o.type&&this.comments.unshift(o.doc.data())})}})}onSendClick(t){t.value.length>0&&this.firestore.create({path:["Films",this.filmId,"FilmComments"],data:{comment:t.value,creatorId:mw.getUserDocument().userId,creatorName:mw.getUserDocument().publicName,timestamp:Ma.getFirestoreTimestamp()},onComplete:o=>{t.value=""}})}}return i.\u0275fac=function(t){return new(t||i)(ie(UM))},i.\u0275cmp=ve({type:i,selectors:[["app-create-commenti"]],decls:10,vars:1,consts:[["id","comment-box"],[3,"ngClass",4,"ngFor","ngForOf"],["id","comment-action-bar"],["mat-flat-button","","color","warn",3,"click"],["placeholder","Commenta..."],["commentInput",""],[3,"ngClass"],[1,"comment-name"]],template:function(t,o){if(1&t){const c=Ou();Be(0,"p"),wt(1,"Commenti"),qe(),Be(2,"div",0),mo(3,SH,6,8,"div",1),qe(),Be(4,"div",2)(5,"button",3),$r("click",function(){Gi(c);const p=qs(9);return Lr(o.onSendClick(p))}),Be(6,"mat-icon"),wt(7,"send"),qe()(),Vi(8,"input",4,5),qe()}2&t&&(Xn(3),si("ngForOf",o.comments))},dependencies:[q0,$0,hp,A_],styles:["#comment-box[_ngcontent-%COMP%]{width:100%;height:300px;overflow:auto;min-width:400px;max-width:600px;padding-left:1em;padding-right:1em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}#comment-action-bar[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:3em 1fr;direction:rtl}input[_ngcontent-%COMP%]{padding:1em 2em 1em 1em;outline:none;border:1px solid grey;width:100%;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;direction:ltr}.comment-container[_ngcontent-%COMP%]{display:flex}.comment-name[_ngcontent-%COMP%]{font-size:.9em}.comment[_ngcontent-%COMP%]{border-radius:1em;background-color:#dcdcdc;padding:1em}.creator-comment-container[_ngcontent-%COMP%]{justify-content:flex-end;text-align:end}.creator-comment[_ngcontent-%COMP%]{background-color:tomato;color:#fff}"]}),i})(),IH=(()=>{class i{constructor(t){this.dialog=t,this.firestore=new Lv}ngOnInit(){this.getFilmInfo()}onReplyClick(){this.dialog.open(TH,{data:this.filmData.filmId})}getFilmInfo(){this.firestore.getDocument({path:["Users",this.filmData.filmId],onComplete:t=>{let o=t.data();this.filmName=o.publicName,this.filmDescription=o.description}})}}return i.\u0275fac=function(t){return new(t||i)(ie(oC))},i.\u0275cmp=ve({type:i,selectors:[["app-film"]],inputs:{filmData:"filmData"},decls:28,vars:4,consts:[[1,"film-card"],[1,"titoli"],[1,"voto"],["id","stelle"],[1,"contenuto"],["mat-card-image","",3,"src"],[1,"riassunto"],["color","warn",1,"action-item",3,"click"]],template:function(t,o){1&t&&(Be(0,"mat-card",0)(1,"mat-card-header")(2,"div",1)(3,"mat-card-title"),wt(4),qe(),Be(5,"mat-card-subtitle"),wt(6),qe()(),Be(7,"div",2)(8,"h3"),wt(9,"Voto medio:"),qe(),Be(10,"div",3)(11,"mat-icon"),wt(12,"stars"),qe(),Be(13,"mat-icon"),wt(14,"stars"),qe(),Be(15,"mat-icon"),wt(16,"stars"),qe(),Be(17,"mat-icon"),wt(18,"stars"),qe(),Be(19,"mat-icon"),wt(20,"stars"),qe()()()(),Be(21,"div",4),Vi(22,"img",5),Be(23,"mat-card-content",6),wt(24),qe()(),Be(25,"mat-card-actions")(26,"button",7),$r("click",function(){return o.onReplyClick()}),wt(27,"Accedi ai Commenti"),qe()()()),2&t&&(Xn(4),Ng(null==o.filmData?null:o.filmData.title),Xn(2),Ng(null==o.filmData?null:o.filmData.description),Xn(16),$w("src",null==o.filmData?null:o.filmData.imageUrl,Yt),Xn(2),hv(" ",null==o.filmData?null:o.filmData.comment," "))},dependencies:[uC,cC,pj,sC,gj,aC,mj,A_],styles:[".film-card[_ngcontent-%COMP%]{margin-bottom:10px;display:flex;flex-direction:column}.contenuto[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:500px;max-height:300px;width:100%;height:100%;min-width:165px;min-height:100px;float:left;border:solid;margin-right:10px;margin-left:10px;margin-top:10px}mat-card-header[_ngcontent-%COMP%]{display:flex;background-color:#202b35;margin-bottom:10px}mat-card-header[_ngcontent-%COMP%]   .voto[_ngcontent-%COMP%]{margin-left:auto;display:flex;margin-top:10px}mat-card-header[_ngcontent-%COMP%]   .titoli[_ngcontent-%COMP%]{padding:5px}.action-item[_ngcontent-%COMP%]{margin-left:.5em;cursor:pointer;font-size:2em;padding:.07em;border-radius:5px;background-color:#635b5d;color:#fff}"]}),i})(),AH=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nt({type:i}),i.\u0275inj=fn({imports:[_o,_o]}),i})(),MH=(()=>{class i{constructor(){Ma.init(Gk_firebaseConfig)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nt({type:i,bootstrap:[mw]}),i.\u0275inj=fn({imports:[MI,eU,EH,iV,tk,vj,cj,jj,fU,AH,gU]}),i})();(function Ye(i,e,t){const o=i.\u0275cmp;o.directiveDefs=()=>("function"==typeof e?e():e).map(yt),o.pipeDefs=()=>("function"==typeof t?t():t).map(Kn)})(ek,[$0,hp,A_,IH],[]),function nP(){PT=!1}(),_F().bootstrapModule(MH).catch(i=>console.error(i))},867:(Ba,ci,Wt)=>{Wt.r(ci),Wt.d(ci,{default:()=>pe.Z});var pe=Wt(367);pe.Z.registerVersion("firebase","8.10.1","app"),pe.Z.SDK_VERSION="8.10.1"},315:(Ba,ci,Wt)=>{Wt.r(ci);var pe=Wt(367);(function(){var T,We="function"==typeof Object.defineProperties?Object.defineProperty:function(u,f,v){u!=Array.prototype&&u!=Object.prototype&&(u[f]=v.value)},zt=function ot(u){u=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,u];for(var f=0;f<u.length;++f){var v=u[f];if(v&&v.Math==Math)return v}return globalThis}(this);function Ir(u){var f=0;return function(){return f<u.length?{done:!1,value:u[f++]}:{done:!0}}}function Ci(u){var f=typeof Symbol<"u"&&Symbol.iterator&&u[Symbol.iterator];return f?f.call(u):{next:Ir(u)}}!function io(u,f){if(f){var v=zt;u=u.split(".");for(var w=0;w<u.length-1;w++){var D=u[w];D in v||(v[D]={}),v=v[D]}(f=f(w=v[u=u[u.length-1]]))!=w&&null!=f&&We(v,u,{configurable:!0,writable:!0,value:f})}}("Promise",function(u){function f(P){this.b=0,this.c=void 0,this.a=[];var U=this.f();try{P(U.resolve,U.reject)}catch(ue){U.reject(ue)}}function v(){this.a=null}function w(P){return P instanceof f?P:new f(function(U){U(P)})}if(u)return u;v.prototype.b=function(P){if(null==this.a){this.a=[];var U=this;this.c(function(){U.g()})}this.a.push(P)};var D=zt.setTimeout;v.prototype.c=function(P){D(P,0)},v.prototype.g=function(){for(;this.a&&this.a.length;){var P=this.a;this.a=[];for(var U=0;U<P.length;++U){var ue=P[U];P[U]=null;try{ue()}catch(a){this.f(a)}}}this.a=null},v.prototype.f=function(P){this.c(function(){throw P})},f.prototype.f=function(){function P(a){return function(s){ue||(ue=!0,a.call(U,s))}}var U=this,ue=!1;return{resolve:P(this.m),reject:P(this.g)}},f.prototype.m=function(P){if(P===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(P instanceof f)this.s(P);else{e:switch(typeof P){case"object":var U=null!=P;break e;case"function":U=!0;break e;default:U=!1}U?this.v(P):this.h(P)}},f.prototype.v=function(P){var U=void 0;try{U=P.then}catch(ue){return void this.g(ue)}"function"==typeof U?this.u(U,P):this.h(P)},f.prototype.g=function(P){this.i(2,P)},f.prototype.h=function(P){this.i(1,P)},f.prototype.i=function(P,U){if(0!=this.b)throw Error("Cannot settle("+P+", "+U+"): Promise already settled in state"+this.b);this.b=P,this.c=U,this.l()},f.prototype.l=function(){if(null!=this.a){for(var P=0;P<this.a.length;++P)x.b(this.a[P]);this.a=null}};var x=new v;return f.prototype.s=function(P){var U=this.f();P.Ra(U.resolve,U.reject)},f.prototype.u=function(P,U){var ue=this.f();try{P.call(U,ue.resolve,ue.reject)}catch(a){ue.reject(a)}},f.prototype.then=function(P,U){function ue(d,g){return"function"==typeof d?function(y){try{a(d(y))}catch(b){s(b)}}:g}var a,s,l=new f(function(d,g){a=d,s=g});return this.Ra(ue(P,a),ue(U,s)),l},f.prototype.catch=function(P){return this.then(void 0,P)},f.prototype.Ra=function(P,U){function ue(){switch(a.b){case 1:P(a.c);break;case 2:U(a.c);break;default:throw Error("Unexpected state: "+a.b)}}var a=this;null==this.a?x.b(ue):this.a.push(ue)},f.resolve=w,f.reject=function(P){return new f(function(U,ue){ue(P)})},f.race=function(P){return new f(function(U,ue){for(var a=Ci(P),s=a.next();!s.done;s=a.next())w(s.value).Ra(U,ue)})},f.all=function(P){var U=Ci(P),ue=U.next();return ue.done?w([]):new f(function(a,s){function l(y){return function(b){d[y]=b,0==--g&&a(d)}}var d=[],g=0;do{d.push(void 0),g++,w(ue.value).Ra(l(d.length-1),s),ue=U.next()}while(!ue.done)})},f});var se=se||{},$=this||self,we=/^[\w+/_-]+[=]{0,2}$/,Re=null;function Ae(u){return(u=u.querySelector&&u.querySelector("script[nonce]"))&&(u=u.nonce||u.getAttribute("nonce"))&&we.test(u)?u:""}function Fe(){}function qt(u){var f=typeof u;return"object"!=f?f:u?Array.isArray(u)?"array":f:"null"}function Gt(u){var f=qt(u);return"array"==f||"object"==f&&"number"==typeof u.length}function Pt(u){return"function"==qt(u)}function bt(u){var f=typeof u;return"object"==f&&null!=u||"function"==f}function fr(u){return Object.prototype.hasOwnProperty.call(u,Xt)&&u[Xt]||(u[Xt]=++Di)}var Xt="closure_uid_"+(1e9*Math.random()>>>0),Di=0;function Et(u,f,v){return u.call.apply(u.bind,arguments)}function Jn(u,f,v){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,w),u.apply(f,D)}}return function(){return u.apply(f,arguments)}}function Xe(u,f,v){return(Xe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Et:Jn).apply(null,arguments)}function nn(u,f){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),u.apply(this,w)}}var oo=Date.now;function pt(u,f){function v(){}v.prototype=f.prototype,u.bb=f.prototype,u.prototype=new v,u.prototype.constructor=u}function de(u){return u}function V(u,f,v){this.code=_e+u,this.message=f||Pe[u]||"",this.a=v||null}function ge(u){var f=u&&u.code;return f?new V(f.substring(_e.length),u.message,u.serverResponse):null}pt(V,Error),V.prototype.w=function(){var u={code:this.code,message:this.message};return this.a&&(u.serverResponse=this.a),u},V.prototype.toJSON=function(){return this.w()};var St,_e="auth/",Pe={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},le={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function ct(u){for(var f in le)if(le[f].id===u)return{firebaseEndpoint:(u=le[f]).Ua,secureTokenEndpoint:u.$a,identityPlatformEndpoint:u.Xa};return null}function cr(u){if(!u)return!1;try{return!!u.$goog_Thenable}catch{return!1}}function nt(u){if(Error.captureStackTrace)Error.captureStackTrace(this,nt);else{var f=Error().stack;f&&(this.stack=f)}u&&(this.message=String(u))}function Se(u,f){for(var v="",w=(u=u.split("%s")).length-1,D=0;D<w;D++)v+=u[D]+(D<f.length?f[D]:"%s");nt.call(this,v+u[w])}function Ke(u,f){throw new Se("Failure"+(u?": "+u:""),Array.prototype.slice.call(arguments,1))}function st(u,f){this.c=u,this.f=f,this.b=0,this.a=null}function gt(u,f){u.f(f),100>u.b&&(u.b++,f.next=u.a,u.a=f)}function rt(){this.b=this.a=null}St=ct("__EID__")?"__EID__":void 0,pt(nt,Error),nt.prototype.name="CustomError",pt(Se,nt),Se.prototype.name="AssertionError",st.prototype.get=function(){if(0<this.b){this.b--;var u=this.a;this.a=u.next,u.next=null}else u=this.c();return u};var Si=new st(function(){return new Qr},function(u){u.reset()});function mt(){var u=uo,f=null;return u.a&&(f=u.a,u.a=u.a.next,u.a||(u.b=null),f.next=null),f}function Qr(){this.next=this.b=this.a=null}rt.prototype.add=function(u,f){var v=Si.get();v.set(u,f),this.b?this.b.next=v:this.a=v,this.b=v},Qr.prototype.set=function(u,f){this.a=u,this.b=f,this.next=null},Qr.prototype.reset=function(){this.next=this.b=this.a=null};var Wo=Array.prototype.indexOf?function(u,f){return Array.prototype.indexOf.call(u,f,void 0)}:function(u,f){if("string"==typeof u)return"string"!=typeof f||1!=f.length?-1:u.indexOf(f,0);for(var v=0;v<u.length;v++)if(v in u&&u[v]===f)return v;return-1},En=Array.prototype.forEach?function(u,f,v){Array.prototype.forEach.call(u,f,v)}:function(u,f,v){for(var w=u.length,D="string"==typeof u?u.split(""):u,x=0;x<w;x++)x in D&&f.call(v,D[x],x,u)},$u=Array.prototype.filter?function(u,f){return Array.prototype.filter.call(u,f,void 0)}:function(u,f){for(var v=u.length,w=[],D=0,x="string"==typeof u?u.split(""):u,P=0;P<v;P++)if(P in x){var U=x[P];f.call(void 0,U,P,u)&&(w[D++]=U)}return w},Kt=Array.prototype.map?function(u,f){return Array.prototype.map.call(u,f,void 0)}:function(u,f){for(var v=u.length,w=Array(v),D="string"==typeof u?u.split(""):u,x=0;x<v;x++)x in D&&(w[x]=f.call(void 0,D[x],x,u));return w},rn=Array.prototype.some?function(u,f){return Array.prototype.some.call(u,f,void 0)}:function(u,f){for(var v=u.length,w="string"==typeof u?u.split(""):u,D=0;D<v;D++)if(D in w&&f.call(void 0,w[D],D,u))return!0;return!1};function Rn(u,f){return 0<=Wo(u,f)}function Fn(u,f){var v;return(v=0<=(f=Wo(u,f)))&&Array.prototype.splice.call(u,f,1),v}function Un(u,f){!function pr(u,f){for(var v="string"==typeof u?u.split(""):u,w=u.length-1;0<=w;--w)w in v&&f.call(void 0,v[w],w,u)}(u,function(w,D){f.call(void 0,w,D,u)&&Array.prototype.splice.call(u,D,1)})}function yn(u){return Array.prototype.concat.apply([],arguments)}function Hn(u){var f=u.length;if(0<f){for(var v=Array(f),w=0;w<f;w++)v[w]=u[w];return v}return[]}var gr,ys=String.prototype.trim?function(u){return u.trim()}:function(u){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(u)[1]},so=/&/g,yh=/</g,Ar=/>/g,Ko=/"/g,Pd=/'/g,Ti=/\x00/g,_h=/[\x00&<>"']/;function Tt(u,f){return-1!=u.indexOf(f)}function zi(u,f){return u<f?-1:u>f?1:0}e:{var Kc=$.navigator;if(Kc){var Gu=Kc.userAgent;if(Gu){gr=Gu;break e}}gr=""}function Ln(u){return Tt(gr,u)}function No(u,f){for(var v in u)f.call(void 0,u[v],v,u)}function W(u){for(var f in u)return!1;return!0}function G(u){var v,f={};for(v in u)f[v]=u[v];return f}var X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,f){for(var v,w,D=1;D<arguments.length;D++){for(v in w=arguments[D])u[v]=w[v];for(var x=0;x<X.length;x++)v=X[x],Object.prototype.hasOwnProperty.call(w,v)&&(u[v]=w[v])}}function Q(u,f){e:{try{var v=u&&u.ownerDocument,w=v&&(v.defaultView||v.parentWindow);if((w=w||$).Element&&w.Location){var D=w;break e}}catch{}D=null}if(D&&typeof D[f]<"u"&&(!u||!(u instanceof D[f])&&(u instanceof D.Location||u instanceof D.Element))){if(bt(u))try{var x=u.constructor.displayName||u.constructor.name||Object.prototype.toString.call(u)}catch{x="<object could not be stringified>"}else x=void 0===u?"undefined":null===u?"null":typeof u;Ke("Argument is not a %s (or a non-Element, non-Location mock); got: %s",f,x)}}function Me(u,f){this.a=u===mn&&f||"",this.b=on}function dt(u){return u instanceof Me&&u.constructor===Me&&u.b===on?u.a:(Ke("expected object of type Const, got '"+u+"'"),"type_error:Const")}Me.prototype.ta=!0,Me.prototype.sa=function(){return this.a},Me.prototype.toString=function(){return"Const{"+this.a+"}"};var cn,on={},mn={};function Mr(){if(void 0===cn){var u=null,f=$.trustedTypes;if(f&&f.createPolicy){try{u=f.createPolicy("goog#html",{createHTML:de,createScript:de,createScriptURL:de})}catch(v){$.console&&$.console.error(v.message)}cn=u}else cn=u}return cn}function sn(u,f){this.a=f===Mn?u:""}function Ct(u){return u instanceof sn&&u.constructor===sn?u.a:(Ke("expected object of type TrustedResourceUrl, got '"+u+"' of type "+qt(u)),"type_error:TrustedResourceUrl")}function Xr(u,f){var v=dt(u);if(!bh.test(v))throw Error("Invalid TrustedResourceUrl format: "+v);return function ao(u){var f=Mr();return new sn(u=f?f.createScriptURL(u):u,Mn)}(u=v.replace(Ws,function(w,D){if(!Object.prototype.hasOwnProperty.call(f,D))throw Error('Found marker, "'+D+'", in format string, "'+v+'", but no valid label mapping found in args: '+JSON.stringify(f));return(w=f[D])instanceof Me?dt(w):encodeURIComponent(String(w))}))}sn.prototype.ta=!0,sn.prototype.sa=function(){return this.a.toString()},sn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ws=/%{(\w+)}/g,bh=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Mn={};function vt(u,f){this.a=f===Ee?u:""}function Yo(u){return u instanceof vt&&u.constructor===vt?u.a:(Ke("expected object of type SafeUrl, got '"+u+"' of type "+qt(u)),"type_error:SafeUrl")}vt.prototype.ta=!0,vt.prototype.sa=function(){return this.a.toString()},vt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var wh=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Ks=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,at=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Qo(u){if(u instanceof vt)return u;if(u="object"==typeof u&&u.ta?u.sa():String(u),at.test(u))u=new vt(u,Ee);else{var f=(u=(u=String(u)).replace(/(%0A|%0D)/g,"")).match(Ks);u=f&&wh.test(f[1])?new vt(u,Ee):null}return u}function Eh(u){return u instanceof vt?u:(u="object"==typeof u&&u.ta?u.sa():String(u),at.test(u)||(u="about:invalid#zClosurez"),new vt(u,Ee))}var Ee={},_s=new vt("about:invalid#zClosurez",Ee);function lt(u,f,v){this.a=v===Ch?u:""}lt.prototype.ta=!0,lt.prototype.sa=function(){return this.a.toString()},lt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ch={};function Va(u,f,v,w){return u=u instanceof vt?u:Eh(u),f=f||$,v=v instanceof Me?dt(v):v||"",f.open(Yo(u),v,w,void 0)}function Xo(u,f){for(var v=u.split("%s"),w="",D=Array.prototype.slice.call(arguments,1);D.length&&1<v.length;)w+=v.shift()+D.shift();return w+v.join("%s")}function kr(u){return _h.test(u)&&(-1!=u.indexOf("&")&&(u=u.replace(so,"&amp;")),-1!=u.indexOf("<")&&(u=u.replace(yh,"&lt;")),-1!=u.indexOf(">")&&(u=u.replace(Ar,"&gt;")),-1!=u.indexOf('"')&&(u=u.replace(Ko,"&quot;")),-1!=u.indexOf("'")&&(u=u.replace(Pd,"&#39;")),-1!=u.indexOf("\0")&&(u=u.replace(Ti,"&#0;"))),u}function Dh(u){return Dh[" "](u),u}Dh[" "]=Fe;var Ua,u,_p=Ln("Opera"),mr=Ln("Trident")||Ln("MSIE"),ja=Ln("Edge"),Wu=ja||mr,Nd=Ln("Gecko")&&!(Tt(gr.toLowerCase(),"webkit")&&!Ln("Edge"))&&!(Ln("Trident")||Ln("MSIE"))&&!Ln("Edge"),Zo=Tt(gr.toLowerCase(),"webkit")&&!Ln("Edge");function Sh(){var u=$.document;return u?u.documentMode:void 0}e:{var Ku="",Ys=(u=gr,Nd?/rv:([^\);]+)(\)|;)/.exec(u):ja?/Edge\/([\d\.]+)/.exec(u):mr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(u):Zo?/WebKit\/(\S+)/.exec(u):_p?/(?:Version)[ \/]?(\S+)/.exec(u):void 0);if(Ys&&(Ku=Ys?Ys[1]:""),mr){var Zr=Sh();if(null!=Zr&&Zr>parseFloat(Ku)){Ua=String(Zr);break e}}Ua=Ku}var Mt={};function Fd(u){return function Yc(u,f){var v=Mt;return Object.prototype.hasOwnProperty.call(v,u)?v[u]:v[u]=f(u)}(u,function(){for(var f=0,v=ys(String(Ua)).split("."),w=ys(String(u)).split("."),D=Math.max(v.length,w.length),x=0;0==f&&x<D;x++){var P=v[x]||"",U=w[x]||"";do{if(P=/(\d*)(\D*)(.*)/.exec(P)||["","","",""],U=/(\d*)(\D*)(.*)/.exec(U)||["","","",""],0==P[0].length&&0==U[0].length)break;f=zi(0==P[1].length?0:parseInt(P[1],10),0==U[1].length?0:parseInt(U[1],10))||zi(0==P[2].length,0==U[2].length)||zi(P[2],U[2]),P=P[3],U=U[3]}while(0==f)}return 0<=f})}var Ne=$.document&&mr&&(Sh()||parseInt(Ua,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var Ld=!mr||9<=Number(Ne);function fn(u){var f=document;return"string"==typeof u?f.getElementById(u):u}function Qu(u,f){No(f,function(v,w){v&&"object"==typeof v&&v.ta&&(v=v.sa()),"style"==w?u.style.cssText=v:"class"==w?u.className=v:"for"==w?u.htmlFor=v:bs.hasOwnProperty(w)?u.setAttribute(bs[w],v):0==w.lastIndexOf("aria-",0)||0==w.lastIndexOf("data-",0)?u.setAttribute(w,v):u[w]=v})}var Jo,et,bs={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function za(u,f,v){function w(U){U&&f.appendChild("string"==typeof U?u.createTextNode(U):U)}for(var D=2;D<v.length;D++){var x=v[D];if(!Gt(x)||bt(x)&&0<x.nodeType)w(x);else{e:{if(x&&"number"==typeof x.length){if(bt(x)){var P="function"==typeof x.item||"string"==typeof x.item;break e}if(Pt(x)){P="function"==typeof x.item;break e}}P=!1}En(P?Hn(x):x,w)}}}function Qs(u,f){return f=String(f),"application/xhtml+xml"===u.contentType&&(f=f.toLowerCase()),u.createElement(f)}function ws(u){$.setTimeout(function(){throw u},0)}function Qc(u,f){et||function qa(){if($.Promise&&$.Promise.resolve){var u=$.Promise.resolve(void 0);et=function(){u.then(Xc)}}else et=function(){var f=Xc;!Pt($.setImmediate)||$.Window&&$.Window.prototype&&!Ln("Edge")&&$.Window.prototype.setImmediate==$.setImmediate?(Jo||(Jo=function Ih(){var u=$.MessageChannel;if(typeof u>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Ln("Presto")&&(u=function(){var D=Qs(document,"IFRAME");D.style.display="none",document.documentElement.appendChild(D);var x=D.contentWindow;(D=x.document).open(),D.close();var P="callImmediate"+Math.random(),U="file:"==x.location.protocol?"*":x.location.protocol+"//"+x.location.host;D=Xe(function(ue){("*"==U||ue.origin==U)&&ue.data==P&&this.port1.onmessage()},this),x.addEventListener("message",D,!1),this.port1={},this.port2={postMessage:function(){x.postMessage(P,U)}}}),typeof u<"u"&&!Ln("Trident")&&!Ln("MSIE")){var f=new u,v={},w=v;return f.port1.onmessage=function(){if(void 0!==v.next){var D=(v=v.next).Hb;v.Hb=null,D()}},function(D){w.next={Hb:D},w=w.next,f.port2.postMessage(0)}}return function(D){$.setTimeout(D,0)}}()),Jo(f)):$.setImmediate(f)}}(),$a||(et(),$a=!0),uo.add(u,f)}var $a=!1,uo=new rt;function Xc(){for(var u;u=mt();){try{u.a.call(u.b)}catch(f){ws(f)}gt(Si,u)}$a=!1}function jt(u,f){if(this.a=hi,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,u!=Fe)try{var v=this;u.call(f,function(w){te(v,lr,w)},function(w){if(!(w instanceof Cn))try{throw w instanceof Error?w:Error("Promise rejected.")}catch{}te(v,qi,w)})}catch(w){te(this,qi,w)}}var hi=0,lr=2,qi=3;function Zc(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Zc.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Jr=new st(function(){return new Zc},function(u){u.reset()});function Zt(u,f,v){var w=Jr.get();return w.g=u,w.b=f,w.f=v,w}function it(u){if(u instanceof jt)return u;var f=new jt(Fe);return te(f,lr,u),f}function er(u){return new jt(function(f,v){v(u)})}function es(u,f,v){ye(u,f,v,null)||Qc(nn(f,u))}function M(u){return new jt(function(f){var v=u.length,w=[];if(v)for(var D=function(U,ue,a){v--,w[U]=ue?{Qb:!0,value:a}:{Qb:!1,reason:a},0==v&&f(w)},x=0;x<u.length;x++)es(u[x],nn(D,x,!0),nn(D,x,!1));else f(w)})}function L(u,f){if(u.a==hi)if(u.c){var v=u.c;if(v.b){for(var w=0,D=null,x=null,P=v.b;P&&(P.c||(w++,P.a==u&&(D=P),!(D&&1<w)));P=P.next)D||(x=P);D&&(v.a==hi&&1==w?L(v,f):(x?((w=x).next==v.f&&(v.f=w),w.next=w.next.next):Ye(v),yt(v,D,qi,f)))}u.c=null}else te(u,qi,f)}function H(u,f){u.b||u.a!=lr&&u.a!=qi||ve(u),u.f?u.f.next=f:u.b=f,u.f=f}function K(u,f,v,w){var D=Zt(null,null,null);return D.a=new jt(function(x,P){D.g=f?function(U){try{var ue=f.call(w,U);x(ue)}catch(a){P(a)}}:x,D.b=v?function(U){try{var ue=v.call(w,U);void 0===ue&&U instanceof Cn?P(U):x(ue)}catch(a){P(a)}}:P}),D.a.c=u,H(u,D),D.a}function te(u,f,v){u.a==hi&&(u===v&&(f=qi,v=new TypeError("Promise cannot resolve to itself")),u.a=1,ye(v,u.$c,u.ad,u)||(u.i=v,u.a=f,u.c=null,ve(u),f!=qi||v instanceof Cn||function or(u,f){u.g=!0,Qc(function(){u.g&&Nt.call(null,f)})}(u,v)))}function ye(u,f,v,w){if(u instanceof jt)return H(u,Zt(f||Fe,v||null,w)),!0;if(cr(u))return u.then(f,v,w),!0;if(bt(u))try{var D=u.then;if(Pt(D))return function Ue(u,f,v,w,D){function x(ue){U||(U=!0,w.call(D,ue))}var U=!1;try{f.call(u,function P(ue){U||(U=!0,v.call(D,ue))},x)}catch(ue){x(ue)}}(u,D,f,v,w),!0}catch(x){return v.call(w,x),!0}return!1}function ve(u){u.h||(u.h=!0,Qc(u.gc,u))}function Ye(u){var f=null;return u.b&&(u.b=(f=u.b).next,f.next=null),u.b||(u.f=null),f}function yt(u,f,v,w){if(v==qi&&f.b&&!f.c)for(;u&&u.g;u=u.c)u.g=!1;if(f.a)f.a.c=null,_t(f,v,w);else try{f.c?f.g.call(f.f):_t(f,v,w)}catch(D){Nt.call(null,D)}gt(Jr,f)}function _t(u,f,v){f==lr?u.g.call(u.f,v):u.b&&u.b.call(u.f,v)}jt.prototype.then=function(u,f,v){return K(this,Pt(u)?u:null,Pt(f)?f:null,v)},jt.prototype.$goog_Thenable=!0,(T=jt.prototype).oa=function(u,f){return(u=Zt(u,u,f)).c=!0,H(this,u),this},T.o=function(u,f){return K(this,null,u,f)},T.cancel=function(u){if(this.a==hi){var f=new Cn(u);Qc(function(){L(this,f)},this)}},T.$c=function(u){this.a=hi,te(this,lr,u)},T.ad=function(u){this.a=hi,te(this,qi,u)},T.gc=function(){for(var u;u=Ye(this);)yt(this,u,this.a,this.i);this.h=!1};var Nt=ws;function Cn(u){nt.call(this,u)}function Bn(){0!=Rt&&(sr[fr(this)]=this),this.ya=this.ya,this.pa=this.pa}pt(Cn,nt),Cn.prototype.name="cancel";var Rt=0,sr={};function Ut(u){if(!u.ya&&(u.ya=!0,u.Da(),0!=Rt)){var f=fr(u);if(0!=Rt&&u.pa&&0<u.pa.length)throw Error(u+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete sr[f]}}Bn.prototype.ya=!1,Bn.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Vn=Object.freeze||function(u){return u},Kn=!mr||9<=Number(Ne),Rr=mr&&!Fd("9"),Nr=function(){if(!$.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{$.addEventListener("test",Fe,f),$.removeEventListener("test",Fe,f)}catch{}return u}();function Ie(u,f){this.type=u,this.b=this.target=f,this.defaultPrevented=!1}function Ze(u,f){if(Ie.call(this,u?u.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,u){var v=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.b=f,f=u.relatedTarget){if(Nd){e:{try{Dh(f.nodeName);var D=!0;break e}catch{}D=!1}D||(f=null)}}else"mouseover"==v?f=u.fromElement:"mouseout"==v&&(f=u.toElement);this.relatedTarget=f,w?(this.clientX=void 0!==w.clientX?w.clientX:w.pageX,this.clientY=void 0!==w.clientY?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType="string"==typeof u.pointerType?u.pointerType:an[u.pointerType]||"",this.a=u,u.defaultPrevented&&this.preventDefault()}}Ie.prototype.preventDefault=function(){this.defaultPrevented=!0},pt(Ze,Ie);var an=Vn({2:"touch",3:"pen",4:"mouse"});Ze.prototype.preventDefault=function(){Ze.bb.preventDefault.call(this);var u=this.a;if(u.preventDefault)u.preventDefault();else if(u.returnValue=!1,Rr)try{(u.ctrlKey||112<=u.keyCode&&123>=u.keyCode)&&(u.keyCode=-1)}catch{}},Ze.prototype.g=function(){return this.a};var ei="closure_listenable_"+(1e6*Math.random()|0),Ga=0;function ar(u,f,v,w,D){this.listener=u,this.proxy=null,this.src=f,this.type=v,this.capture=!!w,this.Wa=D,this.key=++Ga,this.wa=this.Qa=!1}function Es(u){u.wa=!0,u.listener=null,u.proxy=null,u.src=null,u.Wa=null}function Yn(u){this.src=u,this.a={},this.b=0}function Wa(u,f){var v=f.type;v in u.a&&Fn(u.a[v],f)&&(Es(f),0==u.a[v].length&&(delete u.a[v],u.b--))}function Ka(u,f,v,w){for(var D=0;D<u.length;++D){var x=u[D];if(!x.wa&&x.listener==f&&x.capture==!!v&&x.Wa==w)return D}return-1}Yn.prototype.add=function(u,f,v,w,D){var x=u.toString();(u=this.a[x])||(u=this.a[x]=[],this.b++);var P=Ka(u,f,w,D);return-1<P?(f=u[P],v||(f.Qa=!1)):((f=new ar(f,this.src,x,!!w,D)).Qa=v,u.push(f)),f};var Bt="closure_lm_"+(1e6*Math.random()|0),Xu={};function Ii(u,f,v,w,D){if(w&&w.once)Js(u,f,v,w,D);else if(Array.isArray(f))for(var x=0;x<f.length;x++)Ii(u,f[x],v,w,D);else v=ea(v),u&&u[ei]?Ah(u,f,v,bt(w)?!!w.capture:!!w,D):Zs(u,f,v,!1,w,D)}function Zs(u,f,v,w,D,x){if(!f)throw Error("Invalid event type");var P=bt(D)?!!D.capture:!!D,U=el(u);if(U||(u[Bt]=U=new Yn(u)),!(v=U.add(f,v,w,P,x)).proxy)if(w=function di(){var u=Bd,f=Kn?function(v){return u.call(f.src,f.listener,v)}:function(v){if(!(v=u.call(f.src,f.listener,v)))return v};return f}(),v.proxy=w,w.src=u,w.listener=v,u.addEventListener)Nr||(D=P),void 0===D&&(D=!1),u.addEventListener(f.toString(),w,D);else if(u.attachEvent)u.attachEvent(Zu(f.toString()),w);else{if(!u.addListener||!u.removeListener)throw Error("addEventListener and attachEvent are unavailable.");u.addListener(w)}}function Js(u,f,v,w,D){if(Array.isArray(f))for(var x=0;x<f.length;x++)Js(u,f[x],v,w,D);else v=ea(v),u&&u[ei]?jn(u,f,v,bt(w)?!!w.capture:!!w,D):Zs(u,f,v,!0,w,D)}function ti(u,f,v,w,D){if(Array.isArray(f))for(var x=0;x<f.length;x++)ti(u,f[x],v,w,D);else w=bt(w)?!!w.capture:!!w,v=ea(v),u&&u[ei]?(u=u.v,(f=String(f).toString())in u.a&&-1<(v=Ka(x=u.a[f],v,w,D))&&(Es(x[v]),Array.prototype.splice.call(x,v,1),0==x.length&&(delete u.a[f],u.b--))):u&&(u=el(u))&&(f=u.a[f.toString()],u=-1,f&&(u=Ka(f,v,w,D)),(v=-1<u?f[u]:null)&&Fo(v))}function Fo(u){if("number"!=typeof u&&u&&!u.wa){var f=u.src;if(f&&f[ei])Wa(f.v,u);else{var v=u.type,w=u.proxy;f.removeEventListener?f.removeEventListener(v,w,u.capture):f.detachEvent?f.detachEvent(Zu(v),w):f.addListener&&f.removeListener&&f.removeListener(w),(v=el(f))?(Wa(v,u),0==v.b&&(v.src=null,f[Bt]=null)):Es(u)}}}function Zu(u){return u in Xu?Xu[u]:Xu[u]="on"+u}function Jc(u,f,v,w){var D=!0;if((u=el(u))&&(f=u.a[f.toString()]))for(f=f.concat(),u=0;u<f.length;u++){var x=f[u];x&&x.capture==v&&!x.wa&&(x=In(x,w),D=D&&!1!==x)}return D}function In(u,f){var v=u.listener,w=u.Wa||u.src;return u.Qa&&Fo(u),v.call(w,f)}function Bd(u,f){if(u.wa)return!0;if(!Kn){if(!f)e:{f=["window","event"];for(var v=$,w=0;w<f.length;w++)if(null==(v=v[f[w]])){f=null;break e}f=v}if(f=new Ze(w=f,this),v=!0,!(0>w.keyCode||null!=w.returnValue)){e:{var D=!1;if(0==w.keyCode)try{w.keyCode=-1;break e}catch{D=!0}(D||null==w.returnValue)&&(w.returnValue=!0)}for(w=[],D=f.b;D;D=D.parentNode)w.push(D);for(u=u.type,D=w.length-1;0<=D;D--){f.b=w[D];var x=Jc(w[D],u,!0,f);v=v&&x}for(D=0;D<w.length;D++)f.b=w[D],x=Jc(w[D],u,!1,f),v=v&&x}return v}return In(u,new Ze(f,this))}function el(u){return(u=u[Bt])instanceof Yn?u:null}var Ju="__closure_events_fn_"+(1e9*Math.random()>>>0);function ea(u){return Pt(u)?u:(u[Ju]||(u[Ju]=function(f){return u.handleEvent(f)}),u[Ju])}function ur(){Bn.call(this),this.v=new Yn(this),this.bc=this,this.hb=null}function Ah(u,f,v,w,D){u.v.add(String(f),v,!1,w,D)}function jn(u,f,v,w,D){u.v.add(String(f),v,!0,w,D)}function xr(u,f,v,w){if(!(f=u.v.a[String(f)]))return!0;f=f.concat();for(var D=!0,x=0;x<f.length;++x){var P=f[x];if(P&&!P.wa&&P.capture==v){var U=P.listener,ue=P.Wa||P.src;P.Qa&&Wa(u.v,P),D=!1!==U.call(ue,w)&&D}}return D&&!w.defaultPrevented}function bp(u,f,v){if(Pt(u))v&&(u=Xe(u,v));else{if(!u||"function"!=typeof u.handleEvent)throw Error("Invalid listener argument");u=Xe(u.handleEvent,u)}return 2147483647<Number(f)?-1:$.setTimeout(u,f||0)}function Fr(u){var f=null;return new jt(function(v,w){-1==(f=bp(function(){v(void 0)},u))&&w(Error("Failed to schedule timer."))}).o(function(v){throw $.clearTimeout(f),v})}function Lo(u){if(u.X&&"function"==typeof u.X)return u.X();if("string"==typeof u)return u.split("");if(Gt(u)){for(var f=[],v=u.length,w=0;w<v;w++)f.push(u[w]);return f}for(w in f=[],v=0,u)f[v++]=u[w];return f}function Vd(u){if(u.Y&&"function"==typeof u.Y)return u.Y();if(!u.X||"function"!=typeof u.X){if(Gt(u)||"string"==typeof u){var f=[];u=u.length;for(var v=0;v<u;v++)f.push(v);return f}for(var w in f=[],v=0,u)f[v++]=w;return f}}function Cs(u,f){this.b={},this.a=[],this.c=0;var v=arguments.length;if(1<v){if(v%2)throw Error("Uneven number of arguments");for(var w=0;w<v;w+=2)this.set(arguments[w],arguments[w+1])}else if(u)if(u instanceof Cs)for(v=u.Y(),w=0;w<v.length;w++)this.set(v[w],u.get(v[w]));else for(w in u)this.set(w,u[w])}function co(u){if(u.c!=u.a.length){for(var f=0,v=0;f<u.a.length;){var w=u.a[f];Ds(u.b,w)&&(u.a[v++]=w),f++}u.a.length=v}if(u.c!=u.a.length){var D={};for(v=f=0;f<u.a.length;)Ds(D,w=u.a[f])||(u.a[v++]=w,D[w]=1),f++;u.a.length=v}}function Ds(u,f){return Object.prototype.hasOwnProperty.call(u,f)}pt(ur,Bn),ur.prototype[ei]=!0,ur.prototype.addEventListener=function(u,f,v,w){Ii(this,u,f,v,w)},ur.prototype.removeEventListener=function(u,f,v,w){ti(this,u,f,v,w)},ur.prototype.dispatchEvent=function(u){var f,v=this.hb;if(v)for(f=[];v;v=v.hb)f.push(v);v=this.bc;var w=u.type||u;if("string"==typeof u)u=new Ie(u,v);else if(u instanceof Ie)u.target=u.target||v;else{var D=u;ne(u=new Ie(w,v),D)}if(D=!0,f)for(var x=f.length-1;0<=x;x--){var P=u.b=f[x];D=xr(P,w,!0,u)&&D}if(D=xr(P=u.b=v,w,!0,u)&&D,D=xr(P,w,!1,u)&&D,f)for(x=0;x<f.length;x++)D=xr(P=u.b=f[x],w,!1,u)&&D;return D},ur.prototype.Da=function(){if(ur.bb.Da.call(this),this.v){var v,u=this.v;for(v in u.a){for(var w=u.a[v],D=0;D<w.length;D++)Es(w[D]);delete u.a[v],u.b--}}this.hb=null},(T=Cs.prototype).X=function(){co(this);for(var u=[],f=0;f<this.a.length;f++)u.push(this.b[this.a[f]]);return u},T.Y=function(){return co(this),this.a.concat()},T.clear=function(){this.b={},this.c=this.a.length=0},T.get=function(u,f){return Ds(this.b,u)?this.b[u]:f},T.set=function(u,f){Ds(this.b,u)||(this.c++,this.a.push(u)),this.b[u]=f},T.forEach=function(u,f){for(var v=this.Y(),w=0;w<v.length;w++){var D=v[w],x=this.get(D);u.call(f,x,D,this)}};var nm=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function na(u,f){var v;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,u instanceof na?(this.i=void 0!==f?f:u.i,jd(this,u.c),this.l=u.l,this.a=u.a,tl(this,u.g),this.f=u.f,nl(this,ra(u.b)),this.h=u.h):u&&(v=String(u).match(nm))?(this.i=!!f,jd(this,v[1]||"",!0),this.l=rl(v[2]||""),this.a=rl(v[3]||"",!0),tl(this,v[4]),this.f=rl(v[5]||"",!0),nl(this,v[6]||"",!0),this.h=rl(v[7]||"")):(this.i=!!f,this.b=new ts(null,this.i))}function jd(u,f,v){u.c=v?rl(f,!0):f,u.c&&(u.c=u.c.replace(/:$/,""))}function tl(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.g=f}else u.g=null}function nl(u,f,v){f instanceof ts?(u.b=f,function im(u,f){f&&!u.f&&(Ya(u),u.c=null,u.a.forEach(function(v,w){var D=w.toLowerCase();w!=D&&(Ss(this,w),Qa(this,D,v))},u)),u.f=f}(u.b,u.i)):(v||(f=ec(f,Kv)),u.b=new ts(f,u.i))}function vr(u,f,v){u.b.set(f,v)}function wo(u,f){return u.b.get(f)}function Ai(u){return u instanceof na?new na(u):new na(u,void 0)}function Ud(u,f,v,w){var D=new na(null,void 0);return u&&jd(D,u),f&&(D.a=f),v&&tl(D,v),w&&(D.f=w),D}function rl(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ec(u,f,v){return"string"==typeof u?(u=encodeURI(u).replace(f,O_),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function O_(u){return"%"+((u=u.charCodeAt(0))>>4&15).toString(16)+(15&u).toString(16)}na.prototype.toString=function(){var u=[],f=this.c;f&&u.push(ec(f,rm,!0),":");var v=this.a;return(v||"file"==f)&&(u.push("//"),(f=this.l)&&u.push(ec(f,rm,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(v=this.g)&&u.push(":",String(v))),(v=this.f)&&(this.a&&"/"!=v.charAt(0)&&u.push("/"),u.push(ec(v,"/"==v.charAt(0)?Wv:Hd,!0))),(v=this.b.toString())&&u.push("?",v),(v=this.h)&&u.push("#",ec(v,zd)),u.join("")},na.prototype.resolve=function(u){var f=new na(this),v=!!u.c;v?jd(f,u.c):v=!!u.l,v?f.l=u.l:v=!!u.a,v?f.a=u.a:v=null!=u.g;var w=u.f;if(v)tl(f,u.g);else if(v=!!u.f){if("/"!=w.charAt(0))if(this.a&&!this.f)w="/"+w;else{var D=f.f.lastIndexOf("/");-1!=D&&(w=f.f.substr(0,D+1)+w)}if(".."==(D=w)||"."==D)w="";else if(Tt(D,"./")||Tt(D,"/.")){w=0==D.lastIndexOf("/",0),D=D.split("/");for(var x=[],P=0;P<D.length;){var U=D[P++];"."==U?w&&P==D.length&&x.push(""):".."==U?((1<x.length||1==x.length&&""!=x[0])&&x.pop(),w&&P==D.length&&x.push("")):(x.push(U),w=!0)}w=x.join("/")}else w=D}return v?f.f=w:v=""!==u.b.toString(),v?nl(f,ra(u.b)):v=!!u.h,v&&(f.h=u.h),f};var rm=/[#\/\?@]/g,Hd=/[#\?:]/g,Wv=/[#\?]/g,Kv=/[#\?@]/g,zd=/#/g;function ts(u,f){this.b=this.a=null,this.c=u||null,this.f=!!f}function Ya(u){u.a||(u.a=new Cs,u.b=0,u.c&&function ta(u,f){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var w=u[v].indexOf("="),D=null;if(0<=w){var x=u[v].substring(0,w);D=u[v].substring(w+1)}else x=u[v];f(x,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}(u.c,function(f,v){u.add(decodeURIComponent(f.replace(/\+/g," ")),v)}))}function qd(u){var f=Vd(u);if(typeof f>"u")throw Error("Keys are undefined");var v=new ts(null,void 0);u=Lo(u);for(var w=0;w<f.length;w++){var D=f[w],x=u[w];Array.isArray(x)?Qa(v,D,x):v.add(D,x)}return v}function Ss(u,f){Ya(u),f=Xa(u,f),Ds(u.a.b,f)&&(u.c=null,u.b-=u.a.get(f).length,Ds((u=u.a).b,f)&&(delete u.b[f],u.c--,u.a.length>2*u.c&&co(u)))}function Ts(u,f){return Ya(u),f=Xa(u,f),Ds(u.a.b,f)}function Qa(u,f,v){Ss(u,f),0<v.length&&(u.c=null,u.a.set(Xa(u,f),Hn(v)),u.b+=v.length)}function ra(u){var f=new ts;return f.c=u.c,u.a&&(f.a=new Cs(u.a),f.b=u.b),f}function Xa(u,f){return f=String(f),u.f&&(f=f.toLowerCase()),f}function wp(u){var f=[];return Mi(new kh,u,f),f.join("")}function kh(){}function Mi(u,f,v){if(null==f)v.push("null");else{if("object"==typeof f){if(Array.isArray(f)){var w=f;f=w.length,v.push("[");for(var D="",x=0;x<f;x++)v.push(D),Mi(u,w[x],v),D=",";return void v.push("]")}if(!(f instanceof String||f instanceof Number||f instanceof Boolean)){for(w in v.push("{"),D="",f)Object.prototype.hasOwnProperty.call(f,w)&&"function"!=typeof(x=f[w])&&(v.push(D),tc(w,v),v.push(":"),Mi(u,x,v),D=",");return void v.push("}")}f=f.valueOf()}switch(typeof f){case"string":tc(f,v);break;case"number":v.push(isFinite(f)&&!isNaN(f)?String(f):"null");break;case"boolean":v.push(String(f));break;case"function":v.push("null");break;default:throw Error("Unknown type: "+typeof f)}}}(T=ts.prototype).add=function(u,f){Ya(this),this.c=null,u=Xa(this,u);var v=this.a.get(u);return v||this.a.set(u,v=[]),v.push(f),this.b+=1,this},T.clear=function(){this.a=this.c=null,this.b=0},T.forEach=function(u,f){Ya(this),this.a.forEach(function(v,w){En(v,function(D){u.call(f,D,w,this)},this)},this)},T.Y=function(){Ya(this);for(var u=this.a.X(),f=this.a.Y(),v=[],w=0;w<f.length;w++)for(var D=u[w],x=0;x<D.length;x++)v.push(f[w]);return v},T.X=function(u){Ya(this);var f=[];if("string"==typeof u)Ts(this,u)&&(f=yn(f,this.a.get(Xa(this,u))));else{u=this.a.X();for(var v=0;v<u.length;v++)f=yn(f,u[v])}return f},T.set=function(u,f){return Ya(this),this.c=null,Ts(this,u=Xa(this,u))&&(this.b-=this.a.get(u).length),this.a.set(u,[f]),this.b+=1,this},T.get=function(u,f){return u&&0<(u=this.X(u)).length?String(u[0]):f},T.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var u=[],f=this.a.Y(),v=0;v<f.length;v++){var w=f[v],D=encodeURIComponent(String(w));w=this.X(w);for(var x=0;x<w.length;x++){var P=D;""!==w[x]&&(P+="="+encodeURIComponent(String(w[x]))),u.push(P)}}return this.c=u.join("&")};var Ep={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},$d=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function tc(u,f){f.push('"',u.replace($d,function(v){var w=Ep[v];return w||(w="\\u"+(65536|v.charCodeAt(0)).toString(16).substr(1),Ep[v]=w),w}),'"')}function $i(){var u=ni();return mr&&!!Ne&&11==Ne||/Edge\/\d+/.test(u)}function Za(){return $.window&&$.window.location.href||self&&self.location&&self.location.href||""}function Rh(u,f){f=f||$.window;var v="about:blank";u&&(v=Yo(Qo(u)||_s)),f.location.href=v}function xh(u,f){var w,v=[];for(w in u)w in f?typeof u[w]!=typeof f[w]?v.push(w):"object"==typeof u[w]&&null!=u[w]&&null!=f[w]?0<xh(u[w],f[w]).length&&v.push(w):u[w]!==f[w]&&v.push(w):v.push(w);for(w in f)w in u||v.push(w);return v}function Cp(u){return!!((u=(u||ni()).toLowerCase()).match(/android/)||u.match(/webos/)||u.match(/iphone|ipad|ipod/)||u.match(/blackberry/)||u.match(/windows phone/)||u.match(/iemobile/))}function zn(u){u=u||$.window;try{u.close()}catch{}}function il(u,f,v){var w=Math.floor(1e9*Math.random()).toString();f=f||500,v=v||600;var D=(window.screen.availHeight-v)/2,x=(window.screen.availWidth-f)/2;for(P in f={width:f,height:v,top:0<D?D:0,left:0<x?x:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},v=ni().toLowerCase(),w&&(f.target=w,Tt(v,"crios/")&&(f.target="_blank")),Ce(ni())==ol&&(u=u||"http://localhost",f.scrollbars=!0),v=u||"",(u=f)||(u={}),w=window,f=v instanceof vt?v:Qo(typeof v.href<"u"?v.href:String(v))||_s,v=u.target||v.target,D=[],u)switch(P){case"width":case"height":case"top":case"left":D.push(P+"="+u[P]);break;case"target":case"noopener":case"noreferrer":break;default:D.push(P+"="+(u[P]?1:0))}var P=D.join(",");if((Ln("iPhone")&&!Ln("iPod")&&!Ln("iPad")||Ln("iPad")||Ln("iPod"))&&w.navigator&&w.navigator.standalone&&v&&"_self"!=v?(Q(P=Qs(document,"A"),"HTMLAnchorElement"),f=f instanceof vt?f:Eh(f),P.href=Yo(f),P.setAttribute("target",v),u.noreferrer&&P.setAttribute("rel","noreferrer"),(u=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,w,1),P.dispatchEvent(u),P={}):u.noreferrer?(P=Va("",w,v,P),u=Yo(f),P&&(Wu&&Tt(u,";")&&(u="'"+u.replace(/'/g,"%27")+"'"),P.opener=null,u='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+kr(u)+'">',u=new lt(u=(w=Mr())?w.createHTML(u):u,null,Ch),w=P.document)&&(w.write(function dn(u){return u instanceof lt&&u.constructor===lt?u.a:(Ke("expected object of type SafeHtml, got '"+u+"' of type "+qt(u)),"type_error:SafeHtml")}(u)),w.close())):(P=Va(f,w,v,P))&&u.noopener&&(P.opener=null),P)try{P.focus()}catch{}return P}var Dp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ns=/^[^@]+@[^@]+$/;function ki(){var u=null;return new jt(function(f){"complete"==$.document.readyState?f():(u=function(){f()},Js(window,"load",u))}).o(function(f){throw ti(window,"load",u),f})}function be(u){return u=u||ni(),!("file:"!==Ft()&&"ionic:"!==Ft()||!u.toLowerCase().match(/iphone|ipad|ipod|android/))}function tr(){var u=$.window;try{return!(!u||u==u.top)}catch{return!1}}function lo(){return typeof $.WorkerGlobalScope<"u"&&"function"==typeof $.importScripts}function De(){return pe.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":pe.Z.INTERNAL.hasOwnProperty("node")?"Node":lo()?"Worker":"Browser"}function yr(){var u=De();return"ReactNative"===u||"Node"===u}var ol="Firefox";function Ce(u){var f=u.toLowerCase();return Tt(f,"opera/")||Tt(f,"opr/")||Tt(f,"opios/")?"Opera":Tt(f,"iemobile")?"IEMobile":Tt(f,"msie")||Tt(f,"trident/")?"IE":Tt(f,"edge/")?"Edge":Tt(f,"firefox/")?ol:Tt(f,"silk/")?"Silk":Tt(f,"blackberry")?"Blackberry":Tt(f,"webos")?"Webos":!Tt(f,"safari/")||Tt(f,"chrome/")||Tt(f,"crios/")||Tt(f,"android")?!Tt(f,"chrome/")&&!Tt(f,"crios/")||Tt(f,"edge/")?Tt(f,"android")?"Android":(u=u.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==u.length?u[1]:"Other":"Chrome":"Safari"}var Le={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Oh(u,f){f=f||[];var D,v=[],w={};for(D in Le)w[Le[D]]=!0;for(D=0;D<f.length;D++)typeof w[f[D]]<"u"&&(delete w[f[D]],v.push(f[D]));return v.sort(),(f=v).length||(f=["FirebaseCore-web"]),"Browser"===(v=De())?v=Ce(w=ni()):"Worker"===v&&(v=Ce(w=ni())+"-"+v),v+"/JsCore/"+u+"/"+f.join(",")}function ni(){return $.navigator&&$.navigator.userAgent||""}function tt(u,f){u=u.split("."),f=f||$;for(var v=0;v<u.length&&"object"==typeof f&&null!=f;v++)f=f[u[v]];return v!=u.length&&(f=void 0),f}function Ja(){try{var u=$.localStorage,f=ut();if(u)return u.setItem(f,"1"),u.removeItem(f),!$i()||!!$.indexedDB}catch{return lo()&&!!$.indexedDB}return!1}function ia(){return(fi()||"chrome-extension:"===Ft()||be())&&!yr()&&Ja()&&!lo()}function fi(){return"http:"===Ft()||"https:"===Ft()}function Ft(){return $.location&&$.location.protocol||null}function me(u){return!(Cp(u=u||ni())||Ce(u)==ol)}function Lt(u){return typeof u>"u"?null:wp(u)}function Gi(u){var v,f={};for(v in u)u.hasOwnProperty(v)&&null!=u[v]&&(f[v]=u[v]);return f}function Lr(u){if(null!==u)return JSON.parse(u)}function ut(u){return u||Math.floor(1e9*Math.random()).toString()}function Sp(u){return!("Safari"==Ce(u=u||ni())||u.toLowerCase().match(/iphone|ipad|ipod/))}function Ri(){var u=$.___jsl;if(u&&u.H)for(var f in u.H)if(u.H[f].r=u.H[f].r||[],u.H[f].L=u.H[f].L||[],u.H[f].r=u.H[f].L.concat(),u.CP)for(var v=0;v<u.CP.length;v++)u.CP[v]=null}function hr(u,f){if(u>f)throw Error("Short delay should be less than long delay!");this.a=u,this.c=f,u=ni(),f=De(),this.b=Cp(u)||"ReactNative"===f}function Br(){var u=$.document;return!(u&&typeof u.visibilityState<"u")||"visible"==u.visibilityState}function rs(u){try{var f=new Date(parseInt(u,10));if(!isNaN(f.getTime())&&!/[^0-9]/.test(u))return f.toUTCString()}catch{}return null}function _r(){return!(!tt("fireauth.oauthhelper",$)&&!tt("fireauth.iframe",$))}hr.prototype.get=function(){var u=$.navigator;return u&&"boolean"==typeof u.onLine&&(fi()||"chrome-extension:"===Ft()||typeof u.connection<"u")&&!u.onLine?Math.min(5e3,this.a):this.b?this.c:this.a};var Is,pi={};function Wi(u){pi[u]||(pi[u]=!0,typeof console<"u"&&"function"==typeof console.warn&&console.warn(u))}try{var is={};Object.defineProperty(is,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(is,"abcd",{configurable:!0,enumerable:!0,value:2}),Is=2==is.abcd}catch{Is=!1}function He(u,f,v){Is?Object.defineProperty(u,f,{configurable:!0,enumerable:!0,value:v}):u[f]=v}function ze(u,f){if(f)for(var v in f)f.hasOwnProperty(v)&&He(u,v,f[v])}function gi(u){var f={};return ze(f,u),f}function Ms(u){var f=u;if("object"==typeof u&&null!=u)for(var v in f="length"in u?[]:{},u)He(f,v,Ms(u[v]));return f}function al(u){var f=u&&(u[nc]?"phone":null);if(!(f&&u&&u[hl]))throw new V("internal-error","Internal assert: invalid MultiFactorInfo object");He(this,"uid",u[hl]),He(this,"displayName",u[cl]||null);var v=null;u[ll]&&(v=new Date(u[ll]).toUTCString()),He(this,"enrollmentTime",v),He(this,"factorId",f)}function ul(u){try{var f=new rc(u)}catch{f=null}return f}al.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var cl="displayName",ll="enrolledAt",hl="mfaEnrollmentId",nc="phoneInfo";function rc(u){al.call(this,u),He(this,"phoneNumber",u[nc])}function Ip(u){var f={},v=u[sm],w=u[Ki],D=u[sa];if(u=ul(u[mi]),!D||D!=oa&&D!=Vr&&!v||D==Vr&&!w||D==ic&&!u)throw Error("Invalid checkActionCode response!");D==Vr?(f[Fh]=v||null,f[ho]=v||null,f[qn]=w):(f[Fh]=w||null,f[ho]=w||null,f[qn]=v||null),f[Gd]=u||null,He(this,Xv,D),He(this,Qv,Ms(f))}pt(rc,al),rc.prototype.w=function(){var u=rc.bb.w.call(this);return u.phoneNumber=this.phoneNumber,u};var ic="REVERT_SECOND_FACTOR_ADDITION",oa="EMAIL_SIGNIN",Vr="VERIFY_AND_CHANGE_EMAIL",sm="email",mi="mfaInfo",Ki="newEmail",sa="requestType",qn="email",Fh="fromEmail",Gd="multiFactorInfo",ho="previousEmail",Qv="data",Xv="operation";function Ap(u){var f=wo(u=Ai(u),dl)||null,v=wo(u,Lh)||null,w=wo(u,kp)||null;if(w=w&&os[w]||null,!f||!v||!w)throw new V("argument-error",dl+", "+Lh+"and "+kp+" are required in a valid action code URL.");ze(this,{apiKey:f,operation:w,code:v,continueUrl:wo(u,Wd)||null,languageCode:wo(u,Mp)||null,tenantId:wo(u,Bh)||null})}var dl="apiKey",Lh="oobCode",Wd="continueUrl",Mp="languageCode",kp="mode",Bh="tenantId",os={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ic,signIn:oa,verifyAndChangeEmail:Vr,verifyEmail:"VERIFY_EMAIL"};function ss(u){try{return new Ap(u)}catch{return null}}function Kd(u){var f=u[fl];if(typeof f>"u")throw new V("missing-continue-uri");if("string"!=typeof f||"string"==typeof f&&!f.length)throw new V("invalid-continue-uri");this.h=f,this.b=this.a=null,this.g=!1;var v=u[Rp];if(v&&"object"==typeof v){f=v[sc];var w=v[Yd];if(v=v[Qd],"string"==typeof f&&f.length){if(this.a=f,typeof w<"u"&&"boolean"!=typeof w)throw new V("argument-error",Yd+" property must be a boolean when specified.");if(this.g=!!w,typeof v<"u"&&("string"!=typeof v||"string"==typeof v&&!v.length))throw new V("argument-error",Qd+" property must be a non empty string when specified.");this.b=v||null}else{if(typeof f<"u")throw new V("argument-error",sc+" property must be a non empty string when specified.");if(typeof w<"u"||typeof v<"u")throw new V("missing-android-pkg-name")}}else if(typeof v<"u")throw new V("argument-error",Rp+" property must be a non null object when specified.");if(this.f=null,(f=u[xp])&&"object"==typeof f){if("string"==typeof(f=f[Vh])&&f.length)this.f=f;else if(typeof f<"u")throw new V("argument-error",Vh+" property must be a non empty string when specified.")}else if(typeof f<"u")throw new V("argument-error",xp+" property must be a non null object when specified.");if(typeof(f=u[Eo])<"u"&&"boolean"!=typeof f)throw new V("argument-error",Eo+" property must be a boolean when specified.");if(this.c=!!f,typeof(u=u[oc])<"u"&&("string"!=typeof u||"string"==typeof u&&!u.length))throw new V("argument-error",oc+" property must be a non empty string when specified.");this.i=u||null}var Rp="android",oc="dynamicLinkDomain",Eo="handleCodeInApp",xp="iOS",fl="url",Yd="installApp",Qd="minimumVersion",sc="packageName",Vh="bundleId";function ac(u){var f={};for(var v in f.continueUrl=u.h,f.canHandleCodeInApp=u.c,(f.androidPackageName=u.a)&&(f.androidMinimumVersion=u.b,f.androidInstallApp=u.g),f.iOSBundleId=u.f,f.dynamicLinkDomain=u.i,f)null===f[v]&&delete f[v];return f}var vi=null;function as(u){var f=pl(u);if(!(f&&f.sub&&f.iss&&f.aud&&f.exp))throw Error("Invalid JWT");this.h=u,this.a=f.exp,this.i=f.sub,u=Date.now()/1e3,this.g=f.iat||(u>this.a?this.a:u),this.b=f.provider_id||f.firebase&&f.firebase.sign_in_provider||null,this.f=f.firebase&&f.firebase.tenant||null,this.c=!!f.is_anonymous||"anonymous"==this.b}function Rs(u){try{return new as(u)}catch{return null}}function pl(u){if(!u||3!=(u=u.split(".")).length)return null;for(var f=(4-(u=u[1]).length%4)%4,v=0;v<f;v++)u+=".";try{var w=function Op(u){var f=[];return function ks(u,f){function v(ue){for(;w<u.length;){var a=u.charAt(w++),s=vi[a];if(null!=s)return s;if(!/^[\s\xa0]*$/.test(a))throw Error("Unknown base64 encoding at char: "+a)}return ue}!function am(){if(!vi){vi={};for(var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),f=["+/=","+/","-_=","-_.","-_"],v=0;5>v;v++)for(var w=u.concat(f[v].split("")),D=0;D<w.length;D++){var x=w[D];void 0===vi[x]&&(vi[x]=D)}}}();for(var w=0;;){var D=v(-1),x=v(0),P=v(64),U=v(64);if(64===U&&-1===D)break;f(D<<2|x>>4),64!=P&&(f(x<<4&240|P>>2),64!=U&&f(P<<6&192|U))}}(u,function(v){f.push(v)}),f}(u);for(u=[],v=f=0;f<w.length;){var D=w[f++];if(128>D)u[v++]=String.fromCharCode(D);else if(191<D&&224>D){var x=w[f++];u[v++]=String.fromCharCode((31&D)<<6|63&x)}else if(239<D&&365>D){x=w[f++];var P=w[f++],ue=((7&D)<<18|(63&x)<<12|(63&P)<<6|63&w[f++])-65536;u[v++]=String.fromCharCode(55296+(ue>>10)),u[v++]=String.fromCharCode(56320+(1023&ue))}else x=w[f++],P=w[f++],u[v++]=String.fromCharCode((15&D)<<12|(63&x)<<6|63&P)}return JSON.parse(u.join(""))}catch{}return null}as.prototype.T=function(){return this.f},as.prototype.l=function(){return this.c},as.prototype.toString=function(){return this.h};var Zv="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),gl=["client_id","response_type","scope","redirect_uri","state"],jh={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:gl},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:gl},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:gl},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Zv},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Xd(u){for(var f in jh)if(jh[f].fa==u)return jh[f];return null}function fo(u){var f={};f["facebook.com"]=us,f["google.com"]=eu,f["github.com"]=yl,f["twitter.com"]=Zd;var v=u&&u[ml];try{if(v)return f[v]?new f[v](u):new yi(u);if(typeof u[Pp]<"u")return new vl(u)}catch{}return null}var Pp="idToken",ml="providerId";function vl(u){var f=u[ml];if(!f&&u[Pp]){var v=Rs(u[Pp]);v&&v.b&&(f=v.b)}if(!f)throw Error("Invalid additional user info!");("anonymous"==f||"custom"==f)&&(f=null),v=!1,typeof u.isNewUser<"u"?v=!!u.isNewUser:"identitytoolkit#SignupNewUserResponse"===u.kind&&(v=!0),He(this,"providerId",f),He(this,"isNewUser",v)}function yi(u){vl.call(this,u),He(this,"profile",Ms((u=Lr(u.rawUserInfo||"{}"))||{}))}function us(u){if(yi.call(this,u),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function yl(u){if(yi.call(this,u),"github.com"!=this.providerId)throw Error("Invalid provider ID!");He(this,"username",this.profile&&this.profile.login||null)}function eu(u){if(yi.call(this,u),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zd(u){if(yi.call(this,u),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");He(this,"username",u.screenName||null)}function tu(u){var f=Ai(u),v=wo(f,"link"),w=wo(Ai(v),"link");return f=wo(f,"deep_link_id"),wo(Ai(f),"link")||f||w||v||u}function _l(u,f){if(!u&&!f)throw new V("internal-error","Internal assert: no raw session string available");if(u&&f)throw new V("internal-error","Internal assert: unable to determine the session type");this.a=u||null,this.b=f||null,this.type=this.a?uc:nu}pt(yi,vl),pt(us,yi),pt(yl,yi),pt(eu,yi),pt(Zd,yi);var uc="enroll",nu="signin";function ua(){}function nr(u,f){return u.then(function(v){if(v[To]){var w=Rs(v[To]);if(!w||f!=w.i)throw new V("user-mismatch");return v}throw new V("user-mismatch")}).o(function(v){throw v&&v.code&&v.code==_e+"user-not-found"?new V("user-mismatch"):v})}function xs(u,f){if(!f)throw new V("internal-error","failed to construct a credential");this.a=f,He(this,"providerId",u),He(this,"signInMethod",u)}function cc(u){return{pendingToken:u.a,requestUri:"http://localhost"}}function um(u){if(u&&u.providerId&&u.signInMethod&&0==u.providerId.indexOf("saml.")&&u.pendingToken)try{return new xs(u.providerId,u.pendingToken)}catch{}return null}function xi(u,f,v){if(this.a=null,f.idToken||f.accessToken)f.idToken&&He(this,"idToken",f.idToken),f.accessToken&&He(this,"accessToken",f.accessToken),f.nonce&&!f.pendingToken&&He(this,"nonce",f.nonce),f.pendingToken&&(this.a=f.pendingToken);else{if(!f.oauthToken||!f.oauthTokenSecret)throw new V("internal-error","failed to construct a credential");He(this,"accessToken",f.oauthToken),He(this,"secret",f.oauthTokenSecret)}He(this,"providerId",u),He(this,"signInMethod",v)}function Np(u){var f={};return u.idToken&&(f.id_token=u.idToken),u.accessToken&&(f.access_token=u.accessToken),u.secret&&(f.oauth_token_secret=u.secret),f.providerId=u.providerId,u.nonce&&!u.a&&(f.nonce=u.nonce),f={postBody:qd(f).toString(),requestUri:"http://localhost"},u.a&&(delete f.postBody,f.pendingToken=u.a),f}function Jd(u){if(u&&u.providerId&&u.signInMethod){var f={idToken:u.oauthIdToken,accessToken:u.oauthTokenSecret?null:u.oauthAccessToken,oauthTokenSecret:u.oauthTokenSecret,oauthToken:u.oauthTokenSecret&&u.oauthAccessToken,nonce:u.nonce,pendingToken:u.pendingToken};try{return new xi(u.providerId,f,u.signInMethod)}catch{}}return null}function Os(u,f){this.Qc=f||[],ze(this,{providerId:u,isOAuthProvider:!0}),this.Jb={},this.qb=(Xd(u)||{}).Ja||null,this.pb=null}function bl(u){if("string"!=typeof u||0!=u.indexOf("saml."))throw new V("argument-error",'SAML provider IDs must be prefixed with "saml."');Os.call(this,u,[])}function br(u){Os.call(this,u,gl),this.a=[]}function Co(){br.call(this,"facebook.com")}function ru(u){if(!u)throw new V("argument-error","credential failed: expected 1 argument (the OAuth access token).");var f=u;return bt(u)&&(f=u.accessToken),(new Co).credential({accessToken:f})}function Do(){br.call(this,"github.com")}function Qn(u){if(!u)throw new V("argument-error","credential failed: expected 1 argument (the OAuth access token).");var f=u;return bt(u)&&(f=u.accessToken),(new Do).credential({accessToken:f})}function $t(){br.call(this,"google.com"),this.Ca("profile")}function iu(u,f){var v=u;return bt(u)&&(v=u.idToken,f=u.accessToken),(new $t).credential({idToken:v,accessToken:f})}function So(){Os.call(this,"twitter.com",Zv)}function Jv(u,f){var v=u;if(bt(v)||(v={oauthToken:u,oauthTokenSecret:f}),!v.oauthToken||!v.oauthTokenSecret)throw new V("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new xi("twitter.com",v,"twitter.com")}function ca(u,f,v){this.a=u,this.f=f,He(this,"providerId","password"),He(this,"signInMethod",v===$n.EMAIL_LINK_SIGN_IN_METHOD?$n.EMAIL_LINK_SIGN_IN_METHOD:$n.EMAIL_PASSWORD_SIGN_IN_METHOD)}function je(u){return u&&u.email&&u.password?new ca(u.email,u.password,u.signInMethod):null}function $n(){ze(this,{providerId:"password",isOAuthProvider:!1})}function ef(u,f){if(!(f=la(f)))throw new V("argument-error","Invalid email link!");return new ca(u,f.code,$n.EMAIL_LINK_SIGN_IN_METHOD)}function la(u){return(u=ss(u=tu(u)))&&u.operation===oa?u:null}function rr(u){if(!(u.fb&&u.eb||u.La&&u.ea))throw new V("internal-error");this.a=u,He(this,"providerId","phone"),this.fa="phone",He(this,"signInMethod","phone")}function ey(u){if(u&&"phone"===u.providerId&&(u.verificationId&&u.verificationCode||u.temporaryProof&&u.phoneNumber)){var f={};return En(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(v){u[v]&&(f[v]=u[v])}),new rr(f)}return null}function tf(u){return u.a.La&&u.a.ea?{temporaryProof:u.a.La,phoneNumber:u.a.ea}:{sessionInfo:u.a.fb,code:u.a.eb}}function jr(u){try{this.a=u||pe.Z.auth()}catch{throw new V("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ze(this,{providerId:"phone",isOAuthProvider:!1})}function wl(u,f){if(!u)throw new V("missing-verification-id");if(!f)throw new V("missing-verification-code");return new rr({fb:u,eb:f})}function nf(u){if(u.temporaryProof&&u.phoneNumber)return new rr({La:u.temporaryProof,ea:u.phoneNumber});var f=u&&u.providerId;if(!f||"password"===f)return null;var v=u&&u.oauthAccessToken,w=u&&u.oauthTokenSecret,D=u&&u.nonce,x=u&&u.oauthIdToken,P=u&&u.pendingToken;try{switch(f){case"google.com":return iu(x,v);case"facebook.com":return ru(v);case"github.com":return Qn(v);case"twitter.com":return Jv(v,w);default:return v||w||x||P?P?0==f.indexOf("saml.")?new xs(f,P):new xi(f,{pendingToken:P,idToken:u.oauthIdToken,accessToken:u.oauthAccessToken},f):new br(f).credential({idToken:x,accessToken:v,rawNonce:D}):null}}catch{return null}}function cm(u){if(!u.isOAuthProvider)throw new V("invalid-oauth-provider")}function kn(u,f,v,w,D,x,P){if(this.c=u,this.b=f||null,this.g=v||null,this.f=w||null,this.i=x||null,this.h=P||null,this.a=D||null,!this.g&&!this.a)throw new V("invalid-auth-event");if(this.g&&this.a)throw new V("invalid-auth-event");if(this.g&&!this.f)throw new V("invalid-auth-event")}function rf(u){return(u=u||{}).type?new kn(u.type,u.eventId,u.urlResponse,u.sessionId,u.error&&ge(u.error),u.postBody,u.tenantId):null}function _n(){this.b=null,this.a=[]}_l.prototype.Ha=function(){return it(this.a?this.a:this.b)},_l.prototype.w=function(){return this.type==uc?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ua.prototype.ka=function(){},ua.prototype.b=function(){},ua.prototype.c=function(){},ua.prototype.w=function(){},xs.prototype.ka=function(u){return jp(u,cc(this))},xs.prototype.b=function(u,f){var v=cc(this);return v.idToken=f,Ef(u,v)},xs.prototype.c=function(u,f){return nr(Qh(u,cc(this)),f)},xs.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},xi.prototype.ka=function(u){return jp(u,Np(this))},xi.prototype.b=function(u,f){var v=Np(this);return v.idToken=f,Ef(u,v)},xi.prototype.c=function(u,f){return nr(Qh(u,Np(this)),f)},xi.prototype.w=function(){var u={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(u.oauthIdToken=this.idToken),this.accessToken&&(u.oauthAccessToken=this.accessToken),this.secret&&(u.oauthTokenSecret=this.secret),this.nonce&&(u.nonce=this.nonce),this.a&&(u.pendingToken=this.a),u},Os.prototype.Ka=function(u){return this.Jb=G(u),this},pt(bl,Os),pt(br,Os),br.prototype.Ca=function(u){return Rn(this.a,u)||this.a.push(u),this},br.prototype.Rb=function(){return Hn(this.a)},br.prototype.credential=function(u,f){var v;if(!(v=bt(u)?{idToken:u.idToken||null,accessToken:u.accessToken||null,nonce:u.rawNonce||null}:{idToken:u||null,accessToken:f||null}).idToken&&!v.accessToken)throw new V("argument-error","credential failed: must provide the ID token and/or the access token.");return new xi(this.providerId,v,this.providerId)},pt(Co,br),He(Co,"PROVIDER_ID","facebook.com"),He(Co,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),pt(Do,br),He(Do,"PROVIDER_ID","github.com"),He(Do,"GITHUB_SIGN_IN_METHOD","github.com"),pt($t,br),He($t,"PROVIDER_ID","google.com"),He($t,"GOOGLE_SIGN_IN_METHOD","google.com"),pt(So,Os),He(So,"PROVIDER_ID","twitter.com"),He(So,"TWITTER_SIGN_IN_METHOD","twitter.com"),ca.prototype.ka=function(u){return this.signInMethod==$n.EMAIL_LINK_SIGN_IN_METHOD?Yt(u,Up,{email:this.a,oobCode:this.f}):Yt(u,Pl,{email:this.a,password:this.f})},ca.prototype.b=function(u,f){return this.signInMethod==$n.EMAIL_LINK_SIGN_IN_METHOD?Yt(u,Io,{idToken:f,email:this.a,oobCode:this.f}):Yt(u,Df,{idToken:f,email:this.a,password:this.f})},ca.prototype.c=function(u,f){return nr(this.ka(u),f)},ca.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},ze($n,{PROVIDER_ID:"password"}),ze($n,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ze($n,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),rr.prototype.ka=function(u){return u.gb(tf(this))},rr.prototype.b=function(u,f){var v=tf(this);return v.idToken=f,Yt(u,pn,v)},rr.prototype.c=function(u,f){var v=tf(this);return v.operation="REAUTH",nr(u=Yt(u,Tf,v),f)},rr.prototype.w=function(){var u={providerId:"phone"};return this.a.fb&&(u.verificationId=this.a.fb),this.a.eb&&(u.verificationCode=this.a.eb),this.a.La&&(u.temporaryProof=this.a.La),this.a.ea&&(u.phoneNumber=this.a.ea),u},jr.prototype.gb=function(u,f){var v=this.a.a;return it(f.verify()).then(function(w){if("string"!=typeof w)throw new V("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===f.type){var P,D=bt(u)?u.session:null,x=bt(u)?u.phoneNumber:u;return P=D&&D.type==uc?D.Ha().then(function(U){return function gm(u,f){return Yt(u,uy,f).then(function(v){return v.phoneSessionInfo.sessionInfo})}(v,{idToken:U,phoneEnrollmentInfo:{phoneNumber:x,recaptchaToken:w}})}):D&&D.type==nu?D.Ha().then(function(U){return function Ns(u,f){return Yt(u,ym,f).then(function(v){return v.phoneResponseInfo.sessionInfo})}(v,{mfaPendingCredential:U,mfaEnrollmentId:u.multiFactorHint&&u.multiFactorHint.uid||u.multiFactorUid,phoneSignInInfo:{recaptchaToken:w}})}):function Yh(u,f){return Yt(u,Gp,f)}(v,{phoneNumber:x,recaptchaToken:w}),P.then(function(U){return"function"==typeof f.reset&&f.reset(),U},function(U){throw"function"==typeof f.reset&&f.reset(),U})}throw new V("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')})},ze(jr,{PROVIDER_ID:"phone"}),ze(jr,{PHONE_SIGN_IN_METHOD:"phone"}),kn.prototype.getUid=function(){var u=[];return u.push(this.c),this.b&&u.push(this.b),this.f&&u.push(this.f),this.h&&u.push(this.h),u.join("-")},kn.prototype.T=function(){return this.h},kn.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Uh,lm=null;function _i(u){var f="unauthorized-domain",v=void 0,w=Ai(u);u=w.a,"chrome-extension"==(w=w.c)?v=Xo("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",u):"http"==w||"https"==w?v=Xo("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",u):f="operation-not-supported-in-this-environment",V.call(this,f,v)}function Yi(u,f,v){V.call(this,u,v),(u=f||{}).Kb&&He(this,"email",u.Kb),u.ea&&He(this,"phoneNumber",u.ea),u.credential&&He(this,"credential",u.credential),u.$b&&He(this,"tenantId",u.$b)}function ou(u){if(u.code){var f=u.code||"";0==f.indexOf(_e)&&(f=f.substring(_e.length));var v={credential:nf(u),$b:u.tenantId};if(u.email)v.Kb=u.email;else if(u.phoneNumber)v.ea=u.phoneNumber;else if(!v.credential)return new V(f,u.message||void 0);return new Yi(f,v,u.message)}return null}function ha(){}function af(){}function Fp(u){if(!u.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var f=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],v=0;v<f.length;v++){var w=f[v];try{return new ActiveXObject(w),u.f=w}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return u.f}function uf(){}function ty(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=Xe(this.qc,this),this.a.onerror=Xe(this.Tb,this),this.a.onprogress=Xe(this.rc,this),this.a.ontimeout=Xe(this.vc,this)}function cf(u,f){u.readyState=f,u.onreadystatechange&&u.onreadystatechange()}function Qi(u,f,v){this.reset(u,f,v,void 0,void 0)}function da(u){this.f=u,this.b=this.c=this.a=null}function lf(u,f){this.name=u,this.value=f}pt(_i,V),pt(Yi,V),Yi.prototype.w=function(){var u={code:this.code,message:this.message};this.email&&(u.email=this.email),this.phoneNumber&&(u.phoneNumber=this.phoneNumber),this.tenantId&&(u.tenantId=this.tenantId);var f=this.credential&&this.credential.w();return f&&ne(u,f),u},Yi.prototype.toJSON=function(){return this.w()},ha.prototype.c=null,pt(af,ha),af.prototype.a=function(){var u=Fp(this);return u?new ActiveXObject(u):new XMLHttpRequest},af.prototype.b=function(){var u={};return Fp(this)&&(u[0]=!0,u[1]=!0),u},Uh=new af,pt(uf,ha),uf.prototype.a=function(){var u=new XMLHttpRequest;if("withCredentials"in u)return u;if(typeof XDomainRequest<"u")return new ty;throw Error("Unsupported browser")},uf.prototype.b=function(){return{}},(T=ty.prototype).open=function(u,f,v){if(null!=v&&!v)throw Error("Only async requests are supported.");this.a.open(u,f)},T.send=function(u){if(u){if("string"!=typeof u)throw Error("Only string data is supported");this.a.send(u)}else this.a.send()},T.abort=function(){this.a.abort()},T.setRequestHeader=function(){},T.getResponseHeader=function(u){return"content-type"==u.toLowerCase()?this.a.contentType:""},T.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,cf(this,4)},T.Tb=function(){this.status=500,this.response=this.responseText="",cf(this,4)},T.vc=function(){this.Tb()},T.rc=function(){this.status=200,cf(this,1)},T.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Qi.prototype.a=null,Qi.prototype.reset=function(u,f,v,w,D){w||oo(),delete this.a},lf.prototype.toString=function(){return this.name};var Or=new lf("SEVERE",1e3),Hh=new lf("WARNING",900),hm=new lf("CONFIG",700),zh=new lf("FINE",500);function cs(u){return u.c?u.c:u.a?cs(u.a):(Ke("Root logger has no level set."),null)}da.prototype.log=function(u,f,v){if(u.value>=cs(this).value)for(Pt(f)&&(f=f()),u=new Qi(u,String(f),this.f),v&&(u.a=v),v=this;v;)v=v.a};var qh={},$h=null;function fa(u){var f;if($h||($h=new da(""),qh[""]=$h,$h.c=hm),!(f=qh[u])){f=new da(u);var v=u.lastIndexOf("."),w=u.substr(v+1);(v=fa(u.substr(0,v))).b||(v.b={}),v.b[w]=f,f.a=v,qh[u]=f}return f}function Oi(u,f){u&&u.log(zh,f,void 0)}function hf(u){this.f=u}function pa(u){ur.call(this),this.u=u,this.h=void 0,this.readyState=su,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=fa("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}pt(hf,ha),hf.prototype.a=function(){return new pa(this.f)},hf.prototype.b=function(u){return function(){return u}}({}),pt(pa,ur);var su=0;function El(u){u.c.read().then(u.pc.bind(u)).catch(u.Va.bind(u))}function Cl(u){u.readyState=4,u.g=null,u.c=null,u.m=null,Dl(u)}function Dl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}function Sl(u){ur.call(this),this.headers=new Cs,this.D=u||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=df,this.u=this.S=!1}(T=pa.prototype).open=function(u,f){if(this.readyState!=su)throw this.abort(),Error("Error reopening a connection");this.s=u,this.f=f,this.readyState=1,Dl(this)},T.send=function(u){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var f={headers:this.l,method:this.s,credentials:this.h,cache:void 0};u&&(f.body=u),this.u.fetch(new Request(this.f,f)).then(this.uc.bind(this),this.Va.bind(this))},T.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Cl(this)),this.readyState=su},T.uc=function(u){this.a&&(this.g=u,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=u.headers,this.readyState=2,Dl(this)),this.a&&(this.readyState=3,Dl(this),this.a&&("arraybuffer"===this.responseType?u.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof $.ReadableStream<"u"&&"body"in u?(this.response=this.responseText="",this.c=u.body.getReader(),this.m=new TextDecoder,El(this)):u.text().then(this.tc.bind(this),this.Va.bind(this)))))},T.pc=function(u){if(this.a){var f=this.m.decode(u.value?u.value:new Uint8Array(0),{stream:!u.done});f&&(this.response=this.responseText+=f),u.done?Cl(this):Dl(this),3==this.readyState&&El(this)}},T.tc=function(u){this.a&&(this.response=this.responseText=u,Cl(this))},T.sc=function(u){this.a&&(this.response=u,Cl(this))},T.Va=function(u){var f=this.i;f&&f.log(Hh,"Failed to fetch url "+this.f,u instanceof Error?u:Error(u)),this.a&&Cl(this)},T.setRequestHeader=function(u,f){this.l.append(u,f)},T.getResponseHeader=function(u){return this.b?this.b.get(u.toLowerCase())||"":((u=this.i)&&u.log(Hh,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},T.getAllResponseHeaders=function(){if(!this.b){var u=this.i;return u&&u.log(Hh,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}u=[];for(var f=this.b.entries(),v=f.next();!v.done;)u.push((v=v.value)[0]+": "+v[1]),v=f.next();return u.join("\r\n")},Object.defineProperty(pa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(u){this.h=u?"include":"same-origin"}}),pt(Sl,ur);var df="";Sl.prototype.b=fa("goog.net.XhrIo");var Tl=/^https?$/i,Gh=["POST","PUT"];function dc(u){return"content-type"==u.toLowerCase()}function bi(u,f){u.c=!1,u.a&&(u.f=!0,u.a.abort(),u.f=!1),u.h=f,ff(u),pf(u)}function ff(u){u.J||(u.J=!0,u.dispatchEvent("complete"),u.dispatchEvent("error"))}function Il(u){if(u.c&&typeof se<"u")if(u.C[1]&&4==Xi(u)&&2==Al(u))Oi(u.b,ri(u,"Local request error detected and ignored"));else if(u.i&&4==Xi(u))bp(u.Wb,0,u);else if(u.dispatchEvent("readystatechange"),4==Xi(u)){Oi(u.b,ri(u,"Request complete")),u.c=!1;try{var w,f=Al(u);e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}if(!(w=v)){var D;if(D=0===f){var x=String(u.l).match(nm)[1]||null;if(!x&&$.self&&$.self.location){var P=$.self.location.protocol;x=P.substr(0,P.length-1)}D=!Tl.test(x?x.toLowerCase():"")}w=D}if(w)u.dispatchEvent("complete"),u.dispatchEvent("success");else{try{var U=2<Xi(u)?u.a.statusText:""}catch(ue){Oi(u.b,"Can not get status: "+ue.message),U=""}u.h=U+" ["+Al(u)+"]",ff(u)}}finally{pf(u)}}}function pf(u,f){if(u.a){Lp(u);var v=u.a,w=u.C[0]?Fe:null;u.a=null,u.C=null,f||u.dispatchEvent("ready");try{v.onreadystatechange=w}catch(D){(u=u.b)&&u.log(Or,"Problem encountered resetting onreadystatechange: "+D.message,void 0)}}}function Lp(u){u.a&&u.u&&(u.a.ontimeout=null),u.s&&($.clearTimeout(u.s),u.s=null)}function Xi(u){return u.a?u.a.readyState:0}function Al(u){try{return 2<Xi(u)?u.a.status:-1}catch{return-1}}function ri(u,f){return f+" ["+u.P+" "+u.l+" "+Al(u)+"]"}function jo(u){var f=ga;this.g=[],this.u=f,this.s=u||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function wi(u,f,v){u.a=!0,u.c=v,u.f=!f,dm(u)}function Uo(u){if(u.a){if(!u.v)throw new ir(u);u.v=!1}}function wr(u,f,v,w){u.g.push([f,v,w]),u.a&&dm(u)}function Bp(u){return rn(u.g,function(f){return Pt(f[1])})}function dm(u){if(u.h&&u.a&&Bp(u)){var f=u.h,v=Pr[f];v&&($.clearTimeout(v.a),delete Pr[f]),u.h=0}u.b&&(u.b.l--,delete u.b),f=u.c;for(var w=v=!1;u.g.length&&!u.i;){var D=u.g.shift(),x=D[0],P=D[1];if(D=D[2],x=u.f?P:x)try{var U=x.call(D||u.s,f);void 0!==U&&(u.f=u.f&&(U==f||U instanceof Error),u.c=f=U),(cr(f)||"function"==typeof $.Promise&&f instanceof $.Promise)&&(w=!0,u.i=!0)}catch(ue){f=ue,u.f=!0,Bp(u)||(v=!0)}}u.c=f,w&&(U=Xe(u.m,u,!0),w=Xe(u.m,u,!1),f instanceof jo?(wr(f,U,w),f.C=!0):f.then(U,w)),v&&(f=new Hr(f),Pr[f.a]=f,u.h=f.a)}function ir(){nt.call(this)}function Ur(){nt.call(this)}function Hr(u){this.a=$.setTimeout(Xe(this.c,this),0),this.b=u}(T=Sl.prototype).Ma=function(){typeof se<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Oi(this.b,ri(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},T.abort=function(){this.a&&this.c&&(Oi(this.b,ri(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),pf(this))},T.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),pf(this,!0)),Sl.bb.Da.call(this)},T.Wb=function(){this.ya||(this.N||this.i||this.f?Il(this):this.Jc())},T.Jc=function(){Il(this)},T.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case df:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var u=this.b;return u&&u.log(Or,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(f){return Oi(this.b,"Can not get response: "+f.message),null}},jo.prototype.cancel=function(u){if(this.a)this.c instanceof jo&&this.c.cancel();else{if(this.b){var f=this.b;delete this.b,u?f.cancel(u):(f.l--,0>=f.l&&f.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(u=new Ur(this),Uo(this),wi(this,!1,u))}},jo.prototype.m=function(u,f){this.i=!1,wi(this,u,f)},jo.prototype.then=function(u,f,v){var w,D,x=new jt(function(P,U){w=P,D=U});return wr(this,w,function(P){P instanceof Ur?x.cancel():D(P)}),x.then(u,f,v)},jo.prototype.$goog_Thenable=!0,pt(ir,nt),ir.prototype.message="Deferred has already fired",ir.prototype.name="AlreadyCalledError",pt(Ur,nt),Ur.prototype.message="Deferred was canceled",Ur.prototype.name="CanceledError",Hr.prototype.c=function(){throw delete Pr[this.a],this.b};var Pr={};function po(u){var f={},v=f.document||document,w=Ct(u).toString(),D=Qs(document,"SCRIPT"),x={Xb:D,Ma:void 0},P=new jo(x),U=null,ue=null!=f.timeout?f.timeout:5e3;return 0<ue&&(U=window.setTimeout(function(){uu(D,!0);var a=new gf(ry,"Timeout reached for loading script "+w);Uo(P),wi(P,!1,a)},ue),x.Ma=U),D.onload=D.onreadystatechange=function(){D.readyState&&"loaded"!=D.readyState&&"complete"!=D.readyState||(uu(D,f.xd||!1,U),Uo(P),wi(P,!0,null))},D.onerror=function(){uu(D,!0,U);var a=new gf(Ml,"Error while loading script "+w);Uo(P),wi(P,!1,a)},ne(x=f.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Qu(D,x),function yp(u,f){Q(u,"HTMLScriptElement"),u.src=Ct(f),(f=u.ownerDocument&&u.ownerDocument.defaultView)&&f!=$?f=Ae(f.document):(null===Re&&(Re=Ae($.document)),f=Re),f&&u.setAttribute("nonce",f)}(D,u),function au(u){var f;return(f=(u||document).getElementsByTagName("HEAD"))&&0!=f.length?f[0]:u.documentElement}(v).appendChild(D),P}function ga(){if(this&&this.Xb){var u=this.Xb;u&&"SCRIPT"==u.tagName&&uu(u,!0,this.Ma)}}function uu(u,f,v){null!=v&&$.clearTimeout(v),u.onload=Fe,u.onerror=Fe,u.onreadystatechange=Fe,f&&window.setTimeout(function(){u&&u.parentNode&&u.parentNode.removeChild(u)},0)}var Ml=0,ry=1;function gf(u,f){var v="Jsloader error (code #"+u+")";f&&(v+=": "+f),nt.call(this,v),this.code=u}function cu(u){this.f=u}function Gn(u,f,v){if(this.c=u,this.l=(u=f||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=u.secureTokenTimeout||Wh,this.g=G(u.secureTokenHeaders||fm),this.h=u.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=u.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=u.firebaseTimeout||mf,this.a=G(u.firebaseHeaders||ma),v&&(this.a["X-Client-Version"]=v,this.g["X-Client-Version"]=v),v="Node"==De(),!(v=$.XMLHttpRequest||v&&pe.Z.INTERNAL.node&&pe.Z.INTERNAL.node.XMLHttpRequest)&&!lo())throw new V("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=lo()?new hf(self):yr()?new cu(v):new uf,this.b=null}pt(gf,nt),pt(cu,ha),cu.prototype.a=function(){return new this.f},cu.prototype.b=function(){return{}};var Te,To="idToken",Wh=new hr(3e4,6e4),fm={"Content-Type":"application/x-www-form-urlencoded"},mf=new hr(3e4,6e4),ma={"Content-Type":"application/json"};function pm(u,f){f?u.a["X-Firebase-Locale"]=f:delete u.a["X-Firebase-Locale"]}function ls(u,f){f&&(u.l=fc("https://securetoken.googleapis.com/v1/token",f),u.h=fc("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",f),u.i=fc("https://identitytoolkit.googleapis.com/v2/",f))}function fc(u,f){return u=Ai(u),f=Ai(f.url),u.f=u.a+u.f,jd(u,f.c),u.a=f.a,tl(u,f.g),u.toString()}function kl(u,f){f?(u.a["X-Client-Version"]=f,u.g["X-Client-Version"]=f):(delete u.a["X-Client-Version"],delete u.g["X-Client-Version"])}function lu(u,f,v,w,D,x,P){(function om(){var u=ni();return!((u="Chrome"!=Ce(u)?null:(u=u.match(/\sChrome\/(\d+)/i))&&2==u.length?parseInt(u[1],10):null)&&30>u||mr&&Ne&&!(9<Ne))})()||lo()?u=Xe(u.u,u):(Te||(Te=new jt(function(U,ue){!function P_(u,f){((window.gapi||{}).client||{}).request?u():($[vf]=function(){((window.gapi||{}).client||{}).request?u():f(Error("CORS_UNSUPPORTED"))},function xn(u,f){wr(u,null,f,void 0)}(po(Xr(go,{onload:vf})),function(){f(Error("CORS_UNSUPPORTED"))}))}(U,ue)})),u=Xe(u.s,u)),u(f,v,w,D,x,P)}Gn.prototype.T=function(){return this.b},Gn.prototype.u=function(u,f,v,w,D,x){if(lo()&&(typeof $.fetch>"u"||typeof $.Headers>"u"||typeof $.Request>"u"))throw new V("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var P=new Sl(this.f);if(x){P.g=Math.max(0,x);var U=setTimeout(function(){P.dispatchEvent("timeout")},x)}Ah(P,"complete",function(){U&&clearTimeout(U);var ue=null;try{ue=JSON.parse(function Vo(u){try{return u.a?u.a.responseText:""}catch(f){return Oi(u.b,"Can not get responseText: "+f.message),""}}(this))||null}catch{ue=null}f&&f(ue)}),jn(P,"ready",function(){U&&clearTimeout(U),Ut(this)}),jn(P,"timeout",function(){U&&clearTimeout(U),Ut(this),f&&f(null)}),function ny(u,f,v,w,D){if(u.a)throw Error("[goog.net.XhrIo] Object is active with another request="+u.l+"; newUri="+f);v=v?v.toUpperCase():"GET",u.l=f,u.h="",u.P=v,u.J=!1,u.c=!0,u.a=u.D?u.D.a():Uh.a(),u.C=function lc(u){return u.c||(u.c=u.b())}(u.D?u.D:Uh),u.a.onreadystatechange=Xe(u.Wb,u);try{Oi(u.b,ri(u,"Opening Xhr")),u.N=!0,u.a.open(v,String(f),!0),u.N=!1}catch(P){return Oi(u.b,ri(u,"Error opening Xhr: "+P.message)),void bi(u,P)}f=w||"";var x=new Cs(u.headers);D&&function Mh(u,f){if(u.forEach&&"function"==typeof u.forEach)u.forEach(f,void 0);else if(Gt(u)||"string"==typeof u)En(u,f,void 0);else for(var v=Vd(u),w=Lo(u),D=w.length,x=0;x<D;x++)f.call(void 0,w[x],v&&v[x],u)}(D,function(P,U){x.set(U,P)}),D=function li(u){e:{for(var f=dc,v=u.length,w="string"==typeof u?u.split(""):u,D=0;D<v;D++)if(D in w&&f.call(void 0,w[D],D,u)){f=D;break e}f=-1}return 0>f?null:"string"==typeof u?u.charAt(f):u[f]}(x.Y()),w=$.FormData&&f instanceof $.FormData,!Rn(Gh,v)||D||w||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),x.forEach(function(P,U){this.a.setRequestHeader(U,P)},u),u.m&&(u.a.responseType=u.m),"withCredentials"in u.a&&u.a.withCredentials!==u.S&&(u.a.withCredentials=u.S);try{Lp(u),0<u.g&&(u.u=function re(u){return mr&&Fd(9)&&"number"==typeof u.timeout&&void 0!==u.ontimeout}(u.a),Oi(u.b,ri(u,"Will abort after "+u.g+"ms if incomplete, xhr2 "+u.u)),u.u?(u.a.timeout=u.g,u.a.ontimeout=Xe(u.Ma,u)):u.s=bp(u.Ma,u.g,u)),Oi(u.b,ri(u,"Sending request")),u.i=!0,u.a.send(f),u.i=!1}catch(P){Oi(u.b,ri(u,"Send error: "+P.message)),bi(u,P)}}(P,u,v,w,D)};var go=new Me(mn,"https://apis.google.com/js/client.js?onload=%{onload}"),vf="__fcb"+Math.floor(1e6*Math.random()).toString();function Ps(u){if("string"!=typeof(u=u.email)||!ns.test(u))throw new V("invalid-email")}function yf(u){"email"in u&&Ps(u)}function zr(u){if(!u[To])throw u.mfaPendingCredential?new V("multi-factor-auth-required",null,G(u)):new V("internal-error")}function du(u){if(u.phoneNumber||u.temporaryProof){if(!u.phoneNumber||!u.temporaryProof)throw new V("internal-error")}else{if(!u.sessionInfo)throw new V("missing-verification-id");if(!u.code)throw new V("missing-verification-code")}}Gn.prototype.s=function(u,f,v,w,D){var x=this;Te.then(function(){window.gapi.client.setApiKey(x.c);var P=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:u,method:v,body:w,headers:D,authType:"none",callback:function(U){window.gapi.auth.setToken(P),f&&f(U)}})}).o(function(P){f&&f({error:{message:P&&P.message||"CORS_UNSUPPORTED"}})})},Gn.prototype.Ab=function(){return Yt(this,ay,{})},Gn.prototype.Cb=function(u,f){return Yt(this,Ol,{idToken:u,email:f})},Gn.prototype.Db=function(u,f){return Yt(this,Df,{idToken:u,password:f})};var Rl={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Pi(u){if(!u.phoneVerificationInfo)throw new V("internal-error");if(!u.phoneVerificationInfo.sessionInfo)throw new V("missing-verification-id");if(!u.phoneVerificationInfo.code)throw new V("missing-verification-code")}function bf(u){if(!u.requestUri||!u.sessionId&&!u.postBody&&!u.pendingToken)throw new V("internal-error")}function Vp(u,f){return f.oauthIdToken&&f.providerId&&0==f.providerId.indexOf("oidc.")&&!f.pendingToken&&(u.sessionId?f.nonce=u.sessionId:u.postBody&&Ts(u=new ts(u.postBody),"nonce")&&(f.nonce=u.get("nonce"))),f}function wf(u){var f=null;if(u.needConfirmation?(u.code="account-exists-with-different-credential",f=ou(u)):"FEDERATED_USER_ID_ALREADY_LINKED"==u.errorMessage?(u.code="credential-already-in-use",f=ou(u)):"EMAIL_EXISTS"==u.errorMessage?(u.code="email-already-in-use",f=ou(u)):u.errorMessage&&(f=If(u.errorMessage)),f)throw f;zr(u)}function jp(u,f){return f.returnIdpCredential=!0,Yt(u,pu,f)}function Ef(u,f){return f.returnIdpCredential=!0,Yt(u,Sf,f)}function Qh(u,f){return f.returnIdpCredential=!0,f.autoCreate=!1,Yt(u,Zh,f)}function Ho(u){if(!u.oobCode)throw new V("invalid-action-code")}(T=Gn.prototype).Eb=function(u,f){var v={idToken:u},w=[];return No(Rl,function(D,x){var P=f[x];null===P?w.push(D):x in f&&(v[x]=P)}),w.length&&(v.deleteAttribute=w),Yt(this,Ol,v)},T.wb=function(u,f){return ne(u={requestType:"PASSWORD_RESET",email:u},f),Yt(this,N_,u)},T.xb=function(u,f){return ne(u={requestType:"EMAIL_SIGNIN",email:u},f),Yt(this,va,u)},T.vb=function(u,f){return ne(u={requestType:"VERIFY_EMAIL",idToken:u},f),Yt(this,xl,u)},T.Fb=function(u,f,v){return ne(u={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:u,newEmail:f},v),Yt(this,sy,u)},T.gb=function(u){return Yt(this,cy,u)},T.ob=function(u,f){return Yt(this,$p,{oobCode:u,newPassword:f})},T.Sa=function(u){return Yt(this,Cf,{oobCode:u})},T.kb=function(u){return Yt(this,vm,{oobCode:u})};var vm={endpoint:"setAccountInfo",A:Ho,Z:"email",B:!0},Cf={endpoint:"resetPassword",A:Ho,G:function(u){var f=u.requestType;if(!f||!u.email&&"EMAIL_SIGNIN"!=f&&"VERIFY_AND_CHANGE_EMAIL"!=f)throw new V("internal-error")},B:!0},iy={endpoint:"signupNewUser",A:function(u){if(Ps(u),!u.password)throw new V("weak-password")},G:zr,V:!0,B:!0},oy={endpoint:"createAuthUri",B:!0},fu={endpoint:"deleteAccount",O:["idToken"]},Fs={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(u){if(!Array.isArray(u.deleteProvider))throw new V("internal-error")}},Up={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Ps,G:zr,V:!0,B:!0},Io={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Ps,G:zr,V:!0},Xh={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Pi,G:zr,B:!0,Na:!0},gc={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Pi,G:zr,B:!0,Na:!0},Hp={endpoint:"getAccountInfo"},va={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(u){if("EMAIL_SIGNIN"!=u.requestType)throw new V("internal-error");Ps(u)},Z:"email",B:!0},xl={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(u){if("VERIFY_EMAIL"!=u.requestType)throw new V("internal-error")},Z:"email",B:!0},sy={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(u){if("VERIFY_AND_CHANGE_EMAIL"!=u.requestType)throw new V("internal-error")},Z:"email",B:!0},N_={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(u){if("PASSWORD_RESET"!=u.requestType)throw new V("internal-error");Ps(u)},Z:"email",B:!0},zp={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},qp={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(u){if(!u.recaptchaSiteKey)throw new V("internal-error")}},$p={endpoint:"resetPassword",A:Ho,Z:"email",B:!0},Gp={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ol={endpoint:"setAccountInfo",O:["idToken"],A:yf,V:!0},Df={endpoint:"setAccountInfo",O:["idToken"],A:function(u){if(yf(u),!u.password)throw new V("weak-password")},G:zr,V:!0},ay={endpoint:"signupNewUser",G:zr,V:!0,B:!0},uy={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(u){if(!u.phoneEnrollmentInfo)throw new V("internal-error");if(!u.phoneEnrollmentInfo.phoneNumber)throw new V("missing-phone-number");if(!u.phoneEnrollmentInfo.recaptchaToken)throw new V("missing-app-credential")},G:function(u){if(!u.phoneSessionInfo||!u.phoneSessionInfo.sessionInfo)throw new V("internal-error")},B:!0,Na:!0},ym={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(u){if(!u.phoneSignInInfo||!u.phoneSignInInfo.recaptchaToken)throw new V("missing-app-credential")},G:function(u){if(!u.phoneResponseInfo||!u.phoneResponseInfo.sessionInfo)throw new V("internal-error")},B:!0,Na:!0},pu={endpoint:"verifyAssertion",A:bf,Za:Vp,G:wf,V:!0,B:!0},Zh={endpoint:"verifyAssertion",A:bf,Za:Vp,G:function(u){if(u.errorMessage&&"USER_NOT_FOUND"==u.errorMessage)throw new V("user-not-found");if(u.errorMessage)throw If(u.errorMessage);zr(u)},V:!0,B:!0},Sf={endpoint:"verifyAssertion",A:function(u){if(bf(u),!u.idToken)throw new V("internal-error")},Za:Vp,G:wf,V:!0},Wp={endpoint:"verifyCustomToken",A:function(u){if(!u.token)throw new V("invalid-custom-token")},G:zr,V:!0,B:!0},Pl={endpoint:"verifyPassword",A:function(u){if(Ps(u),!u.password)throw new V("wrong-password")},G:zr,V:!0,B:!0},cy={endpoint:"verifyPhoneNumber",A:du,G:zr,B:!0},pn={endpoint:"verifyPhoneNumber",A:function(u){if(!u.idToken)throw new V("internal-error");du(u)},G:function(u){if(u.temporaryProof)throw u.code="credential-already-in-use",ou(u);zr(u)}},Tf={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:du,G:zr,B:!0},Kp={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(u){if(!!u[To]^!!u.refreshToken)throw new V("internal-error")},B:!0,Na:!0};function Yt(u,f,v){if(!function Nh(u,f){if(!f||!f.length)return!0;if(!u)return!1;for(var v=0;v<f.length;v++){var w=u[f[v]];if(null==w||""===w)return!1}return!0}(v,f.O))return er(new V("internal-error"));var x,w=!!f.Na,D=f.Vb||"POST";return it(v).then(f.A).then(function(){return f.V&&(v.returnSecureToken=!0),f.B&&u.b&&typeof v.tenantId>"u"&&(v.tenantId=u.b),function Kh(u,f,v,w,D,x,P){var U=Ai(f+v);vr(U,"key",u.c),P&&vr(U,"cb",Date.now().toString());var ue="GET"==w;if(ue)for(var a in D)D.hasOwnProperty(a)&&vr(U,a,D[a]);return new jt(function(s,l){lu(u,U.toString(),function(d){d?d.error?l(Yp(d,x||{})):s(d):l(new V("network-request-failed"))},w,ue?void 0:wp(Gi(D)),u.a,u.v.get())})}(u,w?u.i:u.h,f.endpoint,D,v,f.Ib,f.mb||!1)}).then(function(P){return x=P,f.Za?f.Za(v,x):x}).then(f.G).then(function(){if(!f.Z)return x;if(!(f.Z in x))throw new V("internal-error");return x[f.Z]})}function If(u){return Yp({error:{errors:[{message:u}],code:400,message:u}})}function Yp(u,f){var v=(u.error&&u.error.errors&&u.error.errors[0]||{}).reason||"",w={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(v=w[v]?new V(w[v]):null)return v;for(var D in v=u.error&&u.error.message||"",ne(w={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},f||{}),f=(f=v.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<f.length?f[1]:void 0,w)if(0===v.indexOf(D))return new V(w[D],f);return!f&&u&&(f=Lt(u)),new V("internal-error",f)}function _m(u){this.b=u,this.a=null,this.sb=function ly(u){return function dy(){return mc||(mc=new jt(function(u,f){function v(){Ri(),tt("gapi.load")("gapi.iframes",{callback:u,ontimeout:function(){Ri(),f(Error("Network Error"))},timeout:hy.get()})}if(tt("gapi.iframes.Iframe"))u();else if(tt("gapi.load"))v();else{var w="__iframefcb"+Math.floor(1e6*Math.random()).toString();$[w]=function(){tt("gapi.load")?v():f(Error("Network Error"))},it(po(w=Xr(F_,{onload:w}))).o(function(){f(Error("Network Error"))})}}).o(function(u){throw mc=null,u}))}().then(function(){return new jt(function(f,v){tt("gapi.iframes.getContext")().open({where:document.body,url:u.b,messageHandlersFilter:tt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(w){function D(){clearTimeout(x),f()}u.a=w,u.a.restyle({setHideOnLeave:!1});var x=setTimeout(function(){v(Error("Network Error"))},Jh.get());w.ping(D).then(D,function(){v(Error("Network Error"))})})})})}(this)}var F_=new Me(mn,"https://apis.google.com/js/api.js?onload=%{onload}"),hy=new hr(3e4,6e4),Jh=new hr(5e3,15e3),mc=null;function ya(u,f,v,w){this.l=u,this.h=f,this.i=v,this.g=w,this.f=null,u=this.g?Ud((u=Ai(this.g.url)).c,u.a,u.g,"/emulator/auth/iframe"):Ud("https",this.l,null,"/__/auth/iframe"),this.a=u,vr(this.a,"apiKey",this.h),vr(this.a,"appName",this.i),this.b=null,this.c=[]}function Ni(u,f,v,w,D,x){this.u=u,this.s=f,this.c=v,this.m=w,this.v=x,this.i=this.g=this.l=null,this.a=D,this.h=this.f=null}function Nl(u){try{return pe.Z.app(u).auth().Ga()}catch{return[]}}function Qp(u,f,v,w,D,x){this.s=u,this.g=f,this.b=v,this.f=x,this.c=w||null,this.i=D||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Xp(u){var f=Za();return function hu(u){return Yt(u,zp,{}).then(function(f){return f.authorizedDomains||[]})}(u).then(function(v){e:{var w=Ai(f),D=w.c;w=w.a;for(var x=0;x<v.length;x++){var P=v[x],U=w,ue=D;if(0==P.indexOf("chrome-extension://")?U=Ai(P).a==U&&"chrome-extension"==ue:"http"!=ue&&"https"!=ue?U=!1:Dp.test(P)?U=U==P:(P=P.split(".").join("\\."),U=new RegExp("^(.+\\."+P+"|"+P+")$","i").test(U)),U){v=!0;break e}}v=!1}if(!v)throw new _i(Za())})}function Zp(u){return u.m||(u.m=ki().then(function(){if(!u.u){var f=u.c,v=u.i,w=Nl(u.b),D=new ya(u.s,u.g,u.b,u.f);D.f=f,D.b=v,D.c=Hn(w||[]),u.u=D.toString()}u.v=new _m(u.u),function fy(u){if(!u.v)throw Error("IfcHandler must be initialized!");!function wm(u,f){u.sb.then(function(){u.a.register("authEvent",f,tt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(u.v,function(f){var v={};if(f&&f.authEvent){var w=!1;for(f=rf(f.authEvent),v=0;v<u.h.length;v++)w=u.h[v](f)||w;return(v={}).status=w?"ACK":"ERROR",it(v)}return v.status="ERROR",it(v)})}(u)})),u.m}function Em(u){return u.l||(u.C=u.c?Oh(u.c,Nl(u.b)):null,u.l=new Gn(u.g,ct(u.i),u.C),u.f&&ls(u.l,u.f)),u.l}function ed(u,f,v,w,D,x,P,U,ue,a,s,l){return(u=new Ni(u,f,v,w,D,l)).l=x,u.g=P,u.i=U,u.b=G(ue||null),u.f=a,u.zb(s).toString()}function Er(u){if(this.a=u||pe.Z.INTERNAL.reactNative&&pe.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new V("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Cm(u){this.b=u,this.a={},this.f=Xe(this.c,this)}ya.prototype.toString=function(){return this.f?vr(this.a,"v",this.f):Ss(this.a.b,"v"),this.b?vr(this.a,"eid",this.b):Ss(this.a.b,"eid"),this.c.length?vr(this.a,"fw",this.c.join(",")):Ss(this.a.b,"fw"),this.a.toString()},Ni.prototype.zb=function(u){return this.h=u,this},Ni.prototype.toString=function(){if(this.v){var u=Ai(this.v.url);u=Ud(u.c,u.a,u.g,"/emulator/auth/handler")}else u=Ud("https",this.u,null,"/__/auth/handler");if(vr(u,"apiKey",this.s),vr(u,"appName",this.c),vr(u,"authType",this.m),this.a.isOAuthProvider){var f=this.a;try{var v=pe.Z.app(this.c).auth().la()}catch{v=null}for(var w in f.pb=v,vr(u,"providerId",this.a.providerId),f=Gi((v=this.a).Jb))f[w]=f[w].toString();w=v.Qc,f=G(f);for(var D=0;D<w.length;D++){var x=w[D];x in f&&delete f[x]}v.qb&&v.pb&&!f[v.qb]&&(f[v.qb]=v.pb),W(f)||vr(u,"customParameters",Lt(f))}if("function"==typeof this.a.Rb&&(v=this.a.Rb()).length&&vr(u,"scopes",v.join(",")),this.l?vr(u,"redirectUrl",this.l):Ss(u.b,"redirectUrl"),this.g?vr(u,"eventId",this.g):Ss(u.b,"eventId"),this.i?vr(u,"v",this.i):Ss(u.b,"v"),this.b)for(var P in this.b)this.b.hasOwnProperty(P)&&!wo(u,P)&&vr(u,P,this.b[P]);return this.h?vr(u,"tid",this.h):Ss(u.b,"tid"),this.f?vr(u,"eid",this.f):Ss(u.b,"eid"),(P=Nl(this.c)).length&&vr(u,"fw",P.join(",")),u.toString()},(T=Qp.prototype).Pb=function(u,f,v){var w=new V("popup-closed-by-user"),D=new V("web-storage-unsupported"),x=this,P=!1;return this.ma().then(function(){(function Jp(u){var f={type:"webStorageSupport"};return Zp(u).then(function(){return function bm(u,f){return u.sb.then(function(){return new jt(function(v){u.a.send(f.type,f,v,tt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(u.v,f)}).then(function(v){if(v&&v.length&&typeof v[0].webStorageSupport<"u")return v[0].webStorageSupport;throw Error()})})(x).then(function(U){U||(u&&zn(u),f(D),P=!0)})}).o(function(){}).then(function(){if(!P)return function Yv(u){return new jt(function(f){return function v(){Fr(2e3).then(function(){if(u&&!u.closed)return v();f()})}()})}(u)}).then(function(){if(!P)return Fr(v).then(function(){f(w)})})},T.Yb=function(){var u=ni();return!me(u)&&!Sp(u)},T.Ub=function(){return!1},T.Nb=function(u,f,v,w,D,x,P,U){if(!u)return er(new V("popup-blocked"));if(P&&!me())return this.ma().o(function(a){zn(u),D(a)}),w(),it();this.a||(this.a=Xp(Em(this)));var ue=this;return this.a.then(function(){var a=ue.ma().o(function(s){throw zn(u),D(s),s});return w(),a}).then(function(){cm(v),P||Rh(ed(ue.s,ue.g,ue.b,f,v,null,x,ue.c,void 0,ue.i,U,ue.f),u)}).o(function(a){throw"auth/network-request-failed"==a.code&&(ue.a=null),a})},T.Ob=function(u,f,v,w){this.a||(this.a=Xp(Em(this)));var D=this;return this.a.then(function(){cm(f),Rh(ed(D.s,D.g,D.b,u,f,Za(),v,D.c,void 0,D.i,w,D.f))}).o(function(x){throw"auth/network-request-failed"==x.code&&(D.a=null),x})},T.ma=function(){var u=this;return Zp(this).then(function(){return u.v.sb}).o(function(){throw u.a=null,new V("network-request-failed")})},T.ac=function(){return!0},T.Ea=function(u){this.h.push(u)},T.Ta=function(u){Un(this.h,function(f){return f==u})},(T=Er.prototype).get=function(u){return it(this.a.getItem(u)).then(function(f){return f&&Lr(f)})},T.set=function(u,f){return it(this.a.setItem(u,Lt(f)))},T.U=function(u){return it(this.a.removeItem(u))},T.ca=function(){},T.ia=function(){};var Fl,Dm=[];function eg(u,f,v){W(u.a)&&u.b.addEventListener("message",u.f),typeof u.a[f]>"u"&&(u.a[f]=[]),u.a[f].push(v)}function Sm(u){this.a=u}function Tm(u){this.c=u,this.b=!1,this.a=[]}function Fi(u,f,v,w){var D,P,U,ue,x=v||{},a=null;if(u.b)return er(Error("connection_unavailable"));var s=w?800:50,l=typeof MessageChannel<"u"?new MessageChannel:null;return new jt(function(d,g){l?(D=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),U=setTimeout(function(){g(Error("unsupported_event"))},s),u.a.push(a={messageChannel:l,onMessage:P=function(y){y.data.eventId===D&&("ack"===y.data.status?(clearTimeout(U),ue=setTimeout(function(){g(Error("timeout"))},3e3)):"done"===y.data.status?(clearTimeout(ue),typeof y.data.response<"u"?d(y.data.response):g(Error("unknown_error"))):(clearTimeout(U),clearTimeout(ue),g(Error("invalid_response"))))}}),l.port1.addEventListener("message",P),u.c.postMessage({eventType:f,eventId:D,data:x},[l.port2])):g(Error("connection_unavailable"))}).then(function(d){return Cr(u,a),d}).o(function(d){throw Cr(u,a),d})}function Cr(u,f){if(f){var v=f.messageChannel;v&&(v.port1.removeEventListener("message",f.onMessage),v.port1.close()),Un(u.a,function(D){return D==f})}}function Af(){if(!tg())throw new V("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=$.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var u=this;lo()&&self?(this.v=function py(){var u=lo()?self:null;if(En(Dm,function(v){v.b==u&&(f=v)}),!f){var f=new Cm(u);Dm.push(f)}return f}(),eg(this.v,"keyChanged",function(f,v){return Mf(u).then(function(w){return 0<w.length&&En(u.a,function(D){D(w)}),{keyProcessed:Rn(w,v.key)}})}),eg(this.v,"ping",function(){return it(["keyChanged"])})):function sl(){var u=$.navigator;return u&&u.serviceWorker?it().then(function(){return u.serviceWorker.ready}).then(function(f){return f.active||null}).o(function(){return null}):it(null)}().then(function(f){(u.h=f)&&(u.g=new Tm(new Sm(f)),Fi(u.g,"ping",null,!0).then(function(v){v[0].fulfilled&&Rn(v[0].value,"keyChanged")&&(u.s=!0)}).o(function(){}))})}function vc(u){return new jt(function(f,v){var w=u.m.open("firebaseLocalStorageDb",1);w.onerror=function(D){try{D.preventDefault()}catch{}v(Error(D.target.error))},w.onupgradeneeded=function(D){D=D.target.result;try{D.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(x){v(x)}},w.onsuccess=function(D){(D=D.target.result).objectStoreNames.contains("firebaseLocalStorage")?f(D):function ii(u){return new jt(function(f,v){var w=u.m.deleteDatabase("firebaseLocalStorageDb");w.onsuccess=function(){f()},w.onerror=function(D){v(Error(D.target.error))}})}(u).then(function(){return vc(u)}).then(function(x){f(x)}).o(function(x){v(x)})}})}function yc(u){return u.i||(u.i=vc(u)),u.i}function td(u,f){var w=0;return new jt(function v(D,x){yc(u).then(f).then(D).o(function(P){if(!(3<++w))return yc(u).then(function(U){return U.close(),u.i=void 0,v(D,x)}).o(function(U){x(U)});x(P)})})}function tg(){try{return!!$.indexedDB}catch{return!1}}function gu(u){return u.objectStore("firebaseLocalStorage")}function _c(u,f){return u.transaction(["firebaseLocalStorage"],f?"readwrite":"readonly")}function mu(u){return new jt(function(f,v){u.onsuccess=function(w){w&&w.target?f(w.target.result):f()},u.onerror=function(w){v(w.target.error)}})}function Im(u,f){return u.g&&u.h&&function Ph(){var u=$.navigator;return u&&u.serviceWorker&&u.serviceWorker.controller||null}()===u.h?Fi(u.g,"keyChanged",{key:f},u.s).then(function(){}).o(function(){}):it()}function Mf(u){return yc(u).then(function(f){var v=gu(_c(f,!1));return v.getAll?mu(v.getAll()):new jt(function(w,D){var x=[],P=v.openCursor();P.onsuccess=function(U){(U=U.target.result)?(x.push(U.value),U.continue()):w(x)},P.onerror=function(U){D(U.target.error)}})}).then(function(f){var v={},w=[];if(0==u.b){for(w=0;w<f.length;w++)v[f[w].fbase_key]=f[w].value;w=xh(u.c,v),u.c=v}return w})}function Am(u){u.l&&u.l.cancel("STOP_EVENT"),u.f&&(clearTimeout(u.f),u.f=null)}function Mm(u){var f=this,v=null;this.a=[],this.type="indexedDB",this.c=u,this.b=it().then(function(){if(tg()){var w=ut(),D="__sak"+w;return Fl||(Fl=new Af),(v=Fl).set(D,w).then(function(){return v.get(D)}).then(function(x){if(x!==w)throw Error("indexedDB not supported!");return v.U(D)}).then(function(){return v}).o(function(){return f.c})}return f.c}).then(function(w){return f.type=w.type,w.ca(function(D){En(f.a,function(x){x(D)})}),w})}function Ll(){this.a={},this.type="inMemory"}function bc(){if(!function vu(){var u="Node"==De();if(!(u=Bl()||u&&pe.Z.INTERNAL.node&&pe.Z.INTERNAL.node.localStorage))return!1;try{return u.setItem("__sak","1"),u.removeItem("__sak"),!0}catch{return!1}}())throw"Node"==De()?new V("internal-error","The LocalStorage compatibility library was not found."):new V("web-storage-unsupported");this.a=Bl()||pe.Z.INTERNAL.node.localStorage,this.type="localStorage"}function Bl(){try{var u=$.localStorage,f=ut();return u&&(u.setItem(f,"1"),u.removeItem(f)),u}catch{return null}}function zo(){this.type="nullStorage"}function ng(){if(!function L_(){var u="Node"==De();if(!(u=my()||u&&pe.Z.INTERNAL.node&&pe.Z.INTERNAL.node.sessionStorage))return!1;try{return u.setItem("__sak","1"),u.removeItem("__sak"),!0}catch{return!1}}())throw"Node"==De()?new V("internal-error","The SessionStorage compatibility library was not found."):new V("web-storage-unsupported");this.a=my()||pe.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function my(){try{var u=$.sessionStorage,f=ut();return u&&(u.setItem(f,"1"),u.removeItem(f)),u}catch{return null}}function km(){var u={};u.Browser=oi,u.Node=yu,u.ReactNative=Vl,u.Worker=nd,this.a=u[De()]}Cm.prototype.c=function(u){var f=u.data.eventType,v=u.data.eventId,w=this.a[f];if(w&&0<w.length){u.ports[0].postMessage({status:"ack",eventId:v,eventType:f,response:null});var D=[];En(w,function(x){D.push(it().then(function(){return x(u.origin,u.data.data)}))}),M(D).then(function(x){var P=[];En(x,function(U){P.push({fulfilled:U.Qb,value:U.value,reason:U.reason?U.reason.message:void 0})}),En(P,function(U){for(var ue in U)typeof U[ue]>"u"&&delete U[ue]}),u.ports[0].postMessage({status:"done",eventId:v,eventType:f,response:P})})}},Sm.prototype.postMessage=function(u,f){this.a.postMessage(u,f)},Tm.prototype.close=function(){for(;0<this.a.length;)Cr(this,this.a[0]);this.b=!0},(T=Af.prototype).set=function(u,f){var v=this,w=!1;return td(this,function(D){return mu((D=gu(_c(D,!0))).get(u))}).then(function(D){return td(v,function(x){if(x=gu(_c(x,!0)),D)return D.value=f,mu(x.put(D));v.b++,w=!0;var P={};return P.fbase_key=u,P.value=f,mu(x.add(P))})}).then(function(){return v.c[u]=f,Im(v,u)}).oa(function(){w&&v.b--})},T.get=function(u){return td(this,function(f){return mu(gu(_c(f,!1)).get(u))}).then(function(f){return f&&f.value})},T.U=function(u){var f=this,v=!1;return td(this,function(w){return v=!0,f.b++,mu(gu(_c(w,!0)).delete(u))}).then(function(){return delete f.c[u],Im(f,u)}).oa(function(){v&&f.b--})},T.ca=function(u){0==this.a.length&&function gy(u){Am(u),function f(){u.f=setTimeout(function(){u.l=Mf(u).then(function(v){0<v.length&&En(u.a,function(w){w(v)})}).then(function(){f()}).o(function(v){"STOP_EVENT"!=v.message&&f()})},800)}()}(this),this.a.push(u)},T.ia=function(u){Un(this.a,function(f){return f==u}),0==this.a.length&&Am(this)},(T=Mm.prototype).get=function(u){return this.b.then(function(f){return f.get(u)})},T.set=function(u,f){return this.b.then(function(v){return v.set(u,f)})},T.U=function(u){return this.b.then(function(f){return f.U(u)})},T.ca=function(u){this.a.push(u)},T.ia=function(u){Un(this.a,function(f){return f==u})},(T=Ll.prototype).get=function(u){return it(this.a[u])},T.set=function(u,f){return this.a[u]=f,it()},T.U=function(u){return delete this.a[u],it()},T.ca=function(){},T.ia=function(){},(T=bc.prototype).get=function(u){var f=this;return it().then(function(){return Lr(f.a.getItem(u))})},T.set=function(u,f){var v=this;return it().then(function(){var w=Lt(f);null===w?v.U(u):v.a.setItem(u,w)})},T.U=function(u){var f=this;return it().then(function(){f.a.removeItem(u)})},T.ca=function(u){$.window&&Ii($.window,"storage",u)},T.ia=function(u){$.window&&ti($.window,"storage",u)},(T=zo.prototype).get=function(){return it(null)},T.set=function(){return it()},T.U=function(){return it()},T.ca=function(){},T.ia=function(){},(T=ng.prototype).get=function(u){var f=this;return it().then(function(){return Lr(f.a.getItem(u))})},T.set=function(u,f){var v=this;return it().then(function(){var w=Lt(f);null===w?v.U(u):v.a.setItem(u,w)})},T.U=function(u){var f=this;return it().then(function(){f.a.removeItem(u)})},T.ca=function(){},T.ia=function(){};var Rm,jl,oi={F:bc,cb:ng},yu={F:bc,cb:ng},Vl={F:Er,cb:zo},nd={F:bc,cb:zo},_a={rd:"local",NONE:"none",td:"session"};function _u(){var u=!(Sp(ni())||!tr()),f=me(),v=Ja();this.m=u,this.h=f,this.l=v,this.a={},Rm||(Rm=new km),u=Rm;try{this.g=!$i()&&_r()||!$.indexedDB?new u.a.F:new Mm(lo()?new Ll:new u.a.F)}catch{this.g=new Ll,this.h=!0}try{this.i=new u.a.cb}catch{this.i=new Ll}this.v=new Ll,this.f=Xe(this.Zb,this),this.b={}}function Ao(){return jl||(jl=new _u),jl}function Ls(u,f){switch(f){case"session":return u.i;case"none":return u.v;default:return u.g}}function bu(u,f){return"firebase:"+u.name+(f?":"+f:"")}function rd(u,f,v){return v=bu(f,v),"local"==f.F&&(u.b[v]=null),Ls(u,f.F).U(v)}function Ul(u){u.c&&(clearInterval(u.c),u.c=null)}function wc(u){this.a=u,this.b=Ao()}(T=_u.prototype).get=function(u,f){return Ls(this,u.F).get(bu(u,f))},T.set=function(u,f,v){var w=bu(u,v),D=this,x=Ls(this,u.F);return x.set(w,f).then(function(){return x.get(w)}).then(function(P){"local"==u.F&&(D.b[w]=P)})},T.addListener=function(u,f,v){u=bu(u,f),this.l&&(this.b[u]=$.localStorage.getItem(u)),W(this.a)&&(Ls(this,"local").ca(this.f),this.h||($i()||!_r())&&$.indexedDB||!this.l||function ba(u){Ul(u),u.c=setInterval(function(){for(var f in u.a){var v=$.localStorage.getItem(f),w=u.b[f];v!=w&&(u.b[f]=v,v=new Ze({type:"storage",key:f,target:window,oldValue:w,newValue:v,a:!0}),u.Zb(v))}},1e3)}(this)),this.a[u]||(this.a[u]=[]),this.a[u].push(v)},T.removeListener=function(u,f,v){u=bu(u,f),this.a[u]&&(Un(this.a[u],function(w){return w==v}),0==this.a[u].length&&delete this.a[u]),W(this.a)&&(Ls(this,"local").ia(this.f),Ul(this))},T.Zb=function(u){if(u&&u.g){var f=u.a.key;if(null==f)for(var v in this.a){var w=this.b[v];typeof w>"u"&&(w=null);var D=$.localStorage.getItem(v);D!==w&&(this.b[v]=D,this.nb(v))}else if(0==f.indexOf("firebase:")&&this.a[f]){if(typeof u.a.a<"u"?Ls(this,"local").ia(this.f):Ul(this),this.m)if(v=$.localStorage.getItem(f),(w=u.a.newValue)!==v)null!==w?$.localStorage.setItem(f,w):$.localStorage.removeItem(f);else if(this.b[f]===w&&typeof u.a.a>"u")return;var x=this;v=function(){(typeof u.a.a<"u"||x.b[f]!==$.localStorage.getItem(f))&&(x.b[f]=$.localStorage.getItem(f),x.nb(f))},mr&&Ne&&10==Ne&&$.localStorage.getItem(f)!==u.a.newValue&&u.a.newValue!==u.a.oldValue?setTimeout(v,10):v()}}else En(u,Xe(this.nb,this))},T.nb=function(u){this.a[u]&&En(this.a[u],function(f){f()})};var Of,kf={name:"authEvent",F:"local"};function vy(){this.a=Ao()}function xf(u,f){this.b=Pf,this.f=$.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=u,this.h=f,this.l=$.Int32Array?new Int32Array(64):Array(64),void 0===Of&&(Of=$.Int32Array?new Int32Array(od):od),this.reset()}pt(xf,function yy(){this.b=-1});for(var Pf=64,Hl=Pf-1,Bs=[],id=0;id<Hl;id++)Bs[id]=0;var wu=yn(128,Bs);function zl(u){for(var f=u.f,v=u.l,w=0,D=0;D<f.length;)v[w++]=f[D]<<24|f[D+1]<<16|f[D+2]<<8|f[D+3],D=4*w;for(f=16;64>f;f++){var x=(0|v[f-16])+(((D=0|v[f-15])>>>7|D<<25)^(D>>>18|D<<14)^D>>>3)|0,P=(0|v[f-7])+(((w=0|v[f-2])>>>17|w<<15)^(w>>>19|w<<13)^w>>>10)|0;v[f]=x+P|0}w=0|u.a[0],D=0|u.a[1];var U=0|u.a[2],ue=0|u.a[3],a=0|u.a[4],s=0|u.a[5],l=0|u.a[6];for(x=0|u.a[7],f=0;64>f;f++){var d=((w>>>2|w<<30)^(w>>>13|w<<19)^(w>>>22|w<<10))+(w&D^w&U^D&U)|0;P=(x=x+((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))|0)+((P=(P=a&s^~a&l)+(0|Of[f])|0)+(0|v[f])|0)|0,x=l,l=s,s=a,a=ue+P|0,ue=U,U=D,D=w,w=P+d|0}u.a[0]=u.a[0]+w|0,u.a[1]=u.a[1]+D|0,u.a[2]=u.a[2]+U|0,u.a[3]=u.a[3]+ue|0,u.a[4]=u.a[4]+a|0,u.a[5]=u.a[5]+s|0,u.a[6]=u.a[6]+l|0,u.a[7]=u.a[7]+x|0}function Nf(u,f,v){void 0===v&&(v=f.length);var w=0,D=u.c;if("string"==typeof f)for(;w<v;)u.f[D++]=f.charCodeAt(w++),D==u.b&&(zl(u),D=0);else{if(!Gt(f))throw Error("message must be string or array");for(;w<v;){var x=f[w++];if(!("number"==typeof x&&0<=x&&255>=x&&x==(0|x)))throw Error("message must be a byte array");u.f[D++]=x,D==u.b&&(zl(u),D=0)}}u.c=D,u.g+=v}xf.prototype.reset=function(){this.g=this.c=0,this.a=$.Int32Array?new Int32Array(this.h):Hn(this.h)};var od=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function rg(){xf.call(this,8,Pm)}pt(rg,xf);var Pm=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Vs(u,f,v,w,D,x){this.v=u,this.i=f,this.l=v,this.m=w||null,this.u=D||null,this.s=x,this.h=f+":"+v,this.C=new vy,this.g=new wc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ec(u){return new V("invalid-cordova-configuration",u)}function Cc(u,f){for(var v=0;v<u.b.length;v++)try{u.b[v](f)}catch{}}function Lm(u){return u.f||(u.f=u.ma().then(function(){return new jt(function(f){u.Ea(function v(w){return f(w),u.Ta(v),!1}),function Bm(u){function f(P){w=!0,D&&D.cancel(),sd(u).then(function(U){var ue=v;if(U&&P&&P.url){var a=null;-1!=(ue=tu(P.url)).indexOf("/__/auth/callback")&&(a=(a="object"==typeof(a=Lr(wo(a=Ai(ue),"firebaseError")||null))?ge(a):null)?new kn(U.c,U.b,null,null,a,null,U.T()):new kn(U.c,U.b,ue,U.f,null,null,U.T())),ue=a||v}Cc(u,ue)})}var v=new kn("unknown",null,null,null,new V("no-auth-event")),w=!1,D=Fr(500).then(function(){return sd(u).then(function(){w||Cc(u,v)})}),x=$.handleOpenURL;$.handleOpenURL=function(P){if(0==P.toLowerCase().indexOf(tt("BuildInfo.packageName",$).toLowerCase()+"://")&&f({url:P}),"function"==typeof x)try{x(P)}catch(U){console.error(U)}},lm||(lm=new _n),function sf(u){var f=lm;f.a.push(u),f.b||(f.b=function(v){for(var w=0;w<f.a.length;w++)f.a[w](v)},"function"==typeof(u=tt("universalLinks.subscribe",$))&&u(null,f.b))}(f)}(u)})})),u.f}function sd(u){var f=null;return function Rf(u){return u.b.get(kf,u.a).then(function(f){return rf(f)})}(u.g).then(function(v){return f=v,rd((v=u.g).b,kf,v.a)}).then(function(){return f})}function ig(u){this.a=u,this.b=Ao()}(T=Vs.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=function oe(){return be(void 0)?ki().then(function(){return new jt(function(u,f){var v=$.document,w=setTimeout(function(){f(Error("Cordova framework is not ready."))},1e3);v.addEventListener("deviceready",function(){clearTimeout(w),u()},!1)})}):er(Error("Cordova must run in an Android or iOS file scheme."))}().then(function(){if("function"!=typeof tt("universalLinks.subscribe",$))throw Ec("cordova-universal-links-plugin-fix is not installed");if(typeof tt("BuildInfo.packageName",$)>"u")throw Ec("cordova-plugin-buildinfo is not installed");if("function"!=typeof tt("cordova.plugins.browsertab.openUrl",$))throw Ec("cordova-plugin-browsertab is not installed");if("function"!=typeof tt("cordova.InAppBrowser.open",$))throw Ec("cordova-plugin-inappbrowser is not installed")},function(){throw new V("cordova-not-ready")})},T.Pb=function(u,f){return f(new V("operation-not-supported-in-this-environment")),it()},T.Nb=function(){return er(new V("operation-not-supported-in-this-environment"))},T.ac=function(){return!1},T.Yb=function(){return!0},T.Ub=function(){return!0},T.Ob=function(u,f,v,w){if(this.c)return er(new V("redirect-operation-pending"));var D=this,x=$.document,P=null,U=null,ue=null,a=null;return this.c=it().then(function(){return cm(f),Lm(D)}).then(function(){return function Fm(u,f,v,w,D){var x=function Nm(){for(var u=20,f=[];0<u;)f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),u--;return f.join("")}(),P=new kn(f,w,null,x,new V("no-auth-event"),null,D),U=tt("BuildInfo.packageName",$);if("string"!=typeof U)throw new V("invalid-cordova-configuration");var ue=tt("BuildInfo.displayName",$),a={};if(ni().toLowerCase().match(/iphone|ipad|ipod/))a.ibi=U;else{if(!ni().toLowerCase().match(/android/))return er(new V("operation-not-supported-in-this-environment"));a.apn=U}ue&&(a.appDisplayName=ue),x=function _y(u){var f=new rg;Nf(f,u),u=[];var v=8*f.g;Nf(f,wu,56>f.c?56-f.c:f.b-(f.c-56));for(var w=63;56<=w;w--)f.f[w]=255&v,v/=256;for(zl(f),w=v=0;w<f.i;w++)for(var D=24;0<=D;D-=8)u[v++]=f.a[w]>>D&255;return function aa(u){return Kt(u,function(f){return 1<(f=f.toString(16)).length?f:"0"+f}).join("")}(u)}(x),a.sessionId=x;var s=ed(u.v,u.i,u.l,f,v,null,w,u.m,a,u.u,D,u.s);return u.ma().then(function(){var l=u.h;return u.C.a.set(kf,P.w(),l)}).then(function(){var l=tt("cordova.plugins.browsertab.isAvailable",$);if("function"!=typeof l)throw new V("invalid-cordova-configuration");var d=null;l(function(g){if(g){if("function"!=typeof(d=tt("cordova.plugins.browsertab.openUrl",$)))throw new V("invalid-cordova-configuration");d(s)}else{if("function"!=typeof(d=tt("cordova.InAppBrowser.open",$)))throw new V("invalid-cordova-configuration");g=ni(),u.a=d(s,g.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||g.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(D,u,f,v,w)}).then(function(){return new jt(function(s,l){U=function(){var d=tt("cordova.plugins.browsertab.close",$);return s(),"function"==typeof d&&d(),D.a&&"function"==typeof D.a.close&&(D.a.close(),D.a=null),!1},D.Ea(U),a=function(){Br()&&ue()},x.addEventListener("resume",ue=function(){P||(P=Fr(2e3).then(function(){l(new V("redirect-cancelled-by-user"))}))},!1),ni().toLowerCase().match(/android/)||x.addEventListener("visibilitychange",a,!1)}).o(function(s){return sd(D).then(function(){throw s})})}).oa(function(){ue&&x.removeEventListener("resume",ue,!1),a&&x.removeEventListener("visibilitychange",a,!1),P&&P.cancel(),U&&D.Ta(U),D.c=null})},T.Ea=function(u){this.b.push(u),Lm(this).o(function(f){"auth/invalid-cordova-configuration"===f.code&&(f=new kn("unknown",null,null,null,new V("no-auth-event")),u(f))})},T.Ta=function(u){Un(this.b,function(f){return f==u})};var ql={name:"pendingRedirect",F:"session"};function Dc(u){return rd(u.b,ql,u.a)}function ad(u,f,v,w){this.i={},this.u=0,this.D=u,this.v=f,this.m=v,this.J=w,this.h=[],this.f=!1,this.l=Xe(this.s,this),this.b=new Gl,this.C=new Um,this.g=new ig(ud(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Lf(this.D,this.v,this.m,St,this.J)}function Lf(u,f,v,w,D){var x=pe.Z.SDK_VERSION||null;return be()?new Vs(u,f,v,x,w,D):new Qp(u,f,v,x,w,D)}function sg(u){u.f||(u.f=!0,u.a.Ea(u.l));var f=u.a;return u.a.ma().o(function(v){throw u.a==f&&u.reset(),v})}function $l(u){u.a.Yb()&&sg(u).o(function(f){var v=new kn("unknown",null,null,null,new V("operation-not-supported-in-this-environment"));Bf(f)&&u.s(v)}),u.a.Ub()||Uf(u.b)}function Eu(u,f){Rn(u.h,f)||u.h.push(f),u.f||function Ff(u){return u.b.get(ql,u.a).then(function(f){return"pending"==f})}(u.g).then(function(v){v?Dc(u.g).then(function(){sg(u).o(function(w){var D=new kn("unknown",null,null,null,new V("operation-not-supported-in-this-environment"));Bf(w)&&u.s(D)})}):$l(u)}).o(function(){$l(u)})}function ag(u,f){Un(u.h,function(v){return v==f})}ad.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Lf(this.D,this.v,this.m,null,this.J),this.i={}},ad.prototype.s=function(u){if(!u)throw new V("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),u&&u.getUid()&&this.i.hasOwnProperty(u.getUid()))return!1;for(var f=!1,v=0;v<this.h.length;v++){var w=this.h[v];if(w.Gb(u.c,u.b)){(f=this.c[u.c])&&(f.h(u,w),u&&(u.f||u.b)&&(this.i[u.getUid()]=!0,this.u=Date.now())),f=!0;break}}return Uf(this.b),f};var ug=new hr(2e3,1e4),Vm=new hr(3e4,6e4);function jm(u,f,v,w,D,x,P){return u.a.Nb(f,v,w,function(){u.f||(u.f=!0,u.a.Ea(u.l))},function(){u.reset()},D,x,P)}function Bf(u){return!(!u||"auth/cordova-not-ready"!=u.code)}function Vf(u,f,v,w,D){var x;return function og(u){return u.b.set(ql,"pending",u.a)}(u.g).then(function(){return u.a.Ob(f,v,w,D).o(function(P){if(Bf(P))throw new V("operation-not-supported-in-this-environment");return x=P,Dc(u.g).then(function(){throw x})}).then(function(){return u.a.ac()?new jt(function(){}):Dc(u.g).then(function(){return u.ra()}).then(function(){}).o(function(){})})})}function cg(u,f,v,w,D){return u.a.Pb(w,function(x){f.na(v,null,x,D)},ug.get())}ad.prototype.ra=function(){return this.b.ra()};var jf={};function ud(u,f,v){return u=u+":"+f,v&&(u=u+":"+v.url),u}function Cu(u,f,v,w){var D=ud(f,v,w);return jf[D]||(jf[D]=new ad(u,f,v,w)),jf[D]}function Gl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Uf(u){u.g||(u.g=!0,Sc(u,!1,null,null))}function Hf(u){u.g&&!u.i&&Sc(u,!1,null,null)}function lg(u,f){if(u.b=function(){return it(f)},u.f.length)for(var v=0;v<u.f.length;v++)u.f[v](f)}function Sc(u,f,v,w){f?w?function wa(u,f){if(u.b=function(){return er(f)},u.c.length)for(var v=0;v<u.c.length;v++)u.c[v](f)}(u,w):lg(u,v):lg(u,{user:null}),u.f=[],u.c=[]}function Um(){}function hg(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(u){this.jb=u},enumerable:!1})}function zf(u,f){this.a=f,He(this,"verificationId",u)}function qf(u,f,v,w){return new jr(u).gb(f,v).then(function(D){return new zf(D,w)})}function Ey(u){var f=pl(u);if(!(f&&f.exp&&f.auth_time&&f.iat))throw new V("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ze(this,{token:u,expirationTime:rs(1e3*f.exp),authTime:rs(1e3*f.auth_time),issuedAtTime:rs(1e3*f.iat),signInProvider:f.firebase&&f.firebase.sign_in_provider?f.firebase.sign_in_provider:null,signInSecondFactor:f.firebase&&f.firebase.sign_in_second_factor?f.firebase.sign_in_second_factor:null,claims:f})}function kt(u,f,v){var w=f&&f[cd];if(!w)throw new V("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=u,this.f=G(f),this.g=v,this.c=new _l(null,w),this.b=[];var D=this;En(f[Xn]||[],function(x){(x=ul(x))&&D.b.push(x)}),He(this,"auth",this.a),He(this,"session",this.c),He(this,"hints",this.b)}Gl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Gl.prototype.h=function(u,f){if(u){this.reset(),this.g=!0;var v=u.c,w=u.b,D=u.a&&"auth/web-storage-unsupported"==u.a.code,x=u.a&&"auth/operation-not-supported-in-this-environment"==u.a.code;this.i=!(!D&&!x),"unknown"!=v||D||x?u.a?(Sc(this,!0,null,u.a),it()):f.Fa(v,w)?function Mo(u,f,v){v=v.Fa(f.c,f.b);var w=f.g,D=f.f,x=f.i,P=f.T(),U=!!f.c.match(/Redirect$/);v(w,D,P,x).then(function(ue){Sc(u,U,ue,null)}).o(function(ue){Sc(u,U,null,ue)})}(this,u,f):er(new V("invalid-auth-event")):(Sc(this,!1,null,null),it())}else er(new V("invalid-auth-event"))},Gl.prototype.ra=function(){var u=this;return new jt(function(f,v){u.b?u.b().then(f,v):(u.f.push(f),u.c.push(v),function by(u){var f=new V("timeout");u.a&&u.a.cancel(),u.a=Fr(Vm.get()).then(function(){u.b||(u.g=!0,Sc(u,!0,null,f))})}(u))})},Um.prototype.h=function(u,f){if(u){var v=u.c,w=u.b;u.a?(f.na(u.c,null,u.a,u.b),it()):f.Fa(v,w)?function wy(u,f){var v=u.b,w=u.c;f.Fa(w,v)(u.g,u.f,u.T(),u.i).then(function(D){f.na(w,D,null,v)}).o(function(D){f.na(w,null,D,v)})}(u,f):er(new V("invalid-auth-event"))}else er(new V("invalid-auth-event"))},zf.prototype.confirm=function(u){return u=wl(this.verificationId,u),this.a(u)};var Xn="mfaInfo",cd="mfaPendingCredential";function Wl(u,f,v,w){V.call(this,"multi-factor-auth-required",w,f),this.b=new kt(u,f,v),He(this,"resolver",this.b)}function Hm(u,f,v){if(u&&bt(u.serverResponse)&&"auth/multi-factor-auth-required"===u.code)try{return new Wl(f,u.serverResponse,v,u.message)}catch{}return null}function dg(){}function Kl(u){He(this,"factorId",u.fa),this.a=u}function pg(u){if(Kl.call(this,u),this.a.fa!=jr.PROVIDER_ID)throw new V("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Ea(u,f){for(var v in Ie.call(this,u),f)this[v]=f[v]}function zm(u,f){this.a=u,this.b=[],this.c=Xe(this.yc,this),Ii(this.a,"userReloaded",this.c);var v=[];f&&f.multiFactor&&f.multiFactor.enrolledFactors&&En(f.multiFactor.enrolledFactors,function(w){var D=null,x={};if(w){w.uid&&(x[hl]=w.uid),w.displayName&&(x[cl]=w.displayName),w.enrollmentTime&&(x[ll]=new Date(w.enrollmentTime).toISOString()),w.phoneNumber&&(x[nc]=w.phoneNumber);try{D=new rc(x)}catch{}w=D}else w=null;w&&v.push(w)}),ld(this,v)}function ld(u,f){u.b=f,He(u,"enrolledFactors",f)}function mg(u,f,v){if(this.h=u,this.i=f,this.g=v,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function hd(u,f){u.stop(),u.b=Fr(function vg(u,f){return f?(u.a=u.c,u.g()):(f=u.a,u.a*=2,u.a>u.f&&(u.a=u.f),f)}(u,f)).then(function(){return function Tp(){var u=$.document,f=null;return Br()||!u?it():new jt(function(v){f=function(){Br()&&(u.removeEventListener("visibilitychange",f,!1),v())},u.addEventListener("visibilitychange",f,!1)}).o(function(v){throw u.removeEventListener("visibilitychange",f,!1),v})}()}).then(function(){return u.h()}).then(function(){hd(u,!0)}).o(function(v){u.i(v)&&hd(u,!1)})}function Tc(u){this.f=u,this.b=this.a=null,this.c=Date.now()}function $f(u,f){typeof f>"u"&&(f=u.b?(f=u.b).a-f.g:0),u.c=Date.now()+1e3*f}function yg(u,f){u.b=Rs(f[To]||""),u.a=f.refreshToken,$f(u,typeof(f=f.expiresIn)<"u"?Number(f):void 0)}function Ic(u,f){this.a=u||null,this.b=f||null,ze(this,{lastSignInTime:rs(f||null),creationTime:rs(u||null)})}function qm(u,f,v,w,D,x){ze(this,{uid:u,displayName:w||null,photoURL:D||null,email:v||null,phoneNumber:x||null,providerId:f})}function Li(u,f,v){this.N=[],this.l=u.apiKey,this.m=u.appName,this.s=u.authDomain||null;var w=pe.Z.SDK_VERSION?Oh(pe.Z.SDK_VERSION):null;this.a=new Gn(this.l,ct(St),w),(this.u=u.emulatorConfig||null)&&ls(this.a,this.u),this.h=new Tc(this.a),gd(this,f[To]),yg(this.h,f),He(this,"refreshToken",this.h.a),Eg(this,v||{}),ur.call(this),this.P=!1,this.s&&ia()&&(this.b=Cu(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function Mc(u){return new mg(function(){return u.I(!0)},function(f){return!(!f||"auth/network-request-failed"!=f.code)},function(){var f=u.h.c-Date.now()-3e5;return 0<f?f:0})}(this),this.ba=Xe(this.ib,this);var D=this;this.za=null,this.Pa=function(x){D.xa(x.h)},this.qa=null,this.Ba=function(x){Gf(D,x.c)},this.$=null,this.aa=[],this.Oa=function(x){Yl(D,x.f)},this.ja=null,this.S=new zm(this,v),He(this,"multiFactor",this.S)}function Gf(u,f){u.u=f,ls(u.a,f),u.b&&(f=u.b,u.b=Cu(u.s,u.l,u.m,u.u),u.P&&(ag(f,u),Eu(u.b,u)))}function Du(u,f){u.qa&&ti(u.qa,"languageCodeChanged",u.Pa),(u.qa=f)&&Ii(f,"languageCodeChanged",u.Pa)}function Ac(u,f){u.$&&ti(u.$,"emulatorConfigChanged",u.Ba),(u.$=f)&&Ii(f,"emulatorConfigChanged",u.Ba)}function Yl(u,f){u.aa=f,kl(u.a,pe.Z.SDK_VERSION?Oh(pe.Z.SDK_VERSION,u.aa):null)}function Ql(u,f){u.ja&&ti(u.ja,"frameworkChanged",u.Oa),(u.ja=f)&&Ii(f,"frameworkChanged",u.Oa)}function fd(u){try{return pe.Z.app(u.m).auth()}catch{throw new V("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+u.m+"'!")}}function bg(u){u.J||u.D.b||(u.D.start(),ti(u,"tokenChanged",u.ba),Ii(u,"tokenChanged",u.ba))}function pd(u){ti(u,"tokenChanged",u.ba),u.D.stop()}function gd(u,f){u.Aa=f,He(u,"_lat",f)}function Ca(u){for(var f=[],v=0;v<u.W.length;v++)f.push(u.W[v](u));return M(f).then(function(){return u})}function hs(u){u.b&&!u.P&&(u.P=!0,Eu(u.b,u))}function Eg(u,f){ze(u,{uid:f.uid,displayName:f.displayName||null,photoURL:f.photoURL||null,email:f.email||null,emailVerified:f.emailVerified||!1,phoneNumber:f.phoneNumber||null,isAnonymous:f.isAnonymous||!1,tenantId:f.tenantId||null,metadata:new Ic(f.createdAt,f.lastLoginAt),providerData:[]}),u.a.b=u.tenantId}function md(){}function vn(u){return it().then(function(){if(u.J)throw new V("app-deleted")})}function Wf(u){return Kt(u.providerData,function(f){return f.providerId})}function Xl(u,f){f&&(kc(u,f.providerId),u.providerData.push(f))}function kc(u,f){Un(u.providerData,function(v){return v.providerId==f})}function An(u,f,v){("uid"!=f||v)&&u.hasOwnProperty(f)&&He(u,f,v)}function Jt(u,f){u!=f&&(ze(u,{uid:f.uid,displayName:f.displayName,photoURL:f.photoURL,email:f.email,emailVerified:f.emailVerified,phoneNumber:f.phoneNumber,isAnonymous:f.isAnonymous,tenantId:f.tenantId,providerData:[]}),He(u,"metadata",f.metadata?function qo(u){return new Ic(u.a,u.b)}(f.metadata):new Ic),En(f.providerData,function(v){Xl(u,v)}),function dd(u,f){u.b=f.b,u.a=f.a,u.c=f.c}(u.h,f.h),He(u,"refreshToken",u.h.a),ld(u.S,f.S.b))}function js(u){return u.I().then(function(f){var v=u.isAnonymous;return function Zl(u,f){return Yt(u.a,Hp,{idToken:f}).then(Xe(u.Kc,u))}(u,f).then(function(){return v||An(u,"isAnonymous",!1),f})})}function ko(u,f){f[To]&&u.Aa!=f[To]&&(yg(u.h,f),u.dispatchEvent(new Ea("tokenChanged")),gd(u,f[To]),An(u,"refreshToken",u.h.a))}function Kf(u,f){return js(u).then(function(){if(Rn(Wf(u),f))return Ca(u).then(function(){throw new V("provider-already-linked")})})}function Yf(u,f,v){return gi({user:u,credential:nf(f),additionalUserInfo:f=fo(f),operationType:v})}function Jl(u,f){return ko(u,f),u.reload().then(function(){return u})}function Gm(u,f,v,w,D){if(!ia())return er(new V("operation-not-supported-in-this-environment"));if(u.i&&!D)return er(u.i);var x=Xd(v.providerId),P=ut(u.uid+":::"),U=null;(!me()||tr())&&u.s&&v.isOAuthProvider&&(U=ed(u.s,u.l,u.m,f,v,null,P,pe.Z.SDK_VERSION||null,null,null,u.tenantId,u.u));var ue=il(U,x&&x.va,x&&x.ua);return w=w().then(function(){if(Dr(u),!D)return u.I().then(function(){})}).then(function(){return jm(u.b,ue,f,v,P,!!U,u.tenantId)}).then(function(){return new jt(function(a,s){u.na(f,null,new V("cancelled-popup-request"),u.g||null),u.f=a,u.C=s,u.g=P,u.c=cg(u.b,u,f,ue,P)})}).then(function(a){return ue&&zn(ue),a?gi(a):null}).o(function(a){throw ue&&zn(ue),a}),ln(u,w,D)}function Cg(u,f,v,w,D){if(!ia())return er(new V("operation-not-supported-in-this-environment"));if(u.i&&!D)return er(u.i);var x=null,P=ut(u.uid+":::");return w=w().then(function(){if(Dr(u),!D)return u.I().then(function(){})}).then(function(){return u.ga=P,Ca(u)}).then(function(U){return u.ha&&(U=(U=u.ha).b.set(Us,u.w(),U.a)),U}).then(function(){return Vf(u.b,f,v,P,u.tenantId)}).o(function(U){if(x=U,u.ha)return vd(u.ha);throw x}).then(function(){if(x)throw x}),ln(u,w,D)}function Dr(u){if(!u.b||!u.P)throw new V(u.b&&!u.P?"internal-error":"auth-domain-config-required")}function ln(u,f,v){var w=function Rc(u,f,v){return u.i&&!v?(f.cancel(),er(u.i)):f.o(function(w){throw!w||"auth/user-disabled"!=w.code&&"auth/user-token-expired"!=w.code||(u.i||u.dispatchEvent(new Ea("userInvalidated")),u.i=w),w})}(u,f,v);return u.N.push(w),w.oa(function(){Fn(u.N,w)}),w.o(function(D){var x=null;throw D&&"auth/multi-factor-auth-required"===D.code&&(x=Hm(D.w(),fd(u),Xe(u.jc,u))),x||D})}function Dg(u){if(!u.apiKey)return null;var f={apiKey:u.apiKey,authDomain:u.authDomain,appName:u.appName,emulatorConfig:u.emulatorConfig},v={};if(!u.stsTokenManager||!u.stsTokenManager.accessToken)return null;v[To]=u.stsTokenManager.accessToken,v.refreshToken=u.stsTokenManager.refreshToken||null;var w=u.stsTokenManager.expirationTime;w&&(v.expiresIn=(w-Date.now())/1e3);var D=new Li(f,v,u);return u.providerData&&En(u.providerData,function(x){x&&Xl(D,gi(x))}),u.redirectEventId&&(D.ga=u.redirectEventId),D}function xc(u){this.a=u,this.b=Ao()}kt.prototype.Rc=function(u){var f=this;return u.tb(this.a.a,this.c).then(function(v){var w=G(f.f);return delete w[Xn],delete w[cd],ne(w,v),f.g(w)})},pt(Wl,V),dg.prototype.tb=function(u,f,v){return f.type==uc?function fg(u,f,v,w){return v.Ha().then(function(D){return D={idToken:D},typeof w<"u"&&(D.displayName=w),ne(D,{phoneVerificationInfo:tf(u.a)}),Yt(f,Xh,D)})}(this,u,f,v):function Cy(u,f,v){return v.Ha().then(function(w){return ne(w={mfaPendingCredential:w},{phoneVerificationInfo:tf(u.a)}),Yt(f,gc,w)})}(this,u,f)},pt(Kl,dg),pt(pg,Kl),pt(Ea,Ie),(T=zm.prototype).yc=function(u){ld(this,function gg(u){var f=[];return En(u.mfaInfo||[],function(v){(v=ul(v))&&f.push(v)}),f}(u.hd))},T.Sb=function(){return this.a.I().then(function(u){return new _l(u,null)})},T.fc=function(u,f){var v=this,w=this.a.a;return this.Sb().then(function(D){return u.tb(w,D,f)}).then(function(D){return ko(v.a,D),v.a.reload()})},T.bd=function(u){var f=this,v="string"==typeof u?u:u.uid,w=this.a.a;return this.a.I().then(function(D){return Yt(w,Kp,{idToken:D,mfaEnrollmentId:v})}).then(function(D){var x=$u(f.b,function(P){return P.uid!=v});return ld(f,x),ko(f.a,D),f.a.reload().o(function(P){if("auth/user-token-expired"!=P.code)throw P})})},T.w=function(){return{multiFactor:{enrolledFactors:Kt(this.b,function(u){return u.w()})}}},mg.prototype.start=function(){this.a=this.c,hd(this,!0)},mg.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Tc.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},Tc.prototype.getToken=function(u){return u=!!u,this.b&&!this.a?er(new V("user-token-expired")):u||!this.b||Date.now()>this.c-3e4?this.a?function _g(u,f){return function pc(u,f){return new jt(function(v,w){"refresh_token"==f.grant_type&&f.refresh_token||"authorization_code"==f.grant_type&&f.code?lu(u,u.l+"?key="+encodeURIComponent(u.c),function(D){D?D.error?w(Yp(D)):D.access_token&&D.refresh_token?v(D):w(new V("internal-error")):w(new V("network-request-failed"))},"POST",qd(f).toString(),u.g,u.m.get()):w(new V("internal-error"))})}(u.f,f).then(function(v){return u.b=Rs(v.access_token),u.a=v.refresh_token,$f(u,v.expires_in),{accessToken:u.b.toString(),refreshToken:u.a}}).o(function(v){throw"auth/user-token-expired"==v.code&&(u.a=null),v})}(this,{grant_type:"refresh_token",refresh_token:this.a}):it(null):it({accessToken:this.b.toString(),refreshToken:this.a})},Ic.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},pt(Li,ur),Li.prototype.xa=function(u){this.za=u,pm(this.a,u)},Li.prototype.la=function(){return this.za},Li.prototype.Ga=function(){return Hn(this.aa)},Li.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},He(Li.prototype,"providerId","firebase"),(T=Li.prototype).reload=function(){var u=this;return ln(this,vn(this).then(function(){return js(u).then(function(){return Ca(u)}).then(md)}))},T.oc=function(u){return this.I(u).then(function(f){return new Ey(f)})},T.I=function(u){var f=this;return ln(this,vn(this).then(function(){return f.h.getToken(u)}).then(function(v){if(!v)throw new V("internal-error");return v.accessToken!=f.Aa&&(gd(f,v.accessToken),f.dispatchEvent(new Ea("tokenChanged"))),An(f,"refreshToken",v.refreshToken),v.accessToken}))},T.Kc=function(u){if(!(u=u.users)||!u.length)throw new V("internal-error");Eg(this,{uid:(u=u[0]).localId,displayName:u.displayName,photoURL:u.photoUrl,email:u.email,emailVerified:!!u.emailVerified,phoneNumber:u.phoneNumber,lastLoginAt:u.lastLoginAt,createdAt:u.createdAt,tenantId:u.tenantId});for(var f=function $m(u){return(u=u.providerUserInfo)&&u.length?Kt(u,function(f){return new qm(f.rawId,f.providerId,f.email,f.displayName,f.photoUrl,f.phoneNumber)}):[]}(u),v=0;v<f.length;v++)Xl(this,f[v]);An(this,"isAnonymous",!(this.email&&u.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Ea("userReloaded",{hd:u}))},T.Lc=function(u){return Wi("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(u)},T.ub=function(u){var f=this,v=null;return ln(this,u.c(this.a,this.uid).then(function(w){return ko(f,w),v=Yf(f,w,"reauthenticate"),f.i=null,f.reload()}).then(function(){return v}),!0)},T.Cc=function(u){return Wi("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(u)},T.rb=function(u){var f=this,v=null;return ln(this,Kf(this,u.providerId).then(function(){return f.I()}).then(function(w){return u.b(f.a,w)}).then(function(w){return v=Yf(f,w,"link"),Jl(f,w)}).then(function(){return v}))},T.Dc=function(u,f){var v=this;return ln(this,Kf(this,"phone").then(function(){return qf(fd(v),u,f,Xe(v.rb,v))}))},T.Mc=function(u,f){var v=this;return ln(this,it().then(function(){return qf(fd(v),u,f,Xe(v.ub,v))}),!0)},T.Cb=function(u){var f=this;return ln(this,this.I().then(function(v){return f.a.Cb(v,u)}).then(function(v){return ko(f,v),f.reload()}))},T.ed=function(u){var f=this;return ln(this,this.I().then(function(v){return u.b(f.a,v)}).then(function(v){return ko(f,v),f.reload()}))},T.Db=function(u){var f=this;return ln(this,this.I().then(function(v){return f.a.Db(v,u)}).then(function(v){return ko(f,v),f.reload()}))},T.Eb=function(u){if(void 0===u.displayName&&void 0===u.photoURL)return vn(this);var f=this;return ln(this,this.I().then(function(v){return f.a.Eb(v,{displayName:u.displayName,photoUrl:u.photoURL})}).then(function(v){return ko(f,v),An(f,"displayName",v.displayName||null),An(f,"photoURL",v.photoUrl||null),En(f.providerData,function(w){"password"===w.providerId&&(He(w,"displayName",f.displayName),He(w,"photoURL",f.photoURL))}),Ca(f)}).then(md))},T.cd=function(u){var f=this;return ln(this,js(this).then(function(v){return Rn(Wf(f),u)?function mm(u,f,v){return Yt(u,Fs,{idToken:f,deleteProvider:v})}(f.a,v,[u]).then(function(w){var D={};return En(w.providerUserInfo||[],function(x){D[x.providerId]=!0}),En(Wf(f),function(x){D[x]||kc(f,x)}),D[jr.PROVIDER_ID]||He(f,"phoneNumber",null),Ca(f)}):Ca(f).then(function(){throw new V("no-such-provider")})}))},T.delete=function(){var u=this;return ln(this,this.I().then(function(f){return Yt(u.a,fu,{idToken:f})}).then(function(){u.dispatchEvent(new Ea("userDeleted"))})).then(function(){for(var f=0;f<u.N.length;f++)u.N[f].cancel("app-deleted");Du(u,null),Ac(u,null),Ql(u,null),u.N=[],u.J=!0,pd(u),He(u,"refreshToken",null),u.b&&ag(u.b,u)})},T.Gb=function(u,f){return!!("linkViaPopup"==u&&(this.g||null)==f&&this.f||"reauthViaPopup"==u&&(this.g||null)==f&&this.f||"linkViaRedirect"==u&&(this.ga||null)==f||"reauthViaRedirect"==u&&(this.ga||null)==f)},T.na=function(u,f,v,w){"linkViaPopup"!=u&&"reauthViaPopup"!=u||w!=(this.g||null)||(v&&this.C?this.C(v):f&&!v&&this.f&&this.f(f),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},T.Fa=function(u,f){return"linkViaPopup"==u&&f==(this.g||null)?Xe(this.Lb,this):"reauthViaPopup"==u&&f==(this.g||null)?Xe(this.Mb,this):"linkViaRedirect"==u&&(this.ga||null)==f?Xe(this.Lb,this):"reauthViaRedirect"==u&&(this.ga||null)==f?Xe(this.Mb,this):null},T.Ec=function(u){var f=this;return Gm(this,"linkViaPopup",u,function(){return Kf(f,u.providerId).then(function(){return Ca(f)})},!1)},T.Nc=function(u){return Gm(this,"reauthViaPopup",u,function(){return it()},!0)},T.Fc=function(u){var f=this;return Cg(this,"linkViaRedirect",u,function(){return Kf(f,u.providerId)},!1)},T.Oc=function(u){return Cg(this,"reauthViaRedirect",u,function(){return it()},!0)},T.Lb=function(u,f,v,w){var D=this;this.c&&(this.c.cancel(),this.c=null);var x=null;return ln(this,this.I().then(function(P){return Ef(D.a,{requestUri:u,postBody:w,sessionId:f,idToken:P})}).then(function(P){return x=Yf(D,P,"link"),Jl(D,P)}).then(function(){return x}))},T.Mb=function(u,f,v,w){var D=this;this.c&&(this.c.cancel(),this.c=null);var x=null;return ln(this,it().then(function(){return nr(Qh(D.a,{requestUri:u,sessionId:f,postBody:w,tenantId:v}),D.uid)}).then(function(U){return x=Yf(D,U,"reauthenticate"),ko(D,U),D.i=null,D.reload()}).then(function(){return x}),!0)},T.vb=function(u){var f=this,v=null;return ln(this,this.I().then(function(w){return v=w,typeof u>"u"||W(u)?{}:ac(new Kd(u))}).then(function(w){return f.a.vb(v,w)}).then(function(w){if(f.email!=w)return f.reload()}).then(function(){}))},T.Fb=function(u,f){var v=this,w=null;return ln(this,this.I().then(function(D){return w=D,typeof f>"u"||W(f)?{}:ac(new Kd(f))}).then(function(D){return v.a.Fb(w,u,D)}).then(function(D){if(v.email!=D)return v.reload()}).then(function(){}))},T.jc=function(u){var f=null,v=this;return ln(this,u=nr(it(u),v.uid).then(function(w){return f=Yf(v,w,"reauthenticate"),ko(v,w),v.i=null,v.reload()}).then(function(){return f}),!0)},T.toJSON=function(){return this.w()},T.w=function(){var u={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&ne(u,this.metadata.w()),En(this.providerData,function(f){u.providerData.push(function As(u){var v,f={};for(v in u)u.hasOwnProperty(v)&&(f[v]=u[v]);return f}(f))}),ne(u,this.S.w()),u};var Us={name:"redirectUser",F:"session"};function vd(u){return rd(u.b,Us,u.a)}function Tg(u){this.a=u,this.b=Ao(),this.c=null,this.f=function Wm(u){var f=Hs("local"),v=Hs("session"),w=Hs("none");return function Om(u,f,v){var w=bu(f,v),D=Ls(u,f.F);return u.get(f,v).then(function(x){var P=null;try{P=Lr($.localStorage.getItem(w))}catch{}if(P&&!x)return $.localStorage.removeItem(w),u.set(f,P,v);P&&x&&"localStorage"!=D.type&&$.localStorage.removeItem(w)})}(u.b,f,u.a).then(function(){return u.b.get(v,u.a)}).then(function(D){return D?v:u.b.get(w,u.a).then(function(x){return x?w:u.b.get(f,u.a).then(function(P){return P?f:u.b.get(yd,u.a).then(function(U){return U?Hs(U):f})})})}).then(function(D){return u.c=D,Qf(u,D.F)}).o(function(){u.c||(u.c=f)})}(this),this.b.addListener(Hs("local"),this.a,Xe(this.g,this))}function Qf(u,f){var w,v=[];for(w in _a)_a[w]!==f&&v.push(rd(u.b,Hs(_a[w]),u.a));return v.push(rd(u.b,yd,u.a)),function k(u){return new jt(function(f,v){var w=u.length,D=[];if(w)for(var x=function(a,s){w--,D[a]=s,0==w&&f(D)},P=function(a){v(a)},U=0;U<u.length;U++)es(u[U],nn(x,U),P);else f(D)})}(v)}Tg.prototype.g=function(){var u=this,f=Hs("local");Tu(this,function(){return it().then(function(){return u.c&&"local"!=u.c.F?u.b.get(f,u.a):null}).then(function(v){if(v)return Qf(u,"local").then(function(){u.c=f})})})};var yd={name:"persistence",F:"session"};function Hs(u){return{name:"authUser",F:u}}function eh(u,f){return Tu(u,function(){return u.b.set(u.c,f.w(),u.a)})}function th(u){return Tu(u,function(){return rd(u.b,u.c,u.a)})}function Km(u,f,v){return Tu(u,function(){return u.b.get(u.c,u.a).then(function(w){return w&&f&&(w.authDomain=f),w&&v&&(w.emulatorConfig=v),Dg(w||{})})})}function Tu(u,f){return u.f=u.f.then(f,f),u.f}function ds(u){if(this.l=!1,He(this,"settings",new hg),He(this,"app",u),!bn(this).options||!bn(this).options.apiKey)throw new V("invalid-api-key");u=pe.Z.SDK_VERSION?Oh(pe.Z.SDK_VERSION):null,this.a=new Gn(bn(this).options&&bn(this).options.apiKey,ct(St),u),this.P=[],this.s=[],this.N=[],this.Pa=pe.Z.INTERNAL.createSubscribe(Xe(this.zc,this)),this.W=void 0,this.ib=pe.Z.INTERNAL.createSubscribe(Xe(this.Ac,this)),Pc(this,null),this.i=new Tg(bn(this).options.apiKey+":"+bn(this).name),this.D=new xc(bn(this).options.apiKey+":"+bn(this).name),this.$=Wn(this,function Xm(u){var f=bn(u).options.authDomain,v=function B_(u){var f=function Dy(u,f){return u.b.get(Us,u.a).then(function(v){return v&&f&&(v.authDomain=f),Dg(v||{})})}(u.D,bn(u).options.authDomain).then(function(v){return(u.m=v)&&(v.ha=u.D),vd(u.D)});return Wn(u,f)}(u).then(function(){return Km(u.i,f,u.R)}).then(function(w){return w?(w.ha=u.D,u.m&&(u.m.ga||null)==(w.ga||null)?w:w.reload().then(function(){return eh(u.i,w).then(function(){return w})}).o(function(D){return"auth/network-request-failed"==D.code?w:th(u.i)})):null}).then(function(w){Pc(u,w||null)});return Wn(u,v)}(this)),this.h=Wn(this,function Ag(u){return u.$.then(function(){return Qm(u)}).o(function(){}).then(function(){if(!u.l)return u.ja()}).o(function(){}).then(function(){if(!u.l){u.ba=!0;var f=u.i;f.b.addListener(Hs("local"),f.a,u.ja)}})}(this)),this.ba=!1,this.ja=Xe(this.Zc,this),this.Ba=Xe(this.da,this),this.qa=Xe(this.mc,this),this.za=Xe(this.wc,this),this.Aa=Xe(this.xc,this),this.b=null,function Ty(u){var f=bn(u).options.authDomain,v=bn(u).options.apiKey;f&&ia()&&(u.Oa=u.$.then(function(){if(!u.l){if(u.b=Cu(f,v,bn(u).name,u.R),Eu(u.b,u),Vt(u)&&hs(Vt(u)),u.m){hs(u.m);var w=u.m;w.xa(u.la()),Du(w,u),Yl(w=u.m,u.J),Ql(w,u),Gf(w=u.m,u.R),Ac(w,u),u.m=null}return u.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=Xe(this.delete,this),this.INTERNAL.logFramework=Xe(this.Gc,this),this.u=0,ur.call(this),function Ym(u){Object.defineProperty(u,"lc",{get:function(){return this.la()},set:function(f){this.xa(f)},enumerable:!1}),u.aa=null,Object.defineProperty(u,"ti",{get:function(){return this.T()},set:function(f){this.zb(f)},enumerable:!1}),u.S=null,Object.defineProperty(u,"emulatorConfig",{get:function(){if(this.R){var f=Ai(this.R.url);f=gi({protocol:f.c,host:f.a,port:f.g,options:gi({disableWarnings:this.R.ec})})}else f=null;return f},enumerable:!1})}(this),this.J=[],this.R=null}function Sy(u){Ie.call(this,"languageCodeChanged"),this.h=u}function ie(u){Ie.call(this,"emulatorConfigChanged"),this.c=u}function Oc(u){Ie.call(this,"frameworkChanged"),this.f=u}function fs(u){return u.Oa||er(new V("auth-domain-config-required"))}function Qm(u){if(!ia())return er(new V("operation-not-supported-in-this-environment"));var f=fs(u).then(function(){return u.b.ra()}).then(function(v){return v?gi(v):null});return Wn(u,f)}function Pc(u,f){Vt(u)&&(function wg(u,f){Un(u.W,function(v){return v==f})}(Vt(u),u.Ba),ti(Vt(u),"tokenChanged",u.qa),ti(Vt(u),"userDeleted",u.za),ti(Vt(u),"userInvalidated",u.Aa),pd(Vt(u))),f&&(f.W.push(u.Ba),Ii(f,"tokenChanged",u.qa),Ii(f,"userDeleted",u.za),Ii(f,"userInvalidated",u.Aa),0<u.u&&bg(f)),He(u,"currentUser",f),f&&(f.xa(u.la()),Du(f,u),Yl(f,u.J),Ql(f,u),Gf(f,u.R),Ac(f,u))}function Nc(u,f){var v=null,w=null;return Wn(u,f.then(function(D){return v=nf(D),w=fo(D),function _d(u,f){var v={};return v.apiKey=bn(u).options.apiKey,v.authDomain=bn(u).options.authDomain,v.appName=bn(u).name,u.R&&(v.emulatorConfig=u.R),u.$.then(function(){return function Sg(u,f,v,w){var D=new Li(u,f);return v&&(D.ha=v),w&&Yl(D,w),D.reload().then(function(){return D})}(v,f,u.D,u.Ga())}).then(function(w){return Vt(u)&&w.uid==Vt(u).uid?(Jt(Vt(u),w),u.da(w)):(Pc(u,w),hs(w),u.da(w))}).then(function(){ps(u)})}(u,D)},function(D){var x=null;throw D&&"auth/multi-factor-auth-required"===D.code&&(x=Hm(D.w(),u,Xe(u.kc,u))),x||D}).then(function(){return gi({user:Vt(u),credential:v,additionalUserInfo:w,operationType:"signIn"})}))}function bn(u){return u.app}function Vt(u){return u.currentUser}function Iu(u){return Vt(u)&&Vt(u)._lat||null}function ps(u){if(u.ba){for(var f=0;f<u.s.length;f++)u.s[f]&&u.s[f](Iu(u));if(u.W!==u.getUid()&&u.N.length)for(u.W=u.getUid(),f=0;f<u.N.length;f++)u.N[f]&&u.N[f](Iu(u))}}function Wn(u,f){return u.P.push(f),f.oa(function(){Fn(u.P,f)}),f}function Zi(){}function Bi(){this.a={},this.b=1e12}Tg.prototype.yb=function(u){var f=null,v=this;return function xm(u){var f=new V("invalid-persistence-type"),v=new V("unsupported-persistence-type");e:{for(w in _a)if(_a[w]==u){var w=!0;break e}w=!1}if(!w||"string"!=typeof u)throw f;switch(De()){case"ReactNative":if("session"===u)throw v;break;case"Node":if("none"!==u)throw v;break;case"Worker":if("session"===u||!tg()&&"none"!==u)throw v;break;default:if(!Ja()&&"none"!==u)throw v}}(u),Tu(this,function(){return u!=v.c.F?v.b.get(v.c,v.a).then(function(w){return f=w,Qf(v,u)}).then(function(){if(v.c=Hs(u),f)return v.b.set(v.c,f,v.a)}):it()})},pt(ds,ur),pt(Sy,Ie),pt(ie,Ie),pt(Oc,Ie),(T=ds.prototype).yb=function(u){return Wn(this,u=this.i.yb(u))},T.xa=function(u){this.aa===u||this.l||(this.aa=u,pm(this.a,this.aa),this.dispatchEvent(new Sy(this.la())))},T.la=function(){return this.aa},T.fd=function(){var u=$.navigator;this.xa(u&&(u.languages&&u.languages[0]||u.language||u.userLanguage)||null)},T.gd=function(u,f){if(!this.R){if(!/^https?:\/\//.test(u))throw new V("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function Ig(u){typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),$.document&&!u&&ki().then(function(){var f=$.document.createElement("div");f.innerText="Running in emulator mode. Do not use with production credentials.",f.style.position="fixed",f.style.width="100%",f.style.backgroundColor="#ffffff",f.style.border=".1em solid #000000",f.style.color="#b50000",f.style.bottom="0px",f.style.left="0px",f.style.margin="0px",f.style.zIndex=1e4,f.style.textAlign="center",f.classList.add("firebase-emulator-warning"),$.document.body.appendChild(f)})})(f=!!f&&!!f.disableWarnings),this.R={url:u,ec:f},this.settings.jb=!0,ls(this.a,this.R),this.dispatchEvent(new ie(this.R))}},T.Gc=function(u){this.J.push(u),kl(this.a,pe.Z.SDK_VERSION?Oh(pe.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new Oc(this.J))},T.Ga=function(){return Hn(this.J)},T.zb=function(u){this.S===u||this.l||(this.S=u,this.a.b=this.S)},T.T=function(){return this.S},T.toJSON=function(){return{apiKey:bn(this).options.apiKey,authDomain:bn(this).options.authDomain,appName:bn(this).name,currentUser:Vt(this)&&Vt(this).w()}},T.Gb=function(u,f){switch(u){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==f&&!!this.f;default:return!1}},T.na=function(u,f,v,w){"signInViaPopup"==u&&this.g==w&&(v&&this.C?this.C(v):f&&!v&&this.f&&this.f(f),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},T.Fa=function(u,f){return"signInViaRedirect"==u||"signInViaPopup"==u&&this.g==f&&this.f?Xe(this.ic,this):null},T.ic=function(u,f,v,w){var D=this,x={requestUri:u,postBody:w,sessionId:f,tenantId:v};return this.c&&(this.c.cancel(),this.c=null),D.$.then(function(){return Nc(D,jp(D.a,x))})},T.Xc=function(u){if(!ia())return er(new V("operation-not-supported-in-this-environment"));var f=this,v=Xd(u.providerId),w=ut(),D=null;(!me()||tr())&&bn(this).options.authDomain&&u.isOAuthProvider&&(D=ed(bn(this).options.authDomain,bn(this).options.apiKey,bn(this).name,"signInViaPopup",u,null,w,pe.Z.SDK_VERSION||null,null,null,this.T(),this.R));var x=il(D,v&&v.va,v&&v.ua);return Wn(this,v=fs(this).then(function(P){return jm(P,x,"signInViaPopup",u,w,!!D,f.T())}).then(function(){return new jt(function(P,U){f.na("signInViaPopup",null,new V("cancelled-popup-request"),f.g),f.f=P,f.C=U,f.g=w,f.c=cg(f.b,f,"signInViaPopup",x,w)})}).then(function(P){return x&&zn(x),P?gi(P):null}).o(function(P){throw x&&zn(x),P}))},T.Yc=function(u){if(!ia())return er(new V("operation-not-supported-in-this-environment"));var f=this,v=fs(this).then(function(){return function Su(u){return Tu(u,function(){return u.b.set(yd,u.c.F,u.a)})}(f.i)}).then(function(){return Vf(f.b,"signInViaRedirect",u,void 0,f.T())});return Wn(this,v)},T.ra=function(){var u=this;return Qm(this).then(function(f){return u.b&&Hf(u.b.b),f}).o(function(f){throw u.b&&Hf(u.b.b),f})},T.dd=function(u){if(!u)return er(new V("null-user"));if(this.S!=u.tenantId)return er(new V("tenant-id-mismatch"));var f=this,v={};v.apiKey=bn(this).options.apiKey,v.authDomain=bn(this).options.authDomain,v.appName=bn(this).name;var w=function Ro(u,f,v,w){var D=u.h,x={};return x[To]=D.b&&D.b.toString(),x.refreshToken=D.a,f=new Li(f||{apiKey:u.l,authDomain:u.s,appName:u.m},x),v&&(f.ha=v),w&&Yl(f,w),Jt(f,u),f}(u,v,f.D,f.Ga());return Wn(this,this.h.then(function(){if(bn(f).options.apiKey!=u.l)return w.reload()}).then(function(){return Vt(f)&&u.uid==Vt(f).uid?(Jt(Vt(f),u),f.da(u)):(Pc(f,w),hs(w),f.da(w))}).then(function(){ps(f)}))},T.Bb=function(){var u=this;return Wn(this,this.h.then(function(){return u.b&&Hf(u.b.b),Vt(u)?(Pc(u,null),th(u.i).then(function(){ps(u)})):it()}))},T.Zc=function(){var u=this;return Km(this.i,bn(this).options.authDomain).then(function(f){if(!u.l){var v;if(v=Vt(u)&&f){v=Vt(u).uid;var w=f.uid;v=null!=v&&""!==v&&null!=w&&""!==w&&v==w}if(v)return Jt(Vt(u),f),Vt(u).I();(Vt(u)||f)&&(Pc(u,f),f&&(hs(f),f.ha=u.D),u.b&&Eu(u.b,u),ps(u))}})},T.da=function(u){return eh(this.i,u)},T.mc=function(){ps(this),this.da(Vt(this))},T.wc=function(){this.Bb()},T.xc=function(){this.Bb()},T.kc=function(u){var f=this;return this.h.then(function(){return Nc(f,it(u))})},T.zc=function(u){var f=this;this.addAuthTokenListener(function(){u.next(Vt(f))})},T.Ac=function(u){var f=this;!function zs(u,f){u.N.push(f),Wn(u,u.h.then(function(){!u.l&&Rn(u.N,f)&&u.W!==u.getUid()&&(u.W=u.getUid(),f(Iu(u)))}))}(this,function(){u.next(Vt(f))})},T.Ic=function(u,f,v){var w=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof u?u(Vt(w)):"function"==typeof u.next&&u.next(Vt(w))}),this.Pa(u,f,v)},T.Hc=function(u,f,v){var w=this;return this.ba&&Promise.resolve().then(function(){w.W=w.getUid(),"function"==typeof u?u(Vt(w)):"function"==typeof u.next&&u.next(Vt(w))}),this.ib(u,f,v)},T.nc=function(u){var f=this;return Wn(this,this.h.then(function(){return Vt(f)?Vt(f).I(u).then(function(w){return{accessToken:w}}):null}))},T.Tc=function(u){var f=this;return this.h.then(function(){return Nc(f,Yt(f.a,Wp,{token:u}))}).then(function(v){var w=v.user;return An(w,"isAnonymous",!1),f.da(w),v})},T.Uc=function(u,f){var v=this;return this.h.then(function(){return Nc(v,Yt(v.a,Pl,{email:u,password:f}))})},T.dc=function(u,f){var v=this;return this.h.then(function(){return Nc(v,Yt(v.a,iy,{email:u,password:f}))})},T.ab=function(u){var f=this;return this.h.then(function(){return Nc(f,u.ka(f.a))})},T.Sc=function(u){return Wi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(u)},T.Ab=function(){var u=this;return this.h.then(function(){var f=Vt(u);if(f&&f.isAnonymous){var v=gi({providerId:null,isNewUser:!1});return gi({user:f,credential:null,additionalUserInfo:v,operationType:"signIn"})}return Nc(u,u.a.Ab()).then(function(w){var D=w.user;return An(D,"isAnonymous",!0),u.da(D),w})})},T.getUid=function(){return Vt(this)&&Vt(this).uid||null},T.cc=function(u){this.addAuthTokenListener(u),this.u++,0<this.u&&Vt(this)&&bg(Vt(this))},T.Pc=function(u){var f=this;En(this.s,function(v){v==u&&f.u--}),0>this.u&&(this.u=0),0==this.u&&Vt(this)&&pd(Vt(this)),this.removeAuthTokenListener(u)},T.addAuthTokenListener=function(u){var f=this;this.s.push(u),Wn(this,this.h.then(function(){f.l||Rn(f.s,u)&&u(Iu(f))}))},T.removeAuthTokenListener=function(u){Un(this.s,function(f){return f==u})},T.delete=function(){this.l=!0;for(var u=0;u<this.P.length;u++)this.P[u].cancel("app-deleted");return this.P=[],this.i&&(u=this.i).b.removeListener(Hs("local"),u.a,this.ja),this.b&&(ag(this.b,this),Hf(this.b.b)),Promise.resolve()},T.hc=function(u){return Wn(this,function _f(u,f){return Yt(u,oy,{identifier:f,continueUri:fi()?Za():"http://localhost"}).then(function(v){return v.signinMethods||[]})}(this.a,u))},T.Bc=function(u){return!!la(u)},T.xb=function(u,f){var v=this;return Wn(this,it().then(function(){var w=new Kd(f);if(!w.c)throw new V("argument-error",Eo+" must be true when sending sign in link to email");return ac(w)}).then(function(w){return v.a.xb(u,w)}).then(function(){}))},T.jd=function(u){return this.Sa(u).then(function(f){return f.data.email})},T.ob=function(u,f){return Wn(this,this.a.ob(u,f).then(function(){}))},T.Sa=function(u){return Wn(this,this.a.Sa(u).then(function(f){return new Ip(f)}))},T.kb=function(u){return Wn(this,this.a.kb(u).then(function(){}))},T.wb=function(u,f){var v=this;return Wn(this,it().then(function(){return typeof f>"u"||W(f)?{}:ac(new Kd(f))}).then(function(w){return v.a.wb(u,w)}).then(function(){}))},T.Wc=function(u,f){return Wn(this,qf(this,u,f,Xe(this.ab,this)))},T.Vc=function(u,f){var v=this;return Wn(this,it().then(function(){var w=f||Za(),D=ef(u,w);if(!(w=la(w)))throw new V("argument-error","Invalid email link!");if(w.tenantId!==v.T())throw new V("tenant-id-mismatch");return v.ab(D)}))},Zi.prototype.render=function(){},Zi.prototype.reset=function(){},Zi.prototype.getResponse=function(){},Zi.prototype.execute=function(){};var bd=null;function Xf(u,f){return(f=Au(f))&&u.a[f]||null}function Au(u){return(u=typeof u>"u"?1e12:u)?u.toString():null}function qr(u,f){this.g=!1,this.c=f,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=fn(u);var v=this;this.i=function(){v.execute()},this.h?this.execute():Ii(this.f,"click",this.i)}function wd(u){if(u.g)throw Error("reCAPTCHA mock was already deleted!")}function Zf(){}function nh(){}Bi.prototype.render=function(u,f){return this.a[this.b.toString()]=new qr(u,f),this.b++},Bi.prototype.reset=function(u){var f=Xf(this,u);u=Au(u),f&&u&&(f.delete(),delete this.a[u])},Bi.prototype.getResponse=function(u){return(u=Xf(this,u))?u.getResponse():null},Bi.prototype.execute=function(u){(u=Xf(this,u))&&u.execute()},qr.prototype.getResponse=function(){return wd(this),this.b},qr.prototype.execute=function(){wd(this);var u=this;this.a||(this.a=setTimeout(function(){u.b=function Bo(){for(var u=50,f=[];0<u;)f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),u--;return f.join("")}();var f=u.c.callback,v=u.c["expired-callback"];if(f)try{f(u.b)}catch{}u.a=setTimeout(function(){if(u.a=null,u.b=null,v)try{v()}catch{}u.h&&u.execute()},6e4)},500))},qr.prototype.delete=function(){wd(this),this.g=!0,clearTimeout(this.a),this.a=null,ti(this.f,"click",this.i)},He(Zf,"FACTOR_ID","phone"),nh.prototype.g=function(){return bd||(bd=new Bi),it(bd)},nh.prototype.c=function(){};var Mg=null;function Ed(){this.b=$.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Iy=new Me(mn,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Cd=new hr(3e4,6e4);Ed.prototype.g=function(u){var f=this;return new jt(function(v,w){var D=setTimeout(function(){w(new V("network-request-failed"))},Cd.get());!$.grecaptcha||u!==f.f&&!f.b?($[f.a]=function(){if($.grecaptcha){f.f=u;var P=$.grecaptcha.render;$.grecaptcha.render=function(U,ue){return U=P(U,ue),f.b++,U},clearTimeout(D),v($.grecaptcha)}else clearTimeout(D),w(new V("internal-error"));delete $[f.a]},it(po(Xr(Iy,{onload:f.a,hl:u||""}))).o(function(){clearTimeout(D),w(new V("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(D),v($.grecaptcha))})},Ed.prototype.c=function(){this.b--};var Fc=null;function rh(u,f,v,w,D,x,P){if(He(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=f,this.g=null,P?(Mg||(Mg=new nh),P=Mg):(Fc||(Fc=new Ed),P=Fc),this.m=P,this.a=v||{theme:"light",type:"image"},this.h=[],this.a[Ay])throw new V("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[My],!$.document)throw new V("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!fn(f)||!this.i&&fn(f).hasChildNodes())throw new V("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Gn(u,x||null,D||null),this.u=w||function(){return null};var U=this;this.l=[];var ue=this.a[ih];this.a[ih]=function(s){if(Da(U,s),"function"==typeof ue)ue(s);else if("string"==typeof ue){var l=tt(ue,$);"function"==typeof l&&l(s)}};var a=this.a[Lc];this.a[Lc]=function(){if(Da(U,null),"function"==typeof a)a();else if("string"==typeof a){var s=tt(a,$);"function"==typeof s&&s()}}}var ih="callback",Lc="expired-callback",Ay="sitekey",My="size";function Da(u,f){for(var v=0;v<u.l.length;v++)try{u.l[v](f)}catch{}}function Jf(u,f){return u.h.push(f),f.oa(function(){Fn(u.h,f)}),f}function oh(u){if(u.J)throw new V("internal-error","RecaptchaVerifier instance has been destroyed.")}function kg(u,f,v){var w=!1;try{this.b=v||pe.Z.app()}catch{throw new V("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new V("invalid-api-key");v=this.b.options.apiKey;var D=this,x=null;try{x=this.b.auth().Ga()}catch{}try{w=this.b.auth().settings.appVerificationDisabledForTesting}catch{}x=pe.Z.SDK_VERSION?Oh(pe.Z.SDK_VERSION,x):null,rh.call(this,v,u,f,function(){try{var P=D.b.auth().la()}catch{P=null}return P},x,ct(St),w)}function sh(u,f,v,w){e:{v=Array.prototype.slice.call(v);for(var D=0,x=!1,P=0;P<f.length;P++)if(f[P].optional)x=!0;else{if(x)throw new V("internal-error","Argument validator encountered a required argument after an optional argument.");D++}if(x=f.length,v.length<D||x<v.length)w="Expected "+(D==x?1==D?"1 argument":D+" arguments":D+"-"+x+" arguments")+" but got "+v.length+".";else{for(D=0;D<v.length;D++)if(x=f[D].optional&&void 0===v[D],!f[D].M(v[D])&&!x){if(f=f[D],0>D||D>=Rg.length)throw new V("internal-error","Argument validator received an unsupported number of arguments.");v=Rg[D],w=(w?"":v+" argument ")+(f.name?'"'+f.name+'" ':"")+"must be "+f.K+".";break e}w=null}}if(w)throw new V("argument-error",u+" failed: "+w)}(T=rh.prototype).Ia=function(){var u=this;return this.f?this.f:this.f=Jf(this,it().then(function(){if(fi()&&!lo())return ki();throw new V("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return u.m.g(u.u())}).then(function(f){return u.g=f,Yt(u.s,qp,{})}).then(function(f){u.a[Ay]=f.recaptchaSiteKey}).o(function(f){throw u.f=null,f}))},T.render=function(){oh(this);var u=this;return Jf(this,this.Ia().then(function(){if(null===u.c){var f=u.v;if(!u.i){var v=fn(f);f=function Th(u,f,v){var w=arguments,D=document,x=String(w[0]),P=w[1];if(!Ld&&P&&(P.name||P.type)){if(x=["<",x],P.name&&x.push(' name="',kr(P.name),'"'),P.type){x.push(' type="',kr(P.type),'"');var U={};ne(U,P),delete U.type,P=U}x.push(">"),x=x.join("")}return x=Qs(D,x),P&&("string"==typeof P?x.className=P:Array.isArray(P)?x.className=P.join(" "):Qu(x,P)),2<w.length&&za(D,x,w),x}("DIV"),v.appendChild(f)}u.c=u.g.render(f,u.a)}return u.c}))},T.verify=function(){oh(this);var u=this;return Jf(this,this.render().then(function(f){return new jt(function(v){var w=u.g.getResponse(f);if(w)v(w);else{var D=function(x){x&&(function Bc(u,f){Un(u.l,function(v){return v==f})}(u,D),v(x))};u.l.push(D),u.i&&u.g.execute(u.c)}})}))},T.reset=function(){oh(this),null!==this.c&&this.g.reset(this.c)},T.clear=function(){oh(this),this.J=!0,this.m.c();for(var u=0;u<this.h.length;u++)this.h[u].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){u=fn(this.v);for(var f;f=u.firstChild;)u.removeChild(f)}},pt(kg,rh);var Rg="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ge(u,f){return{name:u||"",K:"a valid string",optional:!!f,M:function(v){return"string"==typeof v}}}function Dd(u,f){return{name:u||"",K:"a boolean",optional:!!f,M:function(v){return"boolean"==typeof v}}}function Sr(u,f){return{name:u||"",K:"a valid object",optional:!!f,M:bt}}function Sa(u,f){return{name:u||"",K:"a function",optional:!!f,M:function(v){return"function"==typeof v}}}function Ta(u,f){return{name:u||"",K:"null",optional:!!f,M:function(v){return null===v}}}function Mu(u){return{name:u?u+"Credential":"credential",K:u?"a valid "+u+" credential":"a valid credential",optional:!1,M:function(f){return!!f&&!(!f.ka||u&&f.providerId!==u)}}}function Ru(u,f){return bt(u)&&"string"==typeof u.type&&u.type===f&&"function"==typeof u.Ha}function Ji(u){return bt(u)&&"string"==typeof u.uid}function On(u,f,v,w){return{name:v||"",K:u.K+" or "+f.K,optional:!!w,M:function(D){return u.M(D)||f.M(D)}}}function Pn(u,f){for(var v in f){var w=f[v].name;u[w]=tp(w,u[v],f[v].j)}}function ah(u,f){for(var v in f){var w=f[v].name;w!==v&&Object.defineProperty(u,w,{get:nn(function(D){return this[D]},v),set:nn(function(D,x,P,U){sh(D,[P],[U],!0),this[x]=U},w,v,f[v].lb),enumerable:!0})}}function Zn(u,f,v,w){u[f]=tp(f,v,w)}function tp(u,f,v){function w(){var P=Array.prototype.slice.call(arguments);return sh(D,v,P),f.apply(this,P)}if(!v)return f;var x,D=function np(u){return(u=u.split("."))[u.length-1]}(u);for(x in f)w[x]=f[x];for(x in f.prototype)w.prototype[x]=f.prototype[x];return w}Pn(ds.prototype,{kb:{name:"applyActionCode",j:[Ge("code")]},Sa:{name:"checkActionCode",j:[Ge("code")]},ob:{name:"confirmPasswordReset",j:[Ge("code"),Ge("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Ge("email"),Ge("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Ge("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Ge("emailLink")]},Hc:{name:"onAuthStateChanged",j:[On(Sr(),Sa(),"nextOrObserver"),Sa("opt_error",!0),Sa("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[On(Sr(),Sa(),"nextOrObserver"),Sa("opt_error",!0),Sa("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Ge("email"),On(Sr("opt_actionCodeSettings",!0),Ta(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Ge("email"),Sr("actionCodeSettings")]},yb:{name:"setPersistence",j:[Ge("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Mu()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Mu()]},Tc:{name:"signInWithCustomToken",j:[Ge("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Ge("email"),Ge("password")]},Vc:{name:"signInWithEmailLink",j:[Ge("email"),Ge("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Ge("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(u){return!(!u||"string"!=typeof u.type||"function"!=typeof u.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[On({name:"user",K:"an instance of Firebase User",optional:!1,M:function(f){return!!(f&&f instanceof Li)}},Ta(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ge(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Ge("url"),Sr("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Ge("code")]}}),ah(ds.prototype,{lc:{name:"languageCode",lb:On(Ge(),Ta(),"languageCode")},ti:{name:"tenantId",lb:On(Ge(),Ta(),"tenantId")}}),(ds.Persistence=_a).LOCAL="local",ds.Persistence.SESSION="session",ds.Persistence.NONE="none",Pn(Li.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Dd("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Dd("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Mu()]},rb:{name:"linkWithCredential",j:[Mu()]},Dc:{name:"linkWithPhoneNumber",j:[Ge("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(u){return!(!u||"string"!=typeof u.type||"function"!=typeof u.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Mu()]},ub:{name:"reauthenticateWithCredential",j:[Mu()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Ge("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(u){return!(!u||"string"!=typeof u.type||"function"!=typeof u.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[On(Sr("opt_actionCodeSettings",!0),Ta(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ge(null,!0)]},cd:{name:"unlink",j:[Ge("provider")]},Cb:{name:"updateEmail",j:[Ge("email")]},Db:{name:"updatePassword",j:[Ge("password")]},ed:{name:"updatePhoneNumber",j:[Mu("phone")]},Eb:{name:"updateProfile",j:[Sr("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Ge("email"),On(Sr("opt_actionCodeSettings",!0),Ta(null,!0),"opt_actionCodeSettings",!0)]}}),Pn(Bi.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Pn(Zi.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Pn(jt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),ah(hg.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Dd("appVerificationDisabledForTesting")}}),Pn(zf.prototype,{confirm:{name:"confirm",j:[Ge("verificationCode")]}}),Zn(ua,"fromJSON",function(u){u="string"==typeof u?JSON.parse(u):u;for(var f,v=[Jd,je,ey,um],w=0;w<v.length;w++)if(f=v[w](u))return f;return null},[On(Ge(),Sr(),"json")]),Zn($n,"credential",function(u,f){return new ca(u,f)},[Ge("email"),Ge("password")]),Pn(ca.prototype,{w:{name:"toJSON",j:[Ge(null,!0)]}}),Pn(Co.prototype,{Ca:{name:"addScope",j:[Ge("scope")]},Ka:{name:"setCustomParameters",j:[Sr("customOAuthParameters")]}}),Zn(Co,"credential",ru,[On(Ge(),Sr(),"token")]),Zn($n,"credentialWithLink",ef,[Ge("email"),Ge("emailLink")]),Pn(Do.prototype,{Ca:{name:"addScope",j:[Ge("scope")]},Ka:{name:"setCustomParameters",j:[Sr("customOAuthParameters")]}}),Zn(Do,"credential",Qn,[On(Ge(),Sr(),"token")]),Pn($t.prototype,{Ca:{name:"addScope",j:[Ge("scope")]},Ka:{name:"setCustomParameters",j:[Sr("customOAuthParameters")]}}),Zn($t,"credential",iu,[On(Ge(),On(Sr(),Ta()),"idToken"),On(Ge(),Ta(),"accessToken",!0)]),Pn(So.prototype,{Ka:{name:"setCustomParameters",j:[Sr("customOAuthParameters")]}}),Zn(So,"credential",Jv,[On(Ge(),Sr(),"token"),Ge("secret",!0)]),Pn(br.prototype,{Ca:{name:"addScope",j:[Ge("scope")]},credential:{name:"credential",j:[On(Ge(),On(Sr(),Ta()),"optionsOrIdToken"),On(Ge(),Ta(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Sr("customOAuthParameters")]}}),Pn(xi.prototype,{w:{name:"toJSON",j:[Ge(null,!0)]}}),Pn(xs.prototype,{w:{name:"toJSON",j:[Ge(null,!0)]}}),Zn(jr,"credential",wl,[Ge("verificationId"),Ge("verificationCode")]),Pn(jr.prototype,{gb:{name:"verifyPhoneNumber",j:[On(Ge(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(v){return!!v&&(v.session&&v.phoneNumber?Ru(v.session,uc)&&"string"==typeof v.phoneNumber:v.session&&v.multiFactorHint?Ru(v.session,nu)&&Ji(v.multiFactorHint):v.session&&v.multiFactorUid?Ru(v.session,nu)&&"string"==typeof v.multiFactorUid:!!v.phoneNumber&&"string"==typeof v.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(u){return!(!u||"string"!=typeof u.type||"function"!=typeof u.verify)}}]}}),Pn(rr.prototype,{w:{name:"toJSON",j:[Ge(null,!0)]}}),Pn(V.prototype,{toJSON:{name:"toJSON",j:[Ge(null,!0)]}}),Pn(Yi.prototype,{toJSON:{name:"toJSON",j:[Ge(null,!0)]}}),Pn(_i.prototype,{toJSON:{name:"toJSON",j:[Ge(null,!0)]}}),Pn(Wl.prototype,{toJSON:{name:"toJSON",j:[Ge(null,!0)]}}),Pn(kt.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(u){return!!u&&!!u.tb}}]}}),Pn(zm.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(u){return!!u&&!!u.tb}},Ge("displayName",!0)]},bd:{name:"unenroll",j:[On({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Ji},Ge(),"multiFactorInfoIdentifier")]}}),Pn(kg.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Zn(Ap,"parseLink",ss,[Ge("link")]),Zn(Zf,"assertion",function(u){return new pg(u)},[Mu("phone")]),function(){if(!(typeof pe.Z<"u"&&pe.Z.INTERNAL&&pe.Z.INTERNAL.registerComponent))throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var u={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:oa,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ic,VERIFY_AND_CHANGE_EMAIL:Vr,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ds,AuthCredential:ua,Error:V};Zn(u,"EmailAuthProvider",$n,[]),Zn(u,"FacebookAuthProvider",Co,[]),Zn(u,"GithubAuthProvider",Do,[]),Zn(u,"GoogleAuthProvider",$t,[]),Zn(u,"TwitterAuthProvider",So,[]),Zn(u,"OAuthProvider",br,[Ge("providerId")]),Zn(u,"SAMLAuthProvider",bl,[Ge("providerId")]),Zn(u,"PhoneAuthProvider",jr,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(u){return!!(u&&u instanceof ds)}}]),Zn(u,"RecaptchaVerifier",kg,[On(Ge(),{name:"",K:"an HTML element",optional:!1,M:function(u){return!!(u&&u instanceof Element)}},"recaptchaContainer"),Sr("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(u){return!!(u&&u instanceof pe.Z.app.App)}}]),Zn(u,"ActionCodeURL",Ap,[]),Zn(u,"PhoneMultiFactorGenerator",Zf,[]),pe.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(f){return new ds(f=f.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:u,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(f){f.getProvider("auth-internal").initialize()}}),pe.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(f){return{getUid:Xe((f=f.getProvider("auth").getImmediate()).getUid,f),getToken:Xe(f.nc,f),addAuthTokenListener:Xe(f.cc,f),removeAuthTokenListener:Xe(f.Pc,f)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),pe.Z.registerVersion("@firebase/auth","0.16.8"),pe.Z.INTERNAL.extendNamespace({User:Li})}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},361:(Ba,ci,Wt)=>{Wt.r(ci);var pe=Wt(367),T=Wt(655),We=Wt(492),ot=Wt(3),zt=function(a,s){return(zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(l[g]=d[g])})(a,s)};function Ir(a){var s="function"==typeof Symbol&&Symbol.iterator,l=s&&a[s],d=0;if(l)return l.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}var se,Ci=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$=$||{},we=Ci||self;function Re(){}function Ae(a){var s=typeof a;return"array"==(s="object"!=s?s:a?Array.isArray(a)?"array":s:"null")||"object"==s&&"number"==typeof a.length}function Fe(a){var s=typeof a;return"object"==s&&null!=a||"function"==s}var Gt="closure_uid_"+(1e9*Math.random()>>>0),Pt=0;function bt(a,s,l){return a.call.apply(a.bind,arguments)}function fr(a,s,l){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,d),a.apply(s,g)}}return function(){return a.apply(s,arguments)}}function Xt(a,s,l){return(Xt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bt:fr).apply(null,arguments)}function Di(a,s){var l=Array.prototype.slice.call(arguments,1);return function(){var d=l.slice();return d.push.apply(d,arguments),a.apply(this,d)}}function Et(a,s){function l(){}l.prototype=s.prototype,a.Z=s.prototype,a.prototype=new l,a.prototype.constructor=a,a.Vb=function(d,g,y){for(var b=Array(arguments.length-2),C=2;C<arguments.length;C++)b[C-2]=arguments[C];return s.prototype[g].apply(d,b)}}function Jn(){this.s=this.s,this.o=this.o}var nn={};Jn.prototype.s=!1,Jn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var a=function qt(a){return Object.prototype.hasOwnProperty.call(a,Gt)&&a[Gt]||(a[Gt]=++Pt)}(this);delete nn[a]}},Jn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var oo=Array.prototype.indexOf?function(a,s){return Array.prototype.indexOf.call(a,s,void 0)}:function(a,s){if("string"==typeof a)return"string"!=typeof s||1!=s.length?-1:a.indexOf(s,0);for(var l=0;l<a.length;l++)if(l in a&&a[l]===s)return l;return-1},pt=Array.prototype.forEach?function(a,s,l){Array.prototype.forEach.call(a,s,l)}:function(a,s,l){for(var d=a.length,g="string"==typeof a?a.split(""):a,y=0;y<d;y++)y in g&&s.call(l,g[y],y,a)};function V(a){return Array.prototype.concat.apply([],arguments)}function ge(a){var s=a.length;if(0<s){for(var l=Array(s),d=0;d<s;d++)l[d]=a[d];return l}return[]}function _e(a){return/^[\s\xa0]*$/.test(a)}var St,Pe=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function le(a,s){return-1!=a.indexOf(s)}function ct(a,s){return a<s?-1:a>s?1:0}e:{var cr=we.navigator;if(cr){var nt=cr.userAgent;if(nt){St=nt;break e}}St=""}function Se(a,s,l){for(var d in a)s.call(l,a[d],d,a)}function Ke(a){var s={};for(var l in a)s[l]=a[l];return s}var st="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(a,s){for(var l,d,g=1;g<arguments.length;g++){for(l in d=arguments[g])a[l]=d[l];for(var y=0;y<st.length;y++)l=st[y],Object.prototype.hasOwnProperty.call(d,l)&&(a[l]=d[l])}}function rt(a){return rt[" "](a),a}rt[" "]=Re;var rn,a,mt=le(St,"Opera"),Qr=le(St,"Trident")||le(St,"MSIE"),Wo=le(St,"Edge"),En=Wo||Qr,pr=le(St,"Gecko")&&!(le(St.toLowerCase(),"webkit")&&!le(St,"Edge"))&&!(le(St,"Trident")||le(St,"MSIE"))&&!le(St,"Edge"),$u=le(St.toLowerCase(),"webkit")&&!le(St,"Edge");function Kt(){var a=we.document;return a?a.documentMode:void 0}e:{var li="",Rn=(a=St,pr?/rv:([^\);]+)(\)|;)/.exec(a):Wo?/Edge\/([\d\.]+)/.exec(a):Qr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):$u?/WebKit\/(\S+)/.exec(a):mt?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(Rn&&(li=Rn?Rn[1]:""),Qr){var Fn=Kt();if(null!=Fn&&Fn>parseFloat(li)){rn=String(Fn);break e}}rn=li}var Un={};var so=we.document&&Qr&&(Kt()||parseInt(rn,10))||void 0,yh=function(){if(!we.addEventListener||!Object.defineProperty)return!1;var a=!1,s=Object.defineProperty({},"passive",{get:function(){a=!0}});try{we.addEventListener("test",Re,s),we.removeEventListener("test",Re,s)}catch{}return a}();function Ar(a,s){this.type=a,this.g=this.target=s,this.defaultPrevented=!1}function Ko(a,s){if(Ar.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var l=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=s,s=a.relatedTarget){if(pr){e:{try{rt(s.nodeName);var g=!0;break e}catch{}g=!1}g||(s=null)}}else"mouseover"==l?s=a.fromElement:"mouseout"==l&&(s=a.toElement);this.relatedTarget=s,d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType="string"==typeof a.pointerType?a.pointerType:Pd[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ko.Z.h.call(this)}}Ar.prototype.h=function(){this.defaultPrevented=!0},Et(Ko,Ar);var Pd={2:"touch",3:"pen",4:"mouse"};Ko.prototype.h=function(){Ko.Z.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ti="closure_listenable_"+(1e6*Math.random()|0),_h=0;function Tt(a,s,l,d,g){this.listener=a,this.proxy=null,this.src=s,this.type=l,this.capture=!!d,this.ia=g,this.key=++_h,this.ca=this.fa=!1}function zi(a){a.ca=!0,a.listener=null,a.proxy=null,a.src=null,a.ia=null}function gr(a){this.src=a,this.g={},this.h=0}function Kc(a,s){var l=s.type;if(l in a.g){var y,d=a.g[l],g=oo(d,s);(y=0<=g)&&Array.prototype.splice.call(d,g,1),y&&(zi(s),0==a.g[l].length&&(delete a.g[l],a.h--))}}function Gu(a,s,l,d){for(var g=0;g<a.length;++g){var y=a[g];if(!y.ca&&y.listener==s&&y.capture==!!l&&y.ia==d)return g}return-1}gr.prototype.add=function(a,s,l,d,g){var y=a.toString();(a=this.g[y])||(a=this.g[y]=[],this.h++);var b=Gu(a,s,d,g);return-1<b?(s=a[b],l||(s.fa=!1)):((s=new Tt(s,this.src,y,!!d,g)).fa=l,a.push(s)),s};var Ln="closure_lm_"+(1e6*Math.random()|0),No={};function W(a,s,l,d,g){if(d&&d.once)return ne(a,s,l,d,g);if(Array.isArray(s)){for(var y=0;y<s.length;y++)W(a,s[y],l,d,g);return null}return l=Mr(l),a&&a[Ti]?a.N(s,l,Fe(d)?!!d.capture:!!d,g):G(a,s,l,!1,d,g)}function G(a,s,l,d,g,y){if(!s)throw Error("Invalid event type");var b=Fe(g)?!!g.capture:!!g,C=mn(a);if(C||(a[Ln]=C=new gr(a)),(l=C.add(s,l,d,b,y)).proxy)return l;if(d=function X(){var s=on;return function a(l){return s.call(a.src,a.listener,l)}}(),l.proxy=d,d.src=a,d.listener=l,a.addEventListener)yh||(g=b),void 0===g&&(g=!1),a.addEventListener(s.toString(),d,g);else if(a.attachEvent)a.attachEvent(dt(s.toString()),d);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(d)}return l}function ne(a,s,l,d,g){if(Array.isArray(s)){for(var y=0;y<s.length;y++)ne(a,s[y],l,d,g);return null}return l=Mr(l),a&&a[Ti]?a.O(s,l,Fe(d)?!!d.capture:!!d,g):G(a,s,l,!0,d,g)}function Q(a,s,l,d,g){if(Array.isArray(s))for(var y=0;y<s.length;y++)Q(a,s[y],l,d,g);else d=Fe(d)?!!d.capture:!!d,l=Mr(l),a&&a[Ti]?(a=a.i,(s=String(s).toString())in a.g&&-1<(l=Gu(y=a.g[s],l,d,g))&&(zi(y[l]),Array.prototype.splice.call(y,l,1),0==y.length&&(delete a.g[s],a.h--))):a&&(a=mn(a))&&(s=a.g[s.toString()],a=-1,s&&(a=Gu(s,l,d,g)),(l=-1<a?s[a]:null)&&Me(l))}function Me(a){if("number"!=typeof a&&a&&!a.ca){var s=a.src;if(s&&s[Ti])Kc(s.i,a);else{var l=a.type,d=a.proxy;s.removeEventListener?s.removeEventListener(l,d,a.capture):s.detachEvent?s.detachEvent(dt(l),d):s.addListener&&s.removeListener&&s.removeListener(d),(l=mn(s))?(Kc(l,a),0==l.h&&(l.src=null,s[Ln]=null)):zi(a)}}}function dt(a){return a in No?No[a]:No[a]="on"+a}function on(a,s){if(a.ca)a=!0;else{s=new Ko(s,this);var l=a.listener,d=a.ia||a.src;a.fa&&Me(a),a=l.call(d,s)}return a}function mn(a){return(a=a[Ln])instanceof gr?a:null}var cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mr(a){return"function"==typeof a?a:(a[cn]||(a[cn]=function(s){return a.handleEvent(s)}),a[cn])}function sn(){Jn.call(this),this.i=new gr(this),this.P=this,this.I=null}function Ct(a,s){var l,d=a.I;if(d)for(l=[];d;d=d.I)l.push(d);if(a=a.P,d=s.type||s,"string"==typeof s)s=new Ar(s,a);else if(s instanceof Ar)s.target=s.target||a;else{var g=s;gt(s=new Ar(d,a),g)}if(g=!0,l)for(var y=l.length-1;0<=y;y--){var b=s.g=l[y];g=Xr(b,d,!0,s)&&g}if(g=Xr(b=s.g=a,d,!0,s)&&g,g=Xr(b,d,!1,s)&&g,l)for(y=0;y<l.length;y++)g=Xr(b=s.g=l[y],d,!1,s)&&g}function Xr(a,s,l,d){if(!(s=a.i.g[String(s)]))return!0;s=s.concat();for(var g=!0,y=0;y<s.length;++y){var b=s[y];if(b&&!b.ca&&b.capture==l){var C=b.listener,I=b.ia||b.src;b.fa&&Kc(a.i,b),g=!1!==C.call(I,d)&&g}}return g&&!d.defaultPrevented}Et(sn,Jn),sn.prototype[Ti]=!0,sn.prototype.removeEventListener=function(a,s,l,d){Q(this,a,s,l,d)},sn.prototype.M=function(){if(sn.Z.M.call(this),this.i){var s,a=this.i;for(s in a.g){for(var l=a.g[s],d=0;d<l.length;d++)zi(l[d]);delete a.g[s],a.h--}}this.I=null},sn.prototype.N=function(a,s,l,d){return this.i.add(String(a),s,!1,l,d)},sn.prototype.O=function(a,s,l,d){return this.i.add(String(a),s,!0,l,d)};var Ws=we.JSON.stringify;function bh(){var a=Eh,s=null;return a.g&&(s=a.g,a.g=a.g.next,a.g||(a.h=null),s.next=null),s}var Ks,Mn=function(){function a(){this.h=this.g=null}return a.prototype.add=function(s,l){var d=ao.get();d.set(s,l),this.h?this.h.next=d:this.g=d,this.h=d},a}(),ao=new(function(){function a(s,l){this.i=s,this.j=l,this.h=0,this.g=null}return a.prototype.get=function(){var s;return 0<this.h?(this.h--,this.g=(s=this.g).next,s.next=null):s=this.i(),s},a}())(function(){return new vt},function(a){return a.reset()}),vt=function(){function a(){this.next=this.g=this.h=null}return a.prototype.set=function(s,l){this.h=s,this.g=l,this.next=null},a.prototype.reset=function(){this.next=this.g=this.h=null},a}();function Yo(a){we.setTimeout(function(){throw a},0)}function wh(a,s){Ks||function at(){var a=we.Promise.resolve(void 0);Ks=function(){a.then(Ee)}}(),Qo||(Ks(),Qo=!0),Eh.add(a,s)}var Qo=!1,Eh=new Mn;function Ee(){for(var a;a=bh();){try{a.h.call(a.g)}catch(l){Yo(l)}var s=ao;s.j(a),100>s.h&&(s.h++,a.next=s.g,s.g=a)}Qo=!1}function _s(a,s){sn.call(this),this.h=a||1,this.g=s||we,this.j=Xt(this.kb,this),this.l=Date.now()}function lt(a){a.da=!1,a.S&&(a.g.clearTimeout(a.S),a.S=null)}function dn(a,s,l){if("function"==typeof a)l&&(a=Xt(a,l));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=Xt(a.handleEvent,a)}return 2147483647<Number(s)?-1:we.setTimeout(a,s||0)}function Ch(a){a.g=dn(function(){a.g=null,a.i&&(a.i=!1,Ch(a))},a.j);var s=a.h;a.h=null,a.m.apply(null,s)}Et(_s,sn),(se=_s.prototype).da=!1,se.S=null,se.kb=function(){if(this.da){var a=Date.now()-this.l;0<a&&a<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-a):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ct(this,"tick"),this.da&&(lt(this),this.start()))}},se.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},se.M=function(){_s.Z.M.call(this),lt(this),delete this.g};var yp=function(a){function s(l,d){var g=a.call(this)||this;return g.m=l,g.j=d,g.h=null,g.i=!1,g.g=null,g}return function io(a,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=a}zt(a,s),a.prototype=null===s?Object.create(s):(l.prototype=s.prototype,new l)}(s,a),s.prototype.l=function(l){this.h=arguments,this.g?this.i=!0:Ch(this)},s.prototype.M=function(){a.prototype.M.call(this),this.g&&(we.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},s}(Jn);function Va(a){Jn.call(this),this.h=a,this.g={}}Et(Va,Jn);var Xo=[];function kr(a,s,l,d){Array.isArray(l)||(l&&(Xo[0]=l.toString()),l=Xo);for(var g=0;g<l.length;g++){var y=W(s,l[g],d||a.handleEvent,!1,a.h||a);if(!y)break;a.g[y.key]=y}}function Dh(a){Se(a.g,function(s,l){this.g.hasOwnProperty(l)&&Me(s)},a),a.g={}}function Yc(){this.g=!0}function ja(a,s,l,d){a.info(function(){return"XMLHTTP TEXT ("+s+"): "+function Nd(a,s){if(!a.g)return s;if(!s)return null;try{var l=JSON.parse(s);if(l)for(a=0;a<l.length;a++)if(Array.isArray(l[a])){var d=l[a];if(!(2>d.length)){var g=d[1];if(Array.isArray(g)&&!(1>g.length)){var y=g[0];if("noop"!=y&&"stop"!=y&&"close"!=y)for(var b=1;b<g.length;b++)g[b]=""}}}return Ws(l)}catch{return s}}(a,l)+(d?" "+d:"")})}Va.prototype.M=function(){Va.Z.M.call(this),Dh(this)},Va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yc.prototype.Aa=function(){this.g=!1},Yc.prototype.info=function(){};var Zo={},Sh=null;function Ua(){return Sh=Sh||new sn}function Ku(a){Ar.call(this,Zo.Ma,a)}function Ys(a){var s=Ua();Ct(s,new Ku(s,a))}function Zr(a,s){Ar.call(this,Zo.STAT_EVENT,a),this.stat=s}function Mt(a){var s=Ua();Ct(s,new Zr(s,a))}function Fd(a,s){Ar.call(this,Zo.Na,a),this.size=s}function Ha(a,s){if("function"!=typeof a)throw Error("Fn must not be null and must be a function");return we.setTimeout(function(){a()},s)}Zo.Ma="serverreachability",Et(Ku,Ar),Zo.STAT_EVENT="statevent",Et(Zr,Ar),Zo.Na="timingevent",Et(Fd,Ar);var Yu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ne={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ld(){}function Qu(){}Ld.prototype.h=null;var Qs,bs={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Th(){Ar.call(this,"d")}function za(){Ar.call(this,"c")}function ws(){}function Jo(a,s,l,d){this.l=a,this.j=s,this.m=l,this.X=d||1,this.V=new Va(this),this.P=Qc,this.W=new _s(a=En?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ih}function Ih(){this.i=null,this.g="",this.h=!1}Et(Th,Ar),Et(za,Ar),Et(ws,Ld),ws.prototype.g=function(){return new XMLHttpRequest},ws.prototype.i=function(){return{}},Qs=new ws;var Qc=45e3,et={},qa={};function $a(a,s,l){a.K=1,a.v=or(ye(s)),a.s=l,a.U=!0,uo(a,null)}function uo(a,s){a.F=Date.now(),lr(a),a.A=ye(a.v);var l=a.A,d=a.X;Array.isArray(d)||(d=[String(d)]),Ga(l.h,"t",d),a.C=0,l=a.l.H,a.h=new Ih,a.g=im(a.l,l?s:null,!a.s),0<a.O&&(a.L=new yp(Xt(a.Ia,a,a.g),a.O)),kr(a.V,a.g,"readystatechange",a.gb),s=a.H?Ke(a.H):{},a.s?(a.u||(a.u="POST"),s["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.s,s)):(a.u="GET",a.g.ea(a.A,a.u,null,s)),Ys(1),function _p(a,s,l,d,g,y){a.info(function(){if(a.g)if(y)for(var b="",C=y.split("&"),I=0;I<C.length;I++){var O=C[I].split("=");if(1<O.length){var N=O[0];O=O[1];var j=N.split("_");b=2<=j.length&&"type"==j[1]?b+(N+"=")+O+"&":b+(N+"=redacted&")}}else b=null;else b=y;return"XMLHTTP REQ ("+d+") [attempt "+g+"]: "+s+"\n"+l+"\n"+b})}(a.j,a.u,a.A,a.m,a.X,a.s)}function Xc(a){return!!a.g&&"GET"==a.u&&2!=a.K&&a.l.Ba}function jt(a,s,l){for(var g,d=!0;!a.I&&a.C<l.length;){if((g=hi(a,l))==qa){4==s&&(a.o=4,Mt(14),d=!1),ja(a.j,a.m,null,"[Incomplete Response]");break}if(g==et){a.o=4,Mt(15),ja(a.j,a.m,l,"[Invalid Chunk]"),d=!1;break}ja(a.j,a.m,g,null),it(a,g)}Xc(a)&&g!=qa&&g!=et&&(a.h.g="",a.C=0),4!=s||0!=l.length||a.h.h||(a.o=1,Mt(16),d=!1),a.i=a.i&&d,d?0<l.length&&!a.aa&&(a.aa=!0,(s=a.l).g==a&&s.$&&!s.L&&(s.h.info("Great, no buffering proxy detected. Bytes received: "+l.length),ts(s),s.L=!0,Mt(11))):(ja(a.j,a.m,l,"[Invalid Chunked Response]"),Zt(a),Jr(a))}function hi(a,s){var l=a.C,d=s.indexOf("\n",l);return-1==d?qa:(l=Number(s.substring(l,d)),isNaN(l)?et:(d+=1)+l>s.length?qa:(s=s.substr(d,l),a.C=d+l,s))}function lr(a){a.Y=Date.now()+a.P,qi(a,a.P)}function qi(a,s){if(null!=a.B)throw Error("WatchDog timer not null");a.B=Ha(Xt(a.eb,a),s)}function Zc(a){a.B&&(we.clearTimeout(a.B),a.B=null)}function Jr(a){0==a.l.G||a.I||Ss(a.l,a)}function Zt(a){Zc(a);var s=a.L;s&&"function"==typeof s.na&&s.na(),a.L=null,lt(a.W),Dh(a.V),a.g&&(s=a.g,a.g=null,s.abort(),s.na())}function it(a,s){try{var l=a.l;if(0!=l.G&&(l.g==a||Xs(l.i,a)))if(l.I=a.N,!a.J&&Xs(l.i,a)&&3==l.G){try{var d=l.Ca.g.parse(s)}catch{d=null}if(Array.isArray(d)&&3==d.length){var g=d;if(0==g[0]){e:if(!l.u){if(l.g){if(!(l.g.F+3e3<a.F))break e;qd(l),Ai(l)}zd(l),Mt(18)}}else l.ta=g[1],0<l.ta-l.U&&37500>g[2]&&l.N&&0==l.A&&!l.v&&(l.v=Ha(Xt(l.ab,l),6e3));if(1>=Xu(l.i)&&l.ka){try{l.ka()}catch{}l.ka=void 0}}else Qa(l,11)}else if((a.J||l.g==a)&&qd(l),!_e(s))for(g=l.Ca.g.parse(s),s=0;s<g.length;s++){var y=g[s];if(l.U=y[0],y=y[1],2==l.G)if("c"==y[0]){l.J=y[1],l.la=y[2];var b=y[3];null!=b&&(l.ma=b,l.h.info("VER="+l.ma));var C=y[4];null!=C&&(l.za=C,l.h.info("SVER="+l.za));var I=y[5];null!=I&&"number"==typeof I&&0<I&&(l.K=d=1.5*I,l.h.info("backChannelRequestTimeoutMs_="+d)),d=l;var O=a.g;if(O){var N=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(N){var j=d.i;!j.g&&(le(N,"spdy")||le(N,"quic")||le(N,"h2"))&&(j.j=j.l,j.g=new Set,j.h&&(Ii(j,j.h),j.h=null))}if(d.D){var z=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;z&&(d.sa=z,_t(d.F,d.D,z))}}l.G=3,l.j&&l.j.xa(),l.$&&(l.O=Date.now()-a.F,l.h.info("Handshake RTT: "+l.O+"ms"));var J=a;if((d=l).oa=Xa(d,d.H?d.la:null,d.W),J.J){Zs(d.i,J);var ee=J,ae=d.K;ae&&ee.setTimeout(ae),ee.B&&(Zc(ee),lr(ee)),d.g=J}else Kv(d);0<l.l.length&&ec(l)}else"stop"!=y[0]&&"close"!=y[0]||Qa(l,7);else 3==l.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Qa(l,7):wo(l):"noop"!=y[0]&&l.j&&l.j.wa(y),l.A=0)}Ys(4)}catch{}}function es(a,s){if(a.forEach&&"function"==typeof a.forEach)a.forEach(s,void 0);else if(Ae(a)||"string"==typeof a)pt(a,s,void 0);else{if(a.T&&"function"==typeof a.T)var l=a.T();else if(a.R&&"function"==typeof a.R)l=void 0;else if(Ae(a)||"string"==typeof a){l=[];for(var d=a.length,g=0;g<d;g++)l.push(g)}else for(g in l=[],d=0,a)l[d++]=g;d=function er(a){if(a.R&&"function"==typeof a.R)return a.R();if("string"==typeof a)return a.split("");if(Ae(a)){for(var s=[],l=a.length,d=0;d<l;d++)s.push(a[d]);return s}for(d in s=[],l=0,a)s[l++]=a[d];return s}(a),g=d.length;for(var y=0;y<g;y++)s.call(void 0,d[y],l&&l[y],a)}}function k(a,s){this.h={},this.g=[],this.i=0;var l=arguments.length;if(1<l){if(l%2)throw Error("Uneven number of arguments");for(var d=0;d<l;d+=2)this.set(arguments[d],arguments[d+1])}else if(a)if(a instanceof k)for(l=a.T(),d=0;d<l.length;d++)this.set(l[d],a.get(l[d]));else for(d in a)this.set(d,a[d])}function M(a){if(a.i!=a.g.length){for(var s=0,l=0;s<a.g.length;){var d=a.g[s];L(a.h,d)&&(a.g[l++]=d),s++}a.g.length=l}if(a.i!=a.g.length){var g={};for(l=s=0;s<a.g.length;)L(g,d=a.g[s])||(a.g[l++]=d,g[d]=1),s++;a.g.length=l}}function L(a,s){return Object.prototype.hasOwnProperty.call(a,s)}(se=Jo.prototype).setTimeout=function(a){this.P=a},se.gb=function(a){a=a.target;var s=this.L;s&&3==ta(a)?s.l():this.Ia(a)},se.Ia=function(a){try{if(a==this.g)e:{var s=ta(this.g),l=this.g.Da(),d=this.g.ba();if(!(3>s)&&(3!=s||En||this.g&&(this.h.h||this.g.ga()||na(this.g)))){this.I||4!=s||7==l||Ys(8==l||0>=d?3:2),Zc(this);var g=this.g.ba();this.N=g;t:if(Xc(this)){var y=na(this.g);a="";var b=y.length,C=4==ta(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Zt(this),Jr(this);var I="";break t}this.h.i=new we.TextDecoder}for(l=0;l<b;l++)this.h.h=!0,a+=this.h.i.decode(y[l],{stream:C&&l==b-1});y.splice(0,b),this.h.g+=a,this.C=0,I=this.h.g}else I=this.g.ga();if(this.i=200==g,function mr(a,s,l,d,g,y,b){a.info(function(){return"XMLHTTP RESP ("+d+") [ attempt "+g+"]: "+s+"\n"+l+"\n"+y+" "+b})}(this.j,this.u,this.A,this.m,this.X,s,g),this.i){if(this.$&&!this.J){t:{if(this.g){var O,N=this.g;if((O=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_e(O)){var j=O;break t}}j=null}if(!(g=j)){this.i=!1,this.o=3,Mt(12),Zt(this),Jr(this);break e}ja(this.j,this.m,g,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,it(this,g)}this.U?(jt(this,s,I),En&&this.i&&3==s&&(kr(this.V,this.W,"tick",this.fb),this.W.start())):(ja(this.j,this.m,I,null),it(this,I)),4==s&&Zt(this),this.i&&!this.I&&(4==s?Ss(this.l,this):(this.i=!1,lr(this)))}else 400==g&&0<I.indexOf("Unknown SID")?(this.o=3,Mt(12)):(this.o=0,Mt(13)),Zt(this),Jr(this)}}}catch{}},se.fb=function(){if(this.g){var a=ta(this.g),s=this.g.ga();this.C<s.length&&(Zc(this),jt(this,a,s),this.i&&4!=a&&lr(this))}},se.cancel=function(){this.I=!0,Zt(this)},se.eb=function(){this.B=null;var a=Date.now();0<=a-this.Y?(function Wu(a,s){a.info(function(){return"TIMEOUT: "+s})}(this.j,this.A),2!=this.K&&(Ys(3),Mt(17)),Zt(this),this.o=2,Jr(this)):qi(this,this.Y-a)},(se=k.prototype).R=function(){M(this);for(var a=[],s=0;s<this.g.length;s++)a.push(this.h[this.g[s]]);return a},se.T=function(){return M(this),this.g.concat()},se.get=function(a,s){return L(this.h,a)?this.h[a]:s},se.set=function(a,s){L(this.h,a)||(this.i++,this.g.push(a)),this.h[a]=s},se.forEach=function(a,s){for(var l=this.T(),d=0;d<l.length;d++){var g=l[d],y=this.get(g);a.call(s,y,g,this)}};var H=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function te(a,s){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,a instanceof te){this.g=void 0!==s?s:a.g,Ue(this,a.j),this.s=a.s,ve(this,a.i),Ye(this,a.m),this.l=a.l,s=a.h;var l=new Ie;l.i=s.i,s.g&&(l.g=new k(s.g),l.h=s.h),yt(this,l),this.o=a.o}else a&&(l=String(a).match(H))?(this.g=!!s,Ue(this,l[1]||"",!0),this.s=Bn(l[2]||""),ve(this,l[3]||"",!0),Ye(this,l[4]),this.l=Bn(l[5]||"",!0),yt(this,l[6]||"",!0),this.o=Bn(l[7]||"")):(this.g=!!s,this.h=new Ie(null,this.g))}function ye(a){return new te(a)}function Ue(a,s,l){a.j=l?Bn(s,!0):s,a.j&&(a.j=a.j.replace(/:$/,""))}function ve(a,s,l){a.i=l?Bn(s,!0):s}function Ye(a,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);a.m=s}else a.m=null}function yt(a,s,l){s instanceof Ie?(a.h=s,function Es(a,s){s&&!a.j&&(Ze(a),a.i=null,a.g.forEach(function(l,d){var g=d.toLowerCase();d!=g&&(an(this,d),Ga(this,g,l))},a)),a.j=s}(a.h,a.g)):(l||(s=Rt(s,Rr)),a.h=new Ie(s,a.g))}function _t(a,s,l){a.h.set(s,l)}function or(a){return _t(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Bn(a,s){return a?s?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Rt(a,s,l){return"string"==typeof a?(a=encodeURI(a).replace(s,sr),l&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function sr(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}te.prototype.toString=function(){var a=[],s=this.j;s&&a.push(Rt(s,Ut,!0),":");var l=this.i;return(l||"file"==s)&&(a.push("//"),(s=this.s)&&a.push(Rt(s,Ut,!0),"@"),a.push(encodeURIComponent(String(l)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(l=this.m)&&a.push(":",String(l))),(l=this.l)&&(this.i&&"/"!=l.charAt(0)&&a.push("/"),a.push(Rt(l,"/"==l.charAt(0)?Kn:Vn,!0))),(l=this.h.toString())&&a.push("?",l),(l=this.o)&&a.push("#",Rt(l,Nr)),a.join("")};var Ut=/[#\/\?@]/g,Vn=/[#\?:]/g,Kn=/[#\?]/g,Rr=/[#\?@]/g,Nr=/#/g;function Ie(a,s){this.h=this.g=null,this.i=a||null,this.j=!!s}function Ze(a){a.g||(a.g=new k,a.h=0,a.i&&function K(a,s){if(a){a=a.split("&");for(var l=0;l<a.length;l++){var d=a[l].indexOf("="),g=null;if(0<=d){var y=a[l].substring(0,d);g=a[l].substring(d+1)}else y=a[l];s(y,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}(a.i,function(s,l){a.add(decodeURIComponent(s.replace(/\+/g," ")),l)}))}function an(a,s){Ze(a),s=ar(a,s),L(a.g.h,s)&&(a.i=null,a.h-=a.g.get(s).length,L((a=a.g).h,s)&&(delete a.h[s],a.i--,a.g.length>2*a.i&&M(a)))}function ei(a,s){return Ze(a),s=ar(a,s),L(a.g.h,s)}function Ga(a,s,l){an(a,s),0<l.length&&(a.i=null,a.g.set(ar(a,s),ge(l)),a.h+=l.length)}function ar(a,s){return s=String(s),a.j&&(s=s.toLowerCase()),s}(se=Ie.prototype).add=function(a,s){Ze(this),this.i=null,a=ar(this,a);var l=this.g.get(a);return l||this.g.set(a,l=[]),l.push(s),this.h+=1,this},se.forEach=function(a,s){Ze(this),this.g.forEach(function(l,d){pt(l,function(g){a.call(s,g,d,this)},this)},this)},se.T=function(){Ze(this);for(var a=this.g.R(),s=this.g.T(),l=[],d=0;d<s.length;d++)for(var g=a[d],y=0;y<g.length;y++)l.push(s[d]);return l},se.R=function(a){Ze(this);var s=[];if("string"==typeof a)ei(this,a)&&(s=V(s,this.g.get(ar(this,a))));else{a=this.g.R();for(var l=0;l<a.length;l++)s=V(s,a[l])}return s},se.set=function(a,s){return Ze(this),this.i=null,ei(this,a=ar(this,a))&&(this.h-=this.g.get(a).length),this.g.set(a,[s]),this.h+=1,this},se.get=function(a,s){return a&&0<(a=this.R(a)).length?String(a[0]):s},se.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var a=[],s=this.g.T(),l=0;l<s.length;l++){var d=s[l],g=encodeURIComponent(String(d));d=this.R(d);for(var y=0;y<d.length;y++){var b=g;""!==d[y]&&(b+="="+encodeURIComponent(String(d[y]))),a.push(b)}}return this.i=a.join("&")};var Yn=function a(s,l){this.h=s,this.g=l};function Wa(a){this.l=a||Ka,a=we.PerformanceNavigationTiming?0<(a=we.performance.getEntriesByType("navigation")).length&&("hq"==a[0].nextHopProtocol||"h2"==a[0].nextHopProtocol):!!(we.g&&we.g.Ea&&we.g.Ea()&&we.g.Ea().Zb),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ka=10;function Bt(a){return!!a.h||!!a.g&&a.g.size>=a.j}function Xu(a){return a.h?1:a.g?a.g.size:0}function Xs(a,s){return a.h?a.h==s:!!a.g&&a.g.has(s)}function Ii(a,s){a.g?a.g.add(s):a.h=s}function Zs(a,s){a.h&&a.h==s?a.h=null:a.g&&a.g.has(s)&&a.g.delete(s)}function di(a){var s,l;if(null!=a.h)return a.i.concat(a.h.D);if(null!=a.g&&0!==a.g.size){var d=a.i;try{for(var g=Ir(a.g.values()),y=g.next();!y.done;y=g.next())d=d.concat(y.value.D)}catch(C){s={error:C}}finally{try{y&&!y.done&&(l=g.return)&&l.call(g)}finally{if(s)throw s.error}}return d}return ge(a.i)}function Js(){}function ti(){this.g=new Js}function Fo(a,s,l){var d=l||"";try{es(a,function(g,y){var b=g;Fe(g)&&(b=Ws(g)),s.push(d+y+"="+encodeURIComponent(b))})}catch(g){throw s.push(d+"type="+encodeURIComponent("_badmap")),g}}function Jc(a,s,l,d,g){try{s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null,g(d)}catch{}}function In(a){this.l=a.$b||null,this.j=a.ib||!1}function Bd(a,s){sn.call(this),this.D=a,this.u=s,this.m=void 0,this.readyState=el,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wa.prototype.cancel=function(){var a,s;if(this.i=di(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var l=Ir(this.g.values()),d=l.next();!d.done;d=l.next())d.value.cancel()}catch(y){a={error:y}}finally{try{d&&!d.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}this.g.clear()}},Js.prototype.stringify=function(a){return we.JSON.stringify(a,void 0)},Js.prototype.parse=function(a){return we.JSON.parse(a,void 0)},Et(In,Ld),In.prototype.g=function(){return new Bd(this.l,this.j)},In.prototype.i=function(a){return function(){return a}}({}),Et(Bd,sn);var el=0;function Ju(a){a.j.read().then(a.Sa.bind(a)).catch(a.ha.bind(a))}function ea(a){a.readyState=4,a.l=null,a.j=null,a.A=null,ur(a)}function ur(a){a.onreadystatechange&&a.onreadystatechange.call(a)}(se=Bd.prototype).open=function(a,s){if(this.readyState!=el)throw this.abort(),Error("Error reopening a connection");this.C=a,this.B=s,this.readyState=1,ur(this)},se.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var s={headers:this.v,method:this.C,credentials:this.m,cache:void 0};a&&(s.body=a),(this.D||we).fetch(new Request(this.B,s)).then(this.Va.bind(this),this.ha.bind(this))},se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ea(this)),this.readyState=el},se.Va=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ur(this)),this.g&&(this.readyState=3,ur(this),this.g)))if("arraybuffer"===this.responseType)a.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof we.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ju(this)}else a.text().then(this.Ua.bind(this),this.ha.bind(this))},se.Sa=function(a){if(this.g){if(this.u&&a.value)this.response.push(a.value);else if(!this.u){var s=a.value?a.value:new Uint8Array(0);(s=this.A.decode(s,{stream:!a.done}))&&(this.response=this.responseText+=s)}a.done?ea(this):ur(this),3==this.readyState&&Ju(this)}},se.Ua=function(a){this.g&&(this.response=this.responseText=a,ea(this))},se.Ta=function(a){this.g&&(this.response=a,ea(this))},se.ha=function(){this.g&&ea(this)},se.setRequestHeader=function(a,s){this.v.append(a,s)},se.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},se.getAllResponseHeaders=function(){if(!this.h)return"";for(var a=[],s=this.h.entries(),l=s.next();!l.done;)a.push((l=l.value)[0]+": "+l[1]),l=s.next();return a.join("\r\n")},Object.defineProperty(Bd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(a){this.m=a?"include":"same-origin"}});var Ah=we.JSON.parse;function jn(a){sn.call(this),this.headers=new k,this.u=a||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xr,this.K=this.L=!1}Et(jn,sn);var xr="",bp=/^https?$/i,Fr=["POST","PUT"];function Vd(a){return"content-type"==a.toLowerCase()}function Mh(a,s){a.h=!1,a.g&&(a.l=!0,a.g.abort(),a.l=!1),a.j=s,a.m=5,Cs(a),Ds(a)}function Cs(a){a.D||(a.D=!0,Ct(a,"complete"),Ct(a,"error"))}function co(a){if(a.h&&typeof $<"u"&&(!a.C[1]||4!=ta(a)||2!=a.ba()))if(a.v&&4==ta(a))dn(a.Fa,0,a);else if(Ct(a,"readystatechange"),4==ta(a)){a.h=!1;try{var d,s=a.ba();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}if(!(d=l)){var g;if(g=0===s){var y=String(a.H).match(H)[1]||null;if(!y&&we.self&&we.self.location){var b=we.self.location.protocol;y=b.substr(0,b.length-1)}g=!bp.test(y?y.toLowerCase():"")}d=g}if(d)Ct(a,"complete"),Ct(a,"success");else{a.m=6;try{var C=2<ta(a)?a.g.statusText:""}catch{C=""}a.j=C+" ["+a.ba()+"]",Cs(a)}}finally{Ds(a)}}}function Ds(a,s){if(a.g){nm(a);var l=a.g,d=a.C[0]?Re:null;a.g=null,a.C=null,s||Ct(a,"ready");try{l.onreadystatechange=d}catch{}}}function nm(a){a.g&&a.K&&(a.g.ontimeout=null),a.A&&(we.clearTimeout(a.A),a.A=null)}function ta(a){return a.g?a.g.readyState:0}function na(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.J){case xr:case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function tl(a,s,l){e:{for(d in l){var d=!1;break e}d=!0}d||(l=function jd(a){var s="";return Se(a,function(l,d){s+=d,s+=":",s+=l,s+="\r\n"}),s}(l),"string"==typeof a?null!=l&&encodeURIComponent(String(l)):_t(a,s,l))}function nl(a,s,l){return l&&l.internalChannelParams&&l.internalChannelParams[a]||s}function vr(a){this.za=0,this.l=[],this.h=new Yc,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=nl("failFast",!1,a),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=nl("baseRetryDelayMs",5e3,a),this.$a=nl("retryDelaySeedMs",1e4,a),this.Ya=nl("forwardChannelMaxRetries",2,a),this.ra=nl("forwardChannelRequestTimeoutMs",2e4,a),this.qa=a&&a.xmlHttpFactory||void 0,this.Ba=a&&a.Yb||!1,this.K=void 0,this.H=a&&a.supportsCrossDomainXhr||!1,this.J="",this.i=new Wa(a&&a.concurrentRequestLimit),this.Ca=new ti,this.ja=a&&a.fastHandshake||!1,this.Ra=a&&a.Wb||!1,a&&a.Aa&&this.h.Aa(),a&&a.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&a&&a.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!a||!1!==a.Xb}function wo(a){if(Ud(a),3==a.G){var s=a.V++,l=ye(a.F);_t(l,"SID",a.J),_t(l,"RID",s),_t(l,"TYPE","terminate"),Hd(a,l),(s=new Jo(a,a.h,s,void 0)).K=2,s.v=or(ye(l)),l=!1,we.navigator&&we.navigator.sendBeacon&&(l=we.navigator.sendBeacon(s.v.toString(),"")),!l&&we.Image&&((new Image).src=s.v,l=!0),l||(s.g=im(s.l,null),s.g.ea(s.v)),s.F=Date.now(),lr(s)}ra(a)}function Ai(a){a.g&&(ts(a),a.g.cancel(),a.g=null)}function Ud(a){Ai(a),a.u&&(we.clearTimeout(a.u),a.u=null),qd(a),a.i.cancel(),a.m&&("number"==typeof a.m&&we.clearTimeout(a.m),a.m=null)}function rl(a,s){a.l.push(new Yn(a.Za++,s)),3==a.G&&ec(a)}function ec(a){Bt(a.i)||a.m||(a.m=!0,wh(a.Ha,a),a.C=0)}function rm(a,s){var l;l=s?s.m:a.V++;var d=ye(a.F);_t(d,"SID",a.J),_t(d,"RID",l),_t(d,"AID",a.U),Hd(a,d),a.o&&a.s&&tl(d,a.o,a.s),l=new Jo(a,a.h,l,a.C+1),null===a.o&&(l.H=a.s),s&&(a.l=s.D.concat(a.l)),s=Wv(a,l,1e3),l.setTimeout(Math.round(.5*a.ra)+Math.round(.5*a.ra*Math.random())),Ii(a.i,l),$a(l,d,s)}function Hd(a,s){a.j&&es({},function(l,d){_t(s,d,l)})}function Wv(a,s,l){l=Math.min(a.l.length,l);var d=a.j?Xt(a.j.Oa,a.j,a):null;e:for(var g=a.l,y=-1;;){var b=["count="+l];-1==y?0<l?b.push("ofs="+(y=g[0].h)):y=0:b.push("ofs="+y);for(var C=!0,I=0;I<l;I++){var O=g[I].h,N=g[I].g;if(0>(O-=y))y=Math.max(0,g[I].h-100),C=!1;else try{Fo(N,b,"req"+O+"_")}catch{d&&d(N)}}if(C){d=b.join("&");break e}}return a=a.l.splice(0,l),s.D=a,d}function Kv(a){a.g||a.u||(a.Y=1,wh(a.Ga,a),a.A=0)}function zd(a){return!(a.g||a.u||3<=a.A||(a.Y++,a.u=Ha(Xt(a.Ga,a),Ts(a,a.A)),a.A++,0))}function ts(a){null!=a.B&&(we.clearTimeout(a.B),a.B=null)}function Ya(a){a.g=new Jo(a,a.h,"rpc",a.Y),null===a.o&&(a.g.H=a.s),a.g.O=0;var s=ye(a.oa);_t(s,"RID","rpc"),_t(s,"SID",a.J),_t(s,"CI",a.N?"0":"1"),_t(s,"AID",a.U),Hd(a,s),_t(s,"TYPE","xmlhttp"),a.o&&a.s&&tl(s,a.o,a.s),a.K&&a.g.setTimeout(a.K);var l=a.g;a=a.la,l.K=1,l.v=or(ye(s)),l.s=null,l.U=!0,uo(l,a)}function qd(a){null!=a.v&&(we.clearTimeout(a.v),a.v=null)}function Ss(a,s){var l=null;if(a.g==s){qd(a),ts(a),a.g=null;var d=2}else{if(!Xs(a.i,s))return;l=s.D,Zs(a.i,s),d=1}if(a.I=s.N,0!=a.G)if(s.i)if(1==d){l=s.s?s.s.length:0,s=Date.now()-s.F;var g=a.C;Ct(d=Ua(),new Fd(d,l,s,g)),ec(a)}else Kv(a);else if(3==(g=s.o)||0==g&&0<a.I||!(1==d&&function O_(a,s){return!(Xu(a.i)>=a.i.j-(a.m?1:0)||(a.m?(a.l=s.D.concat(a.l),0):1==a.G||2==a.G||a.C>=(a.Xa?0:a.Ya)||(a.m=Ha(Xt(a.Ha,a,s),Ts(a,a.C)),a.C++,0)))}(a,s)||2==d&&zd(a)))switch(l&&0<l.length&&(s=a.i,s.i=s.i.concat(l)),g){case 1:Qa(a,5);break;case 4:Qa(a,10);break;case 3:Qa(a,6);break;default:Qa(a,2)}}function Ts(a,s){var l=a.Pa+Math.floor(Math.random()*a.$a);return a.j||(l*=2),l*s}function Qa(a,s){if(a.h.info("Error code "+s),2==s){var l=null;a.j&&(l=null);var d=Xt(a.jb,a);l||(l=new te("//www.google.com/images/cleardot.gif"),we.location&&"http"==we.location.protocol||Ue(l,"https"),or(l)),function Zu(a,s){var l=new Yc;if(we.Image){var d=new Image;d.onload=Di(Jc,l,d,"TestLoadImage: loaded",!0,s),d.onerror=Di(Jc,l,d,"TestLoadImage: error",!1,s),d.onabort=Di(Jc,l,d,"TestLoadImage: abort",!1,s),d.ontimeout=Di(Jc,l,d,"TestLoadImage: timeout",!1,s),we.setTimeout(function(){d.ontimeout&&d.ontimeout()},1e4),d.src=a}else s(!1)}(l.toString(),d)}else Mt(2);a.G=0,a.j&&a.j.va(s),ra(a),Ud(a)}function ra(a){a.G=0,a.I=-1,a.j&&((0!=di(a.i).length||0!=a.l.length)&&(a.i.i.length=0,ge(a.l),a.l.length=0),a.j.ua())}function Xa(a,s,l){var d=function Nt(a){return a instanceof te?ye(a):new te(a,void 0)}(l);if(""!=d.i)s&&ve(d,s+"."+d.i),Ye(d,d.m);else{var g=we.location;d=function Cn(a,s,l,d){var g=new te(null,void 0);return a&&Ue(g,a),s&&ve(g,s),l&&Ye(g,l),d&&(g.l=d),g}(g.protocol,s?s+"."+g.hostname:g.hostname,+g.port,l)}return a.aa&&Se(a.aa,function(y,b){_t(d,b,y)}),l=a.sa,(s=a.D)&&l&&_t(d,s,l),_t(d,"VER",a.ma),Hd(a,d),d}function im(a,s,l){if(s&&!a.H)throw Error("Can't create secondary domain capable XhrIo object.");return(s=new jn(l&&a.Ba&&!a.qa?new In({ib:!0}):a.qa)).L=a.H,s}function wp(){}function kh(){if(Qr&&!(10<=Number(so)))throw Error("Environmental error: no available transport.")}function Mi(a,s){sn.call(this),this.g=new vr(s),this.l=a,this.h=s&&s.messageUrlParams||null,a=s&&s.messageHeaders||null,s&&s.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.s=a,a=s&&s.initMessageHeaders||null,s&&s.messageContentType&&(a?a["X-WebChannel-Content-Type"]=s.messageContentType:a={"X-WebChannel-Content-Type":s.messageContentType}),s&&s.ya&&(a?a["X-WebChannel-Client-Profile"]=s.ya:a={"X-WebChannel-Client-Profile":s.ya}),this.g.P=a,(a=s&&s.httpHeadersOverwriteParam)&&!_e(a)&&(this.g.o=a),this.A=s&&s.supportsCrossDomainXhr||!1,this.v=s&&s.sendRawJson||!1,(s=s&&s.httpSessionIdParam)&&!_e(s)&&(this.g.D=s,null!==(a=this.h)&&s in a&&s in(a=this.h)&&delete a[s]),this.j=new tc(this)}function Ep(a){Th.call(this);var s=a.__sm__;if(s){e:{for(var l in s){a=l;break e}a=void 0}(this.i=a)&&(a=this.i,s=null!==s&&a in s?s[a]:void 0),this.data=s}else this.data=a}function $d(){za.call(this),this.status=1}function tc(a){this.g=a}(se=jn.prototype).ea=function(a,s,l,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+a);s=s?s.toUpperCase():"GET",this.H=a,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Qs.g(),this.C=function fn(a){return a.h||(a.h=a.i())}(this.u?this.u:Qs),this.g.onreadystatechange=Xt(this.Fa,this);try{this.F=!0,this.g.open(s,String(a),!0),this.F=!1}catch(y){return void Mh(this,y)}a=l||"";var g=new k(this.headers);d&&es(d,function(y,b){g.set(b,y)}),d=function de(a){e:{for(var s=Vd,l=a.length,d="string"==typeof a?a.split(""):a,g=0;g<l;g++)if(g in d&&s.call(void 0,d[g],g,a)){s=g;break e}s=-1}return 0>s?null:"string"==typeof a?a.charAt(s):a[s]}(g.T()),l=we.FormData&&a instanceof we.FormData,!(0<=oo(Fr,s))||d||l||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),g.forEach(function(y,b){this.g.setRequestHeader(b,y)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{nm(this),0<this.B&&((this.K=function Lo(a){return Qr&&function yn(){return function Si(a){var s=Un;return Object.prototype.hasOwnProperty.call(s,9)?s[9]:s[9]=a(9)}(function(){for(var a=0,s=Pe(String(rn)).split("."),l=Pe("9").split("."),d=Math.max(s.length,l.length),g=0;0==a&&g<d;g++){var y=s[g]||"",b=l[g]||"";do{if(y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],0==y[0].length&&0==b[0].length)break;a=ct(0==y[1].length?0:parseInt(y[1],10),0==b[1].length?0:parseInt(b[1],10))||ct(0==y[2].length,0==b[2].length)||ct(y[2],b[2]),y=y[3],b=b[3]}while(0==a)}return 0<=a})}()&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xt(this.pa,this)):this.A=dn(this.pa,this.B,this)),this.v=!0,this.g.send(a),this.v=!1}catch(y){Mh(this,y)}},se.pa=function(){typeof $<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ct(this,"timeout"),this.abort(8))},se.abort=function(a){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=a||7,Ct(this,"complete"),Ct(this,"abort"),Ds(this))},se.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ds(this,!0)),jn.Z.M.call(this)},se.Fa=function(){this.s||(this.F||this.v||this.l?co(this):this.cb())},se.cb=function(){co(this)},se.ba=function(){try{return 2<ta(this)?this.g.status:-1}catch{return-1}},se.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},se.Qa=function(a){if(this.g){var s=this.g.responseText;return a&&0==s.indexOf(a)&&(s=s.substring(a.length)),Ah(s)}},se.Da=function(){return this.m},se.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(se=vr.prototype).ma=8,se.G=1,se.hb=function(a){try{this.h.info("Origin Trials invoked: "+a)}catch{}},se.Ha=function(a){if(this.m)if(this.m=null,1==this.G){if(!a){this.V=Math.floor(1e5*Math.random()),a=this.V++;var s=new Jo(this,this.h,a,void 0),l=this.s;if(this.P&&(l?gt(l=Ke(l),this.P):l=this.P),null===this.o&&(s.H=l),this.ja)e:{for(var d=0,g=0;g<this.l.length;g++){var y=this.l[g];if(void 0===(y="__data__"in y.g&&"string"==typeof(y=y.g.__data__)?y.length:void 0))break;if(4096<(d+=y)){d=g;break e}if(4096===d||g===this.l.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=Wv(this,s,d),_t(g=ye(this.F),"RID",a),_t(g,"CVER",22),this.D&&_t(g,"X-HTTP-Session-Id",this.D),Hd(this,g),this.o&&l&&tl(g,this.o,l),Ii(this.i,s),this.Ra&&_t(g,"TYPE","init"),this.ja?(_t(g,"$req",d),_t(g,"SID","null"),s.$=!0,$a(s,g,null)):$a(s,g,d),this.G=2}}else 3==this.G&&(a?rm(this,a):0==this.l.length||Bt(this.i)||rm(this))},se.Ga=function(){if(this.u=null,Ya(this),this.$&&!(this.L||null==this.g||0>=this.O)){var a=2*this.O;this.h.info("BP detection timer enabled: "+a),this.B=Ha(Xt(this.bb,this),a)}},se.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Mt(10),Ai(this),Ya(this))},se.ab=function(){null!=this.v&&(this.v=null,Ai(this),zd(this),Mt(19))},se.jb=function(a){a?(this.h.info("Successfully pinged google.com"),Mt(2)):(this.h.info("Failed to ping google.com"),Mt(1))},(se=wp.prototype).xa=function(){},se.wa=function(){},se.va=function(){},se.ua=function(){},se.Oa=function(){},kh.prototype.g=function(a,s){return new Mi(a,s)},Et(Mi,sn),Mi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var a=this.g,s=this.l,l=this.h||void 0;a.Wa&&(a.h.info("Origin Trials enabled."),wh(Xt(a.hb,a,s))),Mt(0),a.W=s,a.aa=l||{},a.N=a.X,a.F=Xa(a,null,a.W),ec(a)},Mi.prototype.close=function(){wo(this.g)},Mi.prototype.u=function(a){if("string"==typeof a){var s={};s.__data__=a,rl(this.g,s)}else this.v?((s={}).__data__=Ws(a),rl(this.g,s)):rl(this.g,a)},Mi.prototype.M=function(){this.g.j=null,delete this.j,wo(this.g),delete this.g,Mi.Z.M.call(this)},Et(Ep,Th),Et($d,za),Et(tc,wp),tc.prototype.xa=function(){Ct(this.g,"a")},tc.prototype.wa=function(a){Ct(this.g,new Ep(a))},tc.prototype.va=function(a){Ct(this.g,new $d(a))},tc.prototype.ua=function(){Ct(this.g,"b")},kh.prototype.createWebChannel=kh.prototype.g,Mi.prototype.send=Mi.prototype.u,Mi.prototype.open=Mi.prototype.m,Mi.prototype.close=Mi.prototype.close,Yu.NO_ERROR=0,Yu.TIMEOUT=8,Yu.HTTP_ERROR=6,Ne.COMPLETE="complete",Qu.EventType=bs,bs.OPEN="a",bs.CLOSE="b",bs.ERROR="c",bs.MESSAGE="d",sn.prototype.listen=sn.prototype.N,jn.prototype.listenOnce=jn.prototype.O,jn.prototype.getLastError=jn.prototype.La,jn.prototype.getLastErrorCode=jn.prototype.Da,jn.prototype.getStatus=jn.prototype.ba,jn.prototype.getResponseJson=jn.prototype.Qa,jn.prototype.getResponseText=jn.prototype.ga,jn.prototype.send=jn.prototype.ea;var Rh=Yu,xh=Ne,om=Zo,Cp_PROXY=10,Cp_NOPROXY=11,zn=In,il=Qu,Yv=jn,ki=function(){function a(s,l){var d=this;this.previousValue=s,l&&(l.sequenceNumberHandler=function(g){return d.t(g)},this.i=function(g){return l.writeSequenceNumber(g)})}return a.prototype.t=function(s){return this.previousValue=Math.max(s,this.previousValue),this.previousValue},a.prototype.next=function(){var s=++this.previousValue;return this.i&&this.i(s),s},a}();ki.o=-1;var oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},be=function(a){function s(l,d){var g=this;return(g=a.call(this,d)||this).code=l,g.message=d,g.name="FirebaseError",g.toString=function(){return g.name+": [code="+g.code+"]: "+g.message},g}return(0,T.ZT)(s,a),s}(Error),tr=new ot.Yd("@firebase/firestore");function lo(){return tr.logLevel}function De(a){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];if(tr.logLevel<=ot.in.DEBUG){var d=s.map(ol);tr.debug.apply(tr,(0,T.ev)(["Firestore (8.10.1): "+a],d))}}function yr(a){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];if(tr.logLevel<=ot.in.ERROR){var d=s.map(ol);tr.error.apply(tr,(0,T.ev)(["Firestore (8.10.1): "+a],d))}}function Bo(a){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];if(tr.logLevel<=ot.in.WARN){var d=s.map(ol);tr.warn.apply(tr,(0,T.ev)(["Firestore (8.10.1): "+a],d))}}function ol(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function Je(a){void 0===a&&(a="Unexpected state");var s="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+a;throw yr(s),new Error(s)}function Ce(a,s){a||Je()}function Le(a,s){return a}function Oh(a){var s=typeof self<"u"&&(self.crypto||self.msCrypto),l=new Uint8Array(a);if(s&&"function"==typeof s.getRandomValues)s.getRandomValues(l);else for(var d=0;d<a;d++)l[d]=Math.floor(256*Math.random());return l}var ni=function(){function a(){}return a.u=function(){for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",l=Math.floor(256/s.length)*s.length,d="";d.length<20;)for(var g=Oh(40),y=0;y<g.length;++y)d.length<20&&g[y]<l&&(d+=s.charAt(g[y]%s.length));return d},a}();function tt(a,s){return a<s?-1:a>s?1:0}function Ja(a,s,l){return a.length===s.length&&a.every(function(d,g){return l(d,s[g])})}function ia(a){return a+"\0"}var fi=function(){function a(s,l){if(this.seconds=s,this.nanoseconds=l,l<0)throw new be(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+l);if(l>=1e9)throw new be(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+l);if(s<-62135596800)throw new be(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+s);if(s>=253402300800)throw new be(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+s)}return a.now=function(){return a.fromMillis(Date.now())},a.fromDate=function(s){return a.fromMillis(s.getTime())},a.fromMillis=function(s){var l=Math.floor(s/1e3);return new a(l,Math.floor(1e6*(s-1e3*l)))},a.prototype.toDate=function(){return new Date(this.toMillis())},a.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},a.prototype._compareTo=function(s){return this.seconds===s.seconds?tt(this.nanoseconds,s.nanoseconds):tt(this.seconds,s.seconds)},a.prototype.isEqual=function(s){return s.seconds===this.seconds&&s.nanoseconds===this.nanoseconds},a.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},a.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},a.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},a}(),Ft=function(){function a(s){this.timestamp=s}return a.fromTimestamp=function(s){return new a(s)},a.min=function(){return new a(new fi(0,0))},a.prototype.compareTo=function(s){return this.timestamp._compareTo(s.timestamp)},a.prototype.isEqual=function(s){return this.timestamp.isEqual(s.timestamp)},a.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},a.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},a.prototype.toTimestamp=function(){return this.timestamp},a}();function me(a){var s=0;for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&s++;return s}function Lt(a,s){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&s(l,a[l])}function Gi(a){for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s))return!1;return!0}var Lr=function(){function a(s,l,d){void 0===l?l=0:l>s.length&&Je(),void 0===d?d=s.length-l:d>s.length-l&&Je(),this.segments=s,this.offset=l,this.len=d}return Object.defineProperty(a.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(s){return 0===a.comparator(this,s)},a.prototype.child=function(s){var l=this.segments.slice(this.offset,this.limit());return s instanceof a?s.forEach(function(d){l.push(d)}):l.push(s),this.construct(l)},a.prototype.limit=function(){return this.offset+this.length},a.prototype.popFirst=function(s){return this.construct(this.segments,this.offset+(s=void 0===s?1:s),this.length-s)},a.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},a.prototype.firstSegment=function(){return this.segments[this.offset]},a.prototype.lastSegment=function(){return this.get(this.length-1)},a.prototype.get=function(s){return this.segments[this.offset+s]},a.prototype.isEmpty=function(){return 0===this.length},a.prototype.isPrefixOf=function(s){if(s.length<this.length)return!1;for(var l=0;l<this.length;l++)if(this.get(l)!==s.get(l))return!1;return!0},a.prototype.isImmediateParentOf=function(s){if(this.length+1!==s.length)return!1;for(var l=0;l<this.length;l++)if(this.get(l)!==s.get(l))return!1;return!0},a.prototype.forEach=function(s){for(var l=this.offset,d=this.limit();l<d;l++)s(this.segments[l])},a.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},a.comparator=function(s,l){for(var d=Math.min(s.length,l.length),g=0;g<d;g++){var y=s.get(g),b=l.get(g);if(y<b)return-1;if(y>b)return 1}return s.length<l.length?-1:s.length>l.length?1:0},a}(),ut=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,T.ZT)(s,a),s.prototype.construct=function(l,d,g){return new s(l,d,g)},s.prototype.canonicalString=function(){return this.toArray().join("/")},s.prototype.toString=function(){return this.canonicalString()},s.fromString=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];for(var g=[],y=0,b=l;y<b.length;y++){var C=b[y];if(C.indexOf("//")>=0)throw new be(oe.INVALID_ARGUMENT,"Invalid segment ("+C+"). Paths must not contain // in them.");g.push.apply(g,C.split("/").filter(function(I){return I.length>0}))}return new s(g)},s.emptyPath=function(){return new s([])},s}(Lr),Sp=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ri=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,T.ZT)(s,a),s.prototype.construct=function(l,d,g){return new s(l,d,g)},s.isValidIdentifier=function(l){return Sp.test(l)},s.prototype.canonicalString=function(){return this.toArray().map(function(l){return l=l.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),s.isValidIdentifier(l)||(l="`"+l+"`"),l}).join(".")},s.prototype.toString=function(){return this.canonicalString()},s.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},s.keyField=function(){return new s(["__name__"])},s.fromServerFormat=function(l){for(var d=[],g="",y=0,b=function(){if(0===g.length)throw new be(oe.INVALID_ARGUMENT,"Invalid field path ("+l+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");d.push(g),g=""},C=!1;y<l.length;){var I=l[y];if("\\"===I){if(y+1===l.length)throw new be(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+l);var O=l[y+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new be(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+l);g+=O,y+=2}else"`"===I?(C=!C,y++):"."!==I||C?(g+=I,y++):(b(),y++)}if(b(),C)throw new be(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+l);return new s(d)},s.emptyPath=function(){return new s([])},s}(Lr),hr=function(){function a(s){this.fields=s,s.sort(Ri.comparator)}return a.prototype.covers=function(s){for(var l=0,d=this.fields;l<d.length;l++)if(d[l].isPrefixOf(s))return!0;return!1},a.prototype.isEqual=function(s){return Ja(this.fields,s.fields,function(l,d){return l.isEqual(d)})},a}(),Br=function(){function a(s){this.binaryString=s}return a.fromBase64String=function(s){return new a(atob(s))},a.fromUint8Array=function(s){return new a(function(l){for(var d="",g=0;g<l.length;++g)d+=String.fromCharCode(l[g]);return d}(s))},a.prototype.toBase64=function(){return btoa(this.binaryString)},a.prototype.toUint8Array=function(){return function(s){for(var l=new Uint8Array(s.length),d=0;d<s.length;d++)l[d]=s.charCodeAt(d);return l}(this.binaryString)},a.prototype.approximateByteSize=function(){return 2*this.binaryString.length},a.prototype.compareTo=function(s){return tt(this.binaryString,s.binaryString)},a.prototype.isEqual=function(s){return this.binaryString===s.binaryString},a}();Br.EMPTY_BYTE_STRING=new Br("");var Tp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(a){if(Ce(!!a),"string"==typeof a){var s=0,l=Tp.exec(a);if(Ce(!!l),l[1]){var d=l[1];d=(d+"000000000").substr(0,9),s=Number(d)}var g=new Date(a);return{seconds:Math.floor(g.getTime()/1e3),nanos:s}}return{seconds:_r(a.seconds),nanos:_r(a.nanos)}}function _r(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function Ph(a){return"string"==typeof a?Br.fromBase64String(a):Br.fromUint8Array(a)}function sl(a){var s,l;return"server_timestamp"===(null===(l=((null===(s=a?.mapValue)||void 0===s?void 0:s.fields)||{}).__type__)||void 0===l?void 0:l.stringValue)}function pi(a){var s=a.mapValue.fields.__previous_value__;return sl(s)?pi(s):s}function Wi(a){var s=rs(a.mapValue.fields.__local_write_time__.timestampValue);return new fi(s.seconds,s.nanos)}function Is(a){return null==a}function is(a){return 0===a&&1/a==-1/0}function He(a){return"number"==typeof a&&Number.isInteger(a)&&!is(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}var ze=function(){function a(s){this.path=s}return a.fromPath=function(s){return new a(ut.fromString(s))},a.fromName=function(s){return new a(ut.fromString(s).popFirst(5))},a.prototype.hasCollectionId=function(s){return this.path.length>=2&&this.path.get(this.path.length-2)===s},a.prototype.isEqual=function(s){return null!==s&&0===ut.comparator(this.path,s.path)},a.prototype.toString=function(){return this.path.toString()},a.comparator=function(s,l){return ut.comparator(s.path,l.path)},a.isDocumentKey=function(s){return s.length%2==0},a.fromSegments=function(s){return new a(new ut(s.slice()))},a}();function gi(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?sl(a)?4:10:Je()}function As(a,s){var g,l=gi(a);if(l!==gi(s))return!1;switch(l){case 0:return!0;case 1:return a.booleanValue===s.booleanValue;case 4:return Wi(a).isEqual(Wi(s));case 3:return function(d,g){if("string"==typeof d.timestampValue&&"string"==typeof g.timestampValue&&d.timestampValue.length===g.timestampValue.length)return d.timestampValue===g.timestampValue;var y=rs(d.timestampValue),b=rs(g.timestampValue);return y.seconds===b.seconds&&y.nanos===b.nanos}(a,s);case 5:return a.stringValue===s.stringValue;case 6:return g=s,Ph(a.bytesValue).isEqual(Ph(g.bytesValue));case 7:return a.referenceValue===s.referenceValue;case 8:return function(d,g){return _r(d.geoPointValue.latitude)===_r(g.geoPointValue.latitude)&&_r(d.geoPointValue.longitude)===_r(g.geoPointValue.longitude)}(a,s);case 2:return function(d,g){if("integerValue"in d&&"integerValue"in g)return _r(d.integerValue)===_r(g.integerValue);if("doubleValue"in d&&"doubleValue"in g){var y=_r(d.doubleValue),b=_r(g.doubleValue);return y===b?is(y)===is(b):isNaN(y)&&isNaN(b)}return!1}(a,s);case 9:return Ja(a.arrayValue.values||[],s.arrayValue.values||[],As);case 10:return function(d,g){var y=d.mapValue.fields||{},b=g.mapValue.fields||{};if(me(y)!==me(b))return!1;for(var C in y)if(y.hasOwnProperty(C)&&(void 0===b[C]||!As(y[C],b[C])))return!1;return!0}(a,s);default:return Je()}}function Nh(a,s){return void 0!==(a.values||[]).find(function(l){return As(l,s)})}function Ms(a,s){var g,y,b,C,l=gi(a),d=gi(s);if(l!==d)return tt(l,d);switch(l){case 0:return 0;case 1:return tt(a.booleanValue,s.booleanValue);case 2:return y=s,(b=_r((g=a).integerValue||g.doubleValue))<(C=_r(y.integerValue||y.doubleValue))?-1:b>C?1:b===C?0:isNaN(b)?isNaN(C)?0:-1:1;case 3:return al(a.timestampValue,s.timestampValue);case 4:return al(Wi(a),Wi(s));case 5:return tt(a.stringValue,s.stringValue);case 6:return function(g,y){var b=Ph(g),C=Ph(y);return b.compareTo(C)}(a.bytesValue,s.bytesValue);case 7:return function(g,y){for(var b=g.split("/"),C=y.split("/"),I=0;I<b.length&&I<C.length;I++){var O=tt(b[I],C[I]);if(0!==O)return O}return tt(b.length,C.length)}(a.referenceValue,s.referenceValue);case 8:return function(g,y){var b=tt(_r(g.latitude),_r(y.latitude));return 0!==b?b:tt(_r(g.longitude),_r(y.longitude))}(a.geoPointValue,s.geoPointValue);case 9:return function(g,y){for(var b=g.values||[],C=y.values||[],I=0;I<b.length&&I<C.length;++I){var O=Ms(b[I],C[I]);if(O)return O}return tt(b.length,C.length)}(a.arrayValue,s.arrayValue);case 10:return function(g,y){var b=g.fields||{},C=Object.keys(b),I=y.fields||{},O=Object.keys(I);C.sort(),O.sort();for(var N=0;N<C.length&&N<O.length;++N){var j=tt(C[N],O[N]);if(0!==j)return j;var z=Ms(b[C[N]],I[O[N]]);if(0!==z)return z}return tt(C.length,O.length)}(a.mapValue,s.mapValue);default:throw Je()}}function al(a,s){if("string"==typeof a&&"string"==typeof s&&a.length===s.length)return tt(a,s);var l=rs(a),d=rs(s),g=tt(l.seconds,d.seconds);return 0!==g?g:tt(l.nanos,d.nanos)}function ul(a){return cl(a)}function cl(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?"time("+(g=rs(a.timestampValue)).seconds+","+g.nanos+")":"stringValue"in a?a.stringValue:"bytesValue"in a?Ph(a.bytesValue).toBase64():"referenceValue"in a?ze.fromName(a.referenceValue).toString():"geoPointValue"in a?"geo("+(s=a.geoPointValue).latitude+","+s.longitude+")":"arrayValue"in a?function(d){for(var g="[",y=!0,b=0,C=d.values||[];b<C.length;b++)y?y=!1:g+=",",g+=cl(C[b]);return g+"]"}(a.arrayValue):"mapValue"in a?function(d){for(var g="{",y=!0,b=0,C=Object.keys(d.fields||{}).sort();b<C.length;b++){var I=C[b];y?y=!1:g+=",",g+=I+":"+cl(d.fields[I])}return g+"}"}(a.mapValue):Je();var g,s}function ll(a,s){return{referenceValue:"projects/"+a.projectId+"/databases/"+a.database+"/documents/"+s.path.canonicalString()}}function hl(a){return!!a&&"integerValue"in a}function nc(a){return!!a&&"arrayValue"in a}function rc(a){return!!a&&"nullValue"in a}function Ip(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function ic(a){return!!a&&"mapValue"in a}function oa(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){var s={mapValue:{fields:{}}};return Lt(a.mapValue.fields,function(g,y){return s.mapValue.fields[g]=oa(y)}),s}if(a.arrayValue){for(var l={arrayValue:{values:[]}},d=0;d<(a.arrayValue.values||[]).length;++d)l.arrayValue.values[d]=oa(a.arrayValue.values[d]);return l}return Object.assign({},a)}var Vr=function(){function a(s){this.value=s}return a.empty=function(){return new a({mapValue:{}})},a.prototype.field=function(s){if(s.isEmpty())return this.value;for(var l=this.value,d=0;d<s.length-1;++d)if(!ic(l=(l.mapValue.fields||{})[s.get(d)]))return null;return(l=(l.mapValue.fields||{})[s.lastSegment()])||null},a.prototype.set=function(s,l){this.getFieldsMap(s.popLast())[s.lastSegment()]=oa(l)},a.prototype.setAll=function(s){var l=this,d=Ri.emptyPath(),g={},y=[];s.forEach(function(C,I){if(!d.isImmediateParentOf(I)){var O=l.getFieldsMap(d);l.applyChanges(O,g,y),g={},y=[],d=I.popLast()}C?g[I.lastSegment()]=oa(C):y.push(I.lastSegment())});var b=this.getFieldsMap(d);this.applyChanges(b,g,y)},a.prototype.delete=function(s){var l=this.field(s.popLast());ic(l)&&l.mapValue.fields&&delete l.mapValue.fields[s.lastSegment()]},a.prototype.isEqual=function(s){return As(this.value,s.value)},a.prototype.getFieldsMap=function(s){var l=this.value;l.mapValue.fields||(l.mapValue={fields:{}});for(var d=0;d<s.length;++d){var g=l.mapValue.fields[s.get(d)];ic(g)&&g.mapValue.fields||(g={mapValue:{fields:{}}},l.mapValue.fields[s.get(d)]=g),l=g}return l.mapValue.fields},a.prototype.applyChanges=function(s,l,d){Lt(l,function(C,I){return s[C]=I});for(var g=0,y=d;g<y.length;g++)delete s[y[g]]},a.prototype.clone=function(){return new a(oa(this.value))},a}();function sm(a){var s=[];return Lt(a.fields,function(l,d){var g=new Ri([l]);if(ic(d)){var y=sm(d.mapValue).fields;if(0===y.length)s.push(g);else for(var b=0,C=y;b<C.length;b++)s.push(g.child(C[b]))}else s.push(g)}),new hr(s)}var mi=function(){function a(s,l,d,g,y){this.key=s,this.documentType=l,this.version=d,this.data=g,this.documentState=y}return a.newInvalidDocument=function(s){return new a(s,0,Ft.min(),Vr.empty(),0)},a.newFoundDocument=function(s,l,d){return new a(s,1,l,d,0)},a.newNoDocument=function(s,l){return new a(s,2,l,Vr.empty(),0)},a.newUnknownDocument=function(s,l){return new a(s,3,l,Vr.empty(),2)},a.prototype.convertToFoundDocument=function(s,l){return this.version=s,this.documentType=1,this.data=l,this.documentState=0,this},a.prototype.convertToNoDocument=function(s){return this.version=s,this.documentType=2,this.data=Vr.empty(),this.documentState=0,this},a.prototype.convertToUnknownDocument=function(s){return this.version=s,this.documentType=3,this.data=Vr.empty(),this.documentState=2,this},a.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},a.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(a.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),a.prototype.isValidDocument=function(){return 0!==this.documentType},a.prototype.isFoundDocument=function(){return 1===this.documentType},a.prototype.isNoDocument=function(){return 2===this.documentType},a.prototype.isUnknownDocument=function(){return 3===this.documentType},a.prototype.isEqual=function(s){return s instanceof a&&this.key.isEqual(s.key)&&this.version.isEqual(s.version)&&this.documentType===s.documentType&&this.documentState===s.documentState&&this.data.isEqual(s.data)},a.prototype.clone=function(){return new a(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},a.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},a}(),Ki=function(a,s,l,d,g,y,b){void 0===s&&(s=null),void 0===l&&(l=[]),void 0===d&&(d=[]),void 0===g&&(g=null),void 0===y&&(y=null),void 0===b&&(b=null),this.path=a,this.collectionGroup=s,this.orderBy=l,this.filters=d,this.limit=g,this.startAt=y,this.endAt=b,this.h=null};function sa(a,s,l,d,g,y,b){return void 0===s&&(s=null),void 0===l&&(l=[]),void 0===d&&(d=[]),void 0===g&&(g=null),void 0===y&&(y=null),void 0===b&&(b=null),new Ki(a,s,l,d,g,y,b)}function qn(a){var s=Le(a);if(null===s.h){var l=s.path.canonicalString();null!==s.collectionGroup&&(l+="|cg:"+s.collectionGroup),l+="|f:",l+=s.filters.map(function(d){return(g=d).field.canonicalString()+g.op.toString()+ul(g.value);var g}).join(","),l+="|ob:",l+=s.orderBy.map(function(d){return(g=d).field.canonicalString()+g.dir;var g}).join(","),Is(s.limit)||(l+="|l:",l+=s.limit),s.startAt&&(l+="|lb:",l+=os(s.startAt)),s.endAt&&(l+="|ub:",l+=os(s.endAt)),s.h=l}return s.h}function Fh(a,s){if(a.limit!==s.limit||a.orderBy.length!==s.orderBy.length)return!1;for(var l=0;l<a.orderBy.length;l++)if(!Kd(a.orderBy[l],s.orderBy[l]))return!1;if(a.filters.length!==s.filters.length)return!1;for(var d=0;d<a.filters.length;d++)if((g=a.filters[d]).op!==(y=s.filters[d]).op||!g.field.isEqual(y.field)||!As(g.value,y.value))return!1;var g,y;return a.collectionGroup===s.collectionGroup&&!!a.path.isEqual(s.path)&&!!oc(a.startAt,s.startAt)&&oc(a.endAt,s.endAt)}function Gd(a){return ze.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}var ho=function(a){function s(l,d,g){var y=this;return(y=a.call(this)||this).field=l,y.op=d,y.value=g,y}return(0,T.ZT)(s,a),s.create=function(l,d,g){return l.isKeyField()?"in"===d||"not-in"===d?this.l(l,d,g):new Qv(l,d,g):"array-contains"===d?new Lh(l,g):"in"===d?new Wd(l,g):"not-in"===d?new Mp(l,g):"array-contains-any"===d?new kp(l,g):new s(l,d,g)},s.l=function(l,d,g){return"in"===d?new Xv(l,g):new Ap(l,g)},s.prototype.matches=function(l){var d=l.data.field(this.field);return"!="===this.op?null!==d&&this.m(Ms(d,this.value)):null!==d&&gi(this.value)===gi(d)&&this.m(Ms(d,this.value))},s.prototype.m=function(l){switch(this.op){case"<":return l<0;case"<=":return l<=0;case"==":return 0===l;case"!=":return 0!==l;case">":return l>0;case">=":return l>=0;default:return Je()}},s.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},s}(function(){}),Qv=function(a){function s(l,d,g){var y=this;return(y=a.call(this,l,d,g)||this).key=ze.fromName(g.referenceValue),y}return(0,T.ZT)(s,a),s.prototype.matches=function(l){var d=ze.comparator(l.key,this.key);return this.m(d)},s}(ho),Xv=function(a){function s(l,d){var g=this;return(g=a.call(this,l,"in",d)||this).keys=dl(0,d),g}return(0,T.ZT)(s,a),s.prototype.matches=function(l){return this.keys.some(function(d){return d.isEqual(l.key)})},s}(ho),Ap=function(a){function s(l,d){var g=this;return(g=a.call(this,l,"not-in",d)||this).keys=dl(0,d),g}return(0,T.ZT)(s,a),s.prototype.matches=function(l){return!this.keys.some(function(d){return d.isEqual(l.key)})},s}(ho);function dl(a,s){var l;return((null===(l=s.arrayValue)||void 0===l?void 0:l.values)||[]).map(function(d){return ze.fromName(d.referenceValue)})}var Lh=function(a){function s(l,d){return a.call(this,l,"array-contains",d)||this}return(0,T.ZT)(s,a),s.prototype.matches=function(l){var d=l.data.field(this.field);return nc(d)&&Nh(d.arrayValue,this.value)},s}(ho),Wd=function(a){function s(l,d){return a.call(this,l,"in",d)||this}return(0,T.ZT)(s,a),s.prototype.matches=function(l){var d=l.data.field(this.field);return null!==d&&Nh(this.value.arrayValue,d)},s}(ho),Mp=function(a){function s(l,d){return a.call(this,l,"not-in",d)||this}return(0,T.ZT)(s,a),s.prototype.matches=function(l){if(Nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var d=l.data.field(this.field);return null!==d&&!Nh(this.value.arrayValue,d)},s}(ho),kp=function(a){function s(l,d){return a.call(this,l,"array-contains-any",d)||this}return(0,T.ZT)(s,a),s.prototype.matches=function(l){var d=this,g=l.data.field(this.field);return!(!nc(g)||!g.arrayValue.values)&&g.arrayValue.values.some(function(y){return Nh(d.value.arrayValue,y)})},s}(ho),Bh=function(a,s){this.position=a,this.before=s};function os(a){return(a.before?"b":"a")+":"+a.position.map(function(s){return ul(s)}).join(",")}var ss=function(a,s){void 0===s&&(s="asc"),this.field=a,this.dir=s};function Kd(a,s){return a.dir===s.dir&&a.field.isEqual(s.field)}function Rp(a,s,l){for(var d=0,g=0;g<a.position.length;g++){var y=s[g],b=a.position[g];if(d=y.field.isKeyField()?ze.comparator(ze.fromName(b.referenceValue),l.key):Ms(b,l.data.field(y.field)),"desc"===y.dir&&(d*=-1),0!==d)break}return a.before?d<=0:d<0}function oc(a,s){if(null===a)return null===s;if(null===s||a.before!==s.before||a.position.length!==s.position.length)return!1;for(var l=0;l<a.position.length;l++)if(!As(a.position[l],s.position[l]))return!1;return!0}var Eo=function(a,s,l,d,g,y,b,C){void 0===s&&(s=null),void 0===l&&(l=[]),void 0===d&&(d=[]),void 0===g&&(g=null),void 0===y&&(y="F"),void 0===b&&(b=null),void 0===C&&(C=null),this.path=a,this.collectionGroup=s,this.explicitOrderBy=l,this.filters=d,this.limit=g,this.limitType=y,this.startAt=b,this.endAt=C,this.p=null,this.T=null};function xp(a,s,l,d,g,y,b,C){return new Eo(a,s,l,d,g,y,b,C)}function fl(a){return new Eo(a)}function Yd(a){return!Is(a.limit)&&"F"===a.limitType}function Qd(a){return!Is(a.limit)&&"L"===a.limitType}function sc(a){return a.explicitOrderBy.length>0?a.explicitOrderBy[0].field:null}function Vh(a){for(var s=0,l=a.filters;s<l.length;s++){var d=l[s];if(d.g())return d.field}return null}function ac(a){return null!==a.collectionGroup}function aa(a){var s=Le(a);if(null===s.p){s.p=[];var l=Vh(s),d=sc(s);if(null!==l&&null===d)l.isKeyField()||s.p.push(new ss(l)),s.p.push(new ss(Ri.keyField(),"asc"));else{for(var g=!1,y=0,b=s.explicitOrderBy;y<b.length;y++){var C=b[y];s.p.push(C),C.field.isKeyField()&&(g=!0)}if(!g){var I=s.explicitOrderBy.length>0?s.explicitOrderBy[s.explicitOrderBy.length-1].dir:"asc";s.p.push(new ss(Ri.keyField(),I))}}}return s.p}function vi(a){var s=Le(a);if(!s.T)if("F"===s.limitType)s.T=sa(s.path,s.collectionGroup,aa(s),s.filters,s.limit,s.startAt,s.endAt);else{for(var l=[],d=0,g=aa(s);d<g.length;d++){var y=g[d];l.push(new ss(y.field,"desc"===y.dir?"asc":"desc"))}var C=s.endAt?new Bh(s.endAt.position,!s.endAt.before):null,I=s.startAt?new Bh(s.startAt.position,!s.startAt.before):null;s.T=sa(s.path,s.collectionGroup,l,s.filters,s.limit,C,I)}return s.T}function Op(a,s,l){return new Eo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),s,l,a.startAt,a.endAt)}function ks(a,s){return Fh(vi(a),vi(s))&&a.limitType===s.limitType}function am(a){return qn(vi(a))+"|lt:"+a.limitType}function as(a){return"Query(target="+(l=(s=vi(a)).path.canonicalString(),null!==s.collectionGroup&&(l+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(l+=", filters: ["+s.filters.map(function(d){return(g=d).field.canonicalString()+" "+g.op+" "+ul(g.value);var g}).join(", ")+"]"),Is(s.limit)||(l+=", limit: "+s.limit),s.orderBy.length>0&&(l+=", orderBy: ["+s.orderBy.map(function(d){return(g=d).field.canonicalString()+" ("+g.dir+")";var g}).join(", ")+"]"),s.startAt&&(l+=", startAt: "+os(s.startAt)),s.endAt&&(l+=", endAt: "+os(s.endAt)),"Target("+l+"); limitType=")+a.limitType+")";var s,l}function Rs(a,s){return s.isFoundDocument()&&(g=(d=s).key.path,null!==(l=a).collectionGroup?d.key.hasCollectionId(l.collectionGroup)&&l.path.isPrefixOf(g):ze.isDocumentKey(l.path)?l.path.isEqual(g):l.path.isImmediateParentOf(g))&&function(l,d){for(var g=0,y=l.explicitOrderBy;g<y.length;g++){var b=y[g];if(!b.field.isKeyField()&&null===d.data.field(b.field))return!1}return!0}(a,s)&&function(l,d){for(var g=0,y=l.filters;g<y.length;g++)if(!y[g].matches(d))return!1;return!0}(a,s)&&function(l,d){return!(l.startAt&&!Rp(l.startAt,aa(l),d)||l.endAt&&Rp(l.endAt,aa(l),d))}(a,s);var l,d,g}function pl(a){return function(s,l){for(var d=!1,g=0,y=aa(a);g<y.length;g++){var b=y[g],C=Zv(b,s,l);if(0!==C)return C;d=d||b.field.isKeyField()}return 0}}function Zv(a,s,l){var g,b,C,I,d=a.field.isKeyField()?ze.comparator(s.key,l.key):(b=l,C=s.data.field(g=a.field),I=b.data.field(g),null!==C&&null!==I?Ms(C,I):Je());switch(a.dir){case"asc":return d;case"desc":return-1*d;default:return Je()}}function gl(a,s){if(a.I){if(isNaN(s))return{doubleValue:"NaN"};if(s===1/0)return{doubleValue:"Infinity"};if(s===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:is(s)?"-0":s}}function jh(a){return{integerValue:""+a}}function Xd(a,s){return He(s)?jh(s):gl(a,s)}var fo=function(){this._=void 0};function Pp(a,s,l){return a instanceof yi?(y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(d=l).seconds,nanos:d.nanoseconds}}}},(g=s)&&(y.fields.__previous_value__=g),{mapValue:y}):a instanceof us?yl(a,s):a instanceof eu?Zd(a,s):function(d,g){var y=vl(d,g),b=_l(y)+_l(d.A);return hl(y)&&hl(d.A)?jh(b):gl(d.R,b)}(a,s);var d,g,y}function ml(a,s,l){return a instanceof us?yl(a,s):a instanceof eu?Zd(a,s):l}function vl(a,s){return a instanceof tu?hl(l=s)||(d=l)&&"doubleValue"in d?s:{integerValue:0}:null;var d,l}var yi=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,T.ZT)(s,a),s}(fo),us=function(a){function s(l){var d=this;return(d=a.call(this)||this).elements=l,d}return(0,T.ZT)(s,a),s}(fo);function yl(a,s){for(var l=uc(s),d=function(b){l.some(function(C){return As(C,b)})||l.push(b)},g=0,y=a.elements;g<y.length;g++)d(y[g]);return{arrayValue:{values:l}}}var eu=function(a){function s(l){var d=this;return(d=a.call(this)||this).elements=l,d}return(0,T.ZT)(s,a),s}(fo);function Zd(a,s){for(var l=uc(s),d=function(b){l=l.filter(function(C){return!As(C,b)})},g=0,y=a.elements;g<y.length;g++)d(y[g]);return{arrayValue:{values:l}}}var tu=function(a){function s(l,d){var g=this;return(g=a.call(this)||this).R=l,g.A=d,g}return(0,T.ZT)(s,a),s}(fo);function _l(a){return _r(a.integerValue||a.doubleValue)}function uc(a){return nc(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}var nu=function(a,s){this.field=a,this.transform=s},ua=function(a,s){this.version=a,this.transformResults=s},nr=function(){function a(s,l){this.updateTime=s,this.exists=l}return a.none=function(){return new a},a.exists=function(s){return new a(void 0,s)},a.updateTime=function(s){return new a(s)},Object.defineProperty(a.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(s){return this.exists===s.exists&&(this.updateTime?!!s.updateTime&&this.updateTime.isEqual(s.updateTime):!s.updateTime)},a}();function xs(a,s){return void 0!==a.updateTime?s.isFoundDocument()&&s.version.isEqual(a.updateTime):void 0===a.exists||a.exists===s.isFoundDocument()}var cc=function(){};function um(a,s,l){var d,g,y,b,C;a instanceof bl?(g=s,y=l,b=(d=a).value.clone(),C=ru(d.fieldTransforms,g,y.transformResults),b.setAll(C),g.convertToFoundDocument(y.version,b).setHasCommittedMutations()):a instanceof br?function(d,g,y){if(xs(d.precondition,g)){var b=ru(d.fieldTransforms,g,y.transformResults),C=g.data;C.setAll(Co(d)),C.setAll(b),g.convertToFoundDocument(y.version,C).setHasCommittedMutations()}else g.convertToUnknownDocument(y.version)}(a,s,l):function(d,g,y){g.convertToNoDocument(y.version).setHasCommittedMutations()}(0,s,l)}function xi(a,s,l){var g;a instanceof bl?function(d,g,y){if(xs(d.precondition,g)){var b=d.value.clone(),C=Do(d.fieldTransforms,y,g);b.setAll(C),g.convertToFoundDocument(Os(g),b).setHasLocalMutations()}}(a,s,l):a instanceof br?function(d,g,y){if(xs(d.precondition,g)){var b=Do(d.fieldTransforms,y,g),C=g.data;C.setAll(Co(d)),C.setAll(b),g.convertToFoundDocument(Os(g),C).setHasLocalMutations()}}(a,s,l):xs(a.precondition,g=s)&&g.convertToNoDocument(Ft.min())}function Np(a,s){for(var l=null,d=0,g=a.fieldTransforms;d<g.length;d++){var y=g[d],b=s.data.field(y.field),C=vl(y.transform,b||null);null!=C&&(null==l&&(l=Vr.empty()),l.set(y.field,C))}return l||null}function Jd(a,s){return a.type===s.type&&!!a.key.isEqual(s.key)&&!!a.precondition.isEqual(s.precondition)&&(d=s.fieldTransforms,!!(void 0===(l=a.fieldTransforms)&&void 0===d||l&&d&&Ja(l,d,function(g,y){return(b=g).field.isEqual((C=y).field)&&(O=C.transform,(I=b.transform)instanceof us&&O instanceof us||I instanceof eu&&O instanceof eu?Ja(I.elements,O.elements,As):I instanceof tu&&O instanceof tu?As(I.A,O.A):I instanceof yi&&O instanceof yi);var b,C,I,O})))&&(0===a.type?a.value.isEqual(s.value):1!==a.type||a.data.isEqual(s.data)&&a.fieldMask.isEqual(s.fieldMask));var l,d}function Os(a){return a.isFoundDocument()?a.version:Ft.min()}var bl=function(a){function s(l,d,g,y){void 0===y&&(y=[]);var b=this;return(b=a.call(this)||this).key=l,b.value=d,b.precondition=g,b.fieldTransforms=y,b.type=0,b}return(0,T.ZT)(s,a),s}(cc),br=function(a){function s(l,d,g,y,b){void 0===b&&(b=[]);var C=this;return(C=a.call(this)||this).key=l,C.data=d,C.fieldMask=g,C.precondition=y,C.fieldTransforms=b,C.type=1,C}return(0,T.ZT)(s,a),s}(cc);function Co(a){var s=new Map;return a.fieldMask.fields.forEach(function(l){if(!l.isEmpty()){var d=a.data.field(l);s.set(l,d)}}),s}function ru(a,s,l){var d=new Map;Ce(a.length===l.length);for(var g=0;g<l.length;g++){var y=a[g],b=y.transform,C=s.data.field(y.field);d.set(y.field,ml(b,C,l[g]))}return d}function Do(a,s,l){for(var d=new Map,g=0,y=a;g<y.length;g++){var b=y[g],C=b.transform,I=l.data.field(b.field);d.set(b.field,Pp(C,I,s))}return d}var Qn,$t,iu=function(a){function s(l,d){var g=this;return(g=a.call(this)||this).key=l,g.precondition=d,g.type=2,g.fieldTransforms=[],g}return(0,T.ZT)(s,a),s}(cc),So=function(a){function s(l,d){var g=this;return(g=a.call(this)||this).key=l,g.precondition=d,g.type=3,g.fieldTransforms=[],g}return(0,T.ZT)(s,a),s}(cc),Jv=function(a){this.count=a};function ca(a){switch(a){case oe.OK:return Je();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Je()}}function je(a){if(void 0===a)return yr("GRPC error has no .code"),oe.UNKNOWN;switch(a){case Qn.OK:return oe.OK;case Qn.CANCELLED:return oe.CANCELLED;case Qn.UNKNOWN:return oe.UNKNOWN;case Qn.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Qn.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Qn.INTERNAL:return oe.INTERNAL;case Qn.UNAVAILABLE:return oe.UNAVAILABLE;case Qn.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Qn.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Qn.NOT_FOUND:return oe.NOT_FOUND;case Qn.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Qn.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Qn.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Qn.ABORTED:return oe.ABORTED;case Qn.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Qn.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Qn.DATA_LOSS:return oe.DATA_LOSS;default:return Je()}}($t=Qn||(Qn={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";var $n=function(){function a(s,l){this.comparator=s,this.root=l||la.EMPTY}return a.prototype.insert=function(s,l){return new a(this.comparator,this.root.insert(s,l,this.comparator).copy(null,null,la.BLACK,null,null))},a.prototype.remove=function(s){return new a(this.comparator,this.root.remove(s,this.comparator).copy(null,null,la.BLACK,null,null))},a.prototype.get=function(s){for(var l=this.root;!l.isEmpty();){var d=this.comparator(s,l.key);if(0===d)return l.value;d<0?l=l.left:d>0&&(l=l.right)}return null},a.prototype.indexOf=function(s){for(var l=0,d=this.root;!d.isEmpty();){var g=this.comparator(s,d.key);if(0===g)return l+d.left.size;g<0?d=d.left:(l+=d.left.size+1,d=d.right)}return-1},a.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(a.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),a.prototype.minKey=function(){return this.root.minKey()},a.prototype.maxKey=function(){return this.root.maxKey()},a.prototype.inorderTraversal=function(s){return this.root.inorderTraversal(s)},a.prototype.forEach=function(s){this.inorderTraversal(function(l,d){return s(l,d),!1})},a.prototype.toString=function(){var s=[];return this.inorderTraversal(function(l,d){return s.push(l+":"+d),!1}),"{"+s.join(", ")+"}"},a.prototype.reverseTraversal=function(s){return this.root.reverseTraversal(s)},a.prototype.getIterator=function(){return new ef(this.root,null,this.comparator,!1)},a.prototype.getIteratorFrom=function(s){return new ef(this.root,s,this.comparator,!1)},a.prototype.getReverseIterator=function(){return new ef(this.root,null,this.comparator,!0)},a.prototype.getReverseIteratorFrom=function(s){return new ef(this.root,s,this.comparator,!0)},a}(),ef=function(){function a(s,l,d,g){this.isReverse=g,this.nodeStack=[];for(var y=1;!s.isEmpty();)if(y=l?d(s.key,l):1,g&&(y*=-1),y<0)s=this.isReverse?s.left:s.right;else{if(0===y){this.nodeStack.push(s);break}this.nodeStack.push(s),s=this.isReverse?s.right:s.left}}return a.prototype.getNext=function(){var s=this.nodeStack.pop(),l={key:s.key,value:s.value};if(this.isReverse)for(s=s.left;!s.isEmpty();)this.nodeStack.push(s),s=s.right;else for(s=s.right;!s.isEmpty();)this.nodeStack.push(s),s=s.left;return l},a.prototype.hasNext=function(){return this.nodeStack.length>0},a.prototype.peek=function(){if(0===this.nodeStack.length)return null;var s=this.nodeStack[this.nodeStack.length-1];return{key:s.key,value:s.value}},a}(),la=function(){function a(s,l,d,g,y){this.key=s,this.value=l,this.color=d??a.RED,this.left=g??a.EMPTY,this.right=y??a.EMPTY,this.size=this.left.size+1+this.right.size}return a.prototype.copy=function(s,l,d,g,y){return new a(s??this.key,l??this.value,d??this.color,g??this.left,y??this.right)},a.prototype.isEmpty=function(){return!1},a.prototype.inorderTraversal=function(s){return this.left.inorderTraversal(s)||s(this.key,this.value)||this.right.inorderTraversal(s)},a.prototype.reverseTraversal=function(s){return this.right.reverseTraversal(s)||s(this.key,this.value)||this.left.reverseTraversal(s)},a.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},a.prototype.minKey=function(){return this.min().key},a.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},a.prototype.insert=function(s,l,d){var g=this,y=d(s,g.key);return(g=y<0?g.copy(null,null,null,g.left.insert(s,l,d),null):0===y?g.copy(null,l,null,null,null):g.copy(null,null,null,null,g.right.insert(s,l,d))).fixUp()},a.prototype.removeMin=function(){if(this.left.isEmpty())return a.EMPTY;var s=this;return s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),(s=s.copy(null,null,null,s.left.removeMin(),null)).fixUp()},a.prototype.remove=function(s,l){var d,g=this;if(l(s,g.key)<0)g.left.isEmpty()||g.left.isRed()||g.left.left.isRed()||(g=g.moveRedLeft()),g=g.copy(null,null,null,g.left.remove(s,l),null);else{if(g.left.isRed()&&(g=g.rotateRight()),g.right.isEmpty()||g.right.isRed()||g.right.left.isRed()||(g=g.moveRedRight()),0===l(s,g.key)){if(g.right.isEmpty())return a.EMPTY;d=g.right.min(),g=g.copy(d.key,d.value,null,null,g.right.removeMin())}g=g.copy(null,null,null,null,g.right.remove(s,l))}return g.fixUp()},a.prototype.isRed=function(){return this.color},a.prototype.fixUp=function(){var s=this;return s.right.isRed()&&!s.left.isRed()&&(s=s.rotateLeft()),s.left.isRed()&&s.left.left.isRed()&&(s=s.rotateRight()),s.left.isRed()&&s.right.isRed()&&(s=s.colorFlip()),s},a.prototype.moveRedLeft=function(){var s=this.colorFlip();return s.right.left.isRed()&&(s=(s=(s=s.copy(null,null,null,null,s.right.rotateRight())).rotateLeft()).colorFlip()),s},a.prototype.moveRedRight=function(){var s=this.colorFlip();return s.left.left.isRed()&&(s=(s=s.rotateRight()).colorFlip()),s},a.prototype.rotateLeft=function(){var s=this.copy(null,null,a.RED,null,this.right.left);return this.right.copy(null,null,this.color,s,null)},a.prototype.rotateRight=function(){var s=this.copy(null,null,a.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,s)},a.prototype.colorFlip=function(){var s=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,s,l)},a.prototype.checkMaxDepth=function(){var s=this.check();return Math.pow(2,s)<=this.size+1},a.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();var s=this.left.check();if(s!==this.right.check())throw Je();return s+(this.isRed()?0:1)},a}();la.EMPTY=null,la.RED=!0,la.BLACK=!1,la.EMPTY=new(function(){function a(){this.size=0}return Object.defineProperty(a.prototype,"key",{get:function(){throw Je()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"value",{get:function(){throw Je()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"color",{get:function(){throw Je()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"left",{get:function(){throw Je()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"right",{get:function(){throw Je()},enumerable:!1,configurable:!0}),a.prototype.copy=function(s,l,d,g,y){return this},a.prototype.insert=function(s,l,d){return new la(s,l)},a.prototype.remove=function(s,l){return this},a.prototype.isEmpty=function(){return!0},a.prototype.inorderTraversal=function(s){return!1},a.prototype.reverseTraversal=function(s){return!1},a.prototype.minKey=function(){return null},a.prototype.maxKey=function(){return null},a.prototype.isRed=function(){return!1},a.prototype.checkMaxDepth=function(){return!0},a.prototype.check=function(){return 0},a}());var rr=function(){function a(s){this.comparator=s,this.data=new $n(this.comparator)}return a.prototype.has=function(s){return null!==this.data.get(s)},a.prototype.first=function(){return this.data.minKey()},a.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(a.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),a.prototype.indexOf=function(s){return this.data.indexOf(s)},a.prototype.forEach=function(s){this.data.inorderTraversal(function(l,d){return s(l),!1})},a.prototype.forEachInRange=function(s,l){for(var d=this.data.getIteratorFrom(s[0]);d.hasNext();){var g=d.getNext();if(this.comparator(g.key,s[1])>=0)return;l(g.key)}},a.prototype.forEachWhile=function(s,l){var d;for(d=void 0!==l?this.data.getIteratorFrom(l):this.data.getIterator();d.hasNext();)if(!s(d.getNext().key))return},a.prototype.firstAfterOrEqual=function(s){var l=this.data.getIteratorFrom(s);return l.hasNext()?l.getNext().key:null},a.prototype.getIterator=function(){return new ey(this.data.getIterator())},a.prototype.getIteratorFrom=function(s){return new ey(this.data.getIteratorFrom(s))},a.prototype.add=function(s){return this.copy(this.data.remove(s).insert(s,!0))},a.prototype.delete=function(s){return this.has(s)?this.copy(this.data.remove(s)):this},a.prototype.isEmpty=function(){return this.data.isEmpty()},a.prototype.unionWith=function(s){var l=this;return l.size<s.size&&(l=s,s=this),s.forEach(function(d){l=l.add(d)}),l},a.prototype.isEqual=function(s){if(!(s instanceof a)||this.size!==s.size)return!1;for(var l=this.data.getIterator(),d=s.data.getIterator();l.hasNext();){var g=l.getNext().key,y=d.getNext().key;if(0!==this.comparator(g,y))return!1}return!0},a.prototype.toArray=function(){var s=[];return this.forEach(function(l){s.push(l)}),s},a.prototype.toString=function(){var s=[];return this.forEach(function(l){return s.push(l)}),"SortedSet("+s.toString()+")"},a.prototype.copy=function(s){var l=new a(this.comparator);return l.data=s,l},a}(),ey=function(){function a(s){this.iter=s}return a.prototype.getNext=function(){return this.iter.getNext().key},a.prototype.hasNext=function(){return this.iter.hasNext()},a}(),tf=new $n(ze.comparator);function jr(){return tf}var wl=new $n(ze.comparator);function nf(){return wl}var cm=new $n(ze.comparator);function kn(){return cm}var rf=new rr(ze.comparator);function _n(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];for(var l=rf,d=0,g=a;d<g.length;d++){var y=g[d];l=l.add(y)}return l}var lm=new rr(tt);function sf(){return lm}var _i=function(){function a(s,l,d,g,y){this.snapshotVersion=s,this.targetChanges=l,this.targetMismatches=d,this.documentUpdates=g,this.resolvedLimboDocuments=y}return a.createSynthesizedRemoteEventForCurrentChange=function(s,l){var d=new Map;return d.set(s,Yi.createSynthesizedTargetChangeForCurrentChange(s,l)),new a(Ft.min(),d,sf(),jr(),_n())},a}(),Yi=function(){function a(s,l,d,g,y){this.resumeToken=s,this.current=l,this.addedDocuments=d,this.modifiedDocuments=g,this.removedDocuments=y}return a.createSynthesizedTargetChangeForCurrentChange=function(s,l){return new a(Br.EMPTY_BYTE_STRING,l,_n(),_n(),_n())},a}(),ou=function(a,s,l,d){this.v=a,this.removedTargetIds=s,this.key=l,this.P=d},ha=function(a,s){this.targetId=a,this.V=s},lc=function(a,s,l,d){void 0===l&&(l=Br.EMPTY_BYTE_STRING),void 0===d&&(d=null),this.state=a,this.targetIds=s,this.resumeToken=l,this.cause=d},Uh=function(){function a(){this.S=0,this.D=uf(),this.C=Br.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(a.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),a.prototype.O=function(s){s.approximateByteSize()>0&&(this.k=!0,this.C=s)},a.prototype.M=function(){var s=_n(),l=_n(),d=_n();return this.D.forEach(function(g,y){switch(y){case 0:s=s.add(g);break;case 2:l=l.add(g);break;case 1:d=d.add(g);break;default:Je()}}),new Yi(this.C,this.N,s,l,d)},a.prototype.L=function(){this.k=!1,this.D=uf()},a.prototype.B=function(s,l){this.k=!0,this.D=this.D.insert(s,l)},a.prototype.q=function(s){this.k=!0,this.D=this.D.remove(s)},a.prototype.U=function(){this.S+=1},a.prototype.K=function(){this.S-=1},a.prototype.j=function(){this.k=!0,this.N=!0},a}(),af=function(){function a(s){this.W=s,this.G=new Map,this.H=jr(),this.J=Fp(),this.Y=new rr(tt)}return a.prototype.X=function(s){for(var l=0,d=s.v;l<d.length;l++){var g=d[l];s.P&&s.P.isFoundDocument()?this.Z(g,s.P):this.tt(g,s.key,s.P)}for(var y=0,b=s.removedTargetIds;y<b.length;y++)this.tt(g=b[y],s.key,s.P)},a.prototype.et=function(s){var l=this;this.forEachTarget(s,function(d){var g=l.nt(d);switch(s.state){case 0:l.st(d)&&g.O(s.resumeToken);break;case 1:g.K(),g.F||g.L(),g.O(s.resumeToken);break;case 2:g.K(),g.F||l.removeTarget(d);break;case 3:l.st(d)&&(g.j(),g.O(s.resumeToken));break;case 4:l.st(d)&&(l.it(d),g.O(s.resumeToken));break;default:Je()}})},a.prototype.forEachTarget=function(s,l){var d=this;s.targetIds.length>0?s.targetIds.forEach(l):this.G.forEach(function(g,y){d.st(y)&&l(y)})},a.prototype.rt=function(s){var l=s.targetId,d=s.V.count,g=this.ot(l);if(g){var y=g.target;if(Gd(y))if(0===d){var b=new ze(y.path);this.tt(l,b,mi.newNoDocument(b,Ft.min()))}else Ce(1===d);else this.ct(l)!==d&&(this.it(l),this.Y=this.Y.add(l))}},a.prototype.ut=function(s){var l=this,d=new Map;this.G.forEach(function(b,C){var I=l.ot(C);if(I){if(b.current&&Gd(I.target)){var O=new ze(I.target.path);null!==l.H.get(O)||l.at(C,O)||l.tt(C,O,mi.newNoDocument(O,s))}b.$&&(d.set(C,b.M()),b.L())}});var g=_n();this.J.forEach(function(b,C){var I=!0;C.forEachWhile(function(O){var N=l.ot(O);return!N||2===N.purpose||(I=!1,!1)}),I&&(g=g.add(b))});var y=new _i(s,d,this.Y,this.H,g);return this.H=jr(),this.J=Fp(),this.Y=new rr(tt),y},a.prototype.Z=function(s,l){if(this.st(s)){var d=this.at(s,l.key)?2:0;this.nt(s).B(l.key,d),this.H=this.H.insert(l.key,l),this.J=this.J.insert(l.key,this.ht(l.key).add(s))}},a.prototype.tt=function(s,l,d){if(this.st(s)){var g=this.nt(s);this.at(s,l)?g.B(l,1):g.q(l),this.J=this.J.insert(l,this.ht(l).delete(s)),d&&(this.H=this.H.insert(l,d))}},a.prototype.removeTarget=function(s){this.G.delete(s)},a.prototype.ct=function(s){var l=this.nt(s).M();return this.W.getRemoteKeysForTarget(s).size+l.addedDocuments.size-l.removedDocuments.size},a.prototype.U=function(s){this.nt(s).U()},a.prototype.nt=function(s){var l=this.G.get(s);return l||(l=new Uh,this.G.set(s,l)),l},a.prototype.ht=function(s){var l=this.J.get(s);return l||(l=new rr(tt),this.J=this.J.insert(s,l)),l},a.prototype.st=function(s){var l=null!==this.ot(s);return l||De("WatchChangeAggregator","Detected inactive target",s),l},a.prototype.ot=function(s){var l=this.G.get(s);return l&&l.F?null:this.W.lt(s)},a.prototype.it=function(s){var l=this;this.G.set(s,new Uh),this.W.getRemoteKeysForTarget(s).forEach(function(d){l.tt(s,d,null)})},a.prototype.at=function(s,l){return this.W.getRemoteKeysForTarget(s).has(l)},a}();function Fp(){return new $n(ze.comparator)}function uf(){return new $n(ze.comparator)}var ty={asc:"ASCENDING",desc:"DESCENDING"},cf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qi=function(a,s){this.databaseId=a,this.I=s};function hc(a,s){return a.I?new Date(1e3*s.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+s.nanoseconds).slice(-9)+"Z":{seconds:""+s.seconds,nanos:s.nanoseconds}}function da(a,s){return a.I?s.toBase64():s.toUint8Array()}function lf(a,s){return hc(a,s.toTimestamp())}function Or(a){return Ce(!!a),Ft.fromTimestamp((l=rs(a),new fi(l.seconds,l.nanos)));var l}function Hh(a,s){return(l=a,new ut(["projects",l.projectId,"databases",l.database])).child("documents").child(s).canonicalString();var l}function hm(a){var s=ut.fromString(a);return Ce(Lp(s)),s}function zh(a,s){return Hh(a.databaseId,s.path)}function cs(a,s){var l=hm(s);if(l.get(1)!==a.databaseId.projectId)throw new be(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+l.get(1)+" vs "+a.databaseId.projectId);if(l.get(3)!==a.databaseId.database)throw new be(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+l.get(3)+" vs "+a.databaseId.database);return new ze(Oi(l))}function qh(a,s){return Hh(a.databaseId,s)}function $h(a){var s=hm(a);return 4===s.length?ut.emptyPath():Oi(s)}function fa(a){return new ut(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Oi(a){return Ce(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function hf(a,s,l){return{name:zh(a,s),fields:l.value.mapValue.fields}}function pa(a,s,l){var d=cs(a,s.name),g=Or(s.updateTime),y=new Vr({mapValue:{fields:s.fields}}),b=mi.newFoundDocument(d,g,y);return l&&b.setHasCommittedMutations(),l?b.setHasCommittedMutations():b}function su(a,s){var l,g;if(s instanceof bl)l={update:hf(a,s.key,s.value)};else if(s instanceof iu)l={delete:zh(a,s.key)};else if(s instanceof br)l={update:hf(a,s.key,s.data),updateMask:pf(s.fieldMask)};else{if(!(s instanceof So))return Je();l={verify:zh(a,s.key)}}return s.fieldTransforms.length>0&&(l.updateTransforms=s.fieldTransforms.map(function(d){return function(g,y){var b=y.transform;if(b instanceof yi)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof us)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof eu)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof tu)return{fieldPath:y.field.canonicalString(),increment:b.A};throw Je()}(0,d)})),s.precondition.isNone||(l.currentDocument=void 0!==(g=s.precondition).updateTime?{updateTime:lf(a,g.updateTime)}:void 0!==g.exists?{exists:g.exists}:Je()),l}function El(a,s){var O,l=s.currentDocument?void 0!==(O=s.currentDocument).updateTime?nr.updateTime(Or(O.updateTime)):void 0!==O.exists?nr.exists(O.exists):nr.none():nr.none(),d=s.updateTransforms?s.updateTransforms.map(function(O){return function(N,j){var z=null;"setToServerValue"in j?(Ce("REQUEST_TIME"===j.setToServerValue),z=new yi):"appendMissingElements"in j?z=new us(j.appendMissingElements.values||[]):"removeAllFromArray"in j?z=new eu(j.removeAllFromArray.values||[]):"increment"in j?z=new tu(N,j.increment):Je();var ae=Ri.fromServerFormat(j.fieldPath);return new nu(ae,z)}(a,O)}):[];if(s.update){var g=cs(a,s.update.name),y=new Vr({mapValue:{fields:s.update.fields}});if(s.updateMask){var b=function(O){return new hr((O.fieldPaths||[]).map(function(j){return Ri.fromServerFormat(j)}))}(s.updateMask);return new br(g,y,b,l,d)}return new bl(g,y,l,d)}if(s.delete){var C=cs(a,s.delete);return new iu(C,l)}if(s.verify){var I=cs(a,s.verify);return new So(I,l)}return Je()}function Cl(a,s){return{documents:[qh(a,s.path)]}}function Dl(a,s){var l={structuredQuery:{}},d=s.path;null!==s.collectionGroup?(l.parent=qh(a,d),l.structuredQuery.from=[{collectionId:s.collectionGroup,allDescendants:!0}]):(l.parent=qh(a,d.popLast()),l.structuredQuery.from=[{collectionId:d.lastSegment()}]);var g=function(C){if(0!==C.length){var I=C.map(function(O){return function(N){if("=="===N.op){if(Ip(N.value))return{unaryFilter:{field:dc(N.field),op:"IS_NAN"}};if(rc(N.value))return{unaryFilter:{field:dc(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(Ip(N.value))return{unaryFilter:{field:dc(N.field),op:"IS_NOT_NAN"}};if(rc(N.value))return{unaryFilter:{field:dc(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dc(N.field),op:re(N.op),value:N.value}}}(O)});return 1===I.length?I[0]:{compositeFilter:{op:"AND",filters:I}}}}(s.filters);g&&(l.structuredQuery.where=g);var y=function(C){if(0!==C.length)return C.map(function(I){return{field:dc((O=I).field),direction:ny(O.dir)};var O})}(s.orderBy);y&&(l.structuredQuery.orderBy=y);var I,b=(I=s.limit,a.I||Is(I)?I:{value:I});return null!==b&&(l.structuredQuery.limit=b),s.startAt&&(l.structuredQuery.startAt=Tl(s.startAt)),s.endAt&&(l.structuredQuery.endAt=Tl(s.endAt)),l}function Sl(a){var s=$h(a.parent),l=a.structuredQuery,d=l.from?l.from.length:0,g=null;if(d>0){Ce(1===d);var y=l.from[0];y.allDescendants?g=y.collectionId:s=s.child(y.collectionId)}var b=[];l.where&&(b=df(l.where));var C=[];l.orderBy&&(C=l.orderBy.map(function(j){return new ss(bi((z=j).field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction));var z}));var j,z,I=null;l.limit&&(I=Is(z="object"==typeof(j=l.limit)?j.value:j)?null:z);var O=null;l.startAt&&(O=Gh(l.startAt));var N=null;return l.endAt&&(N=Gh(l.endAt)),xp(s,g,C,b,I,"F",O,N)}function df(a){return a?void 0!==a.unaryFilter?[Il(a)]:void 0!==a.fieldFilter?[ff(a)]:void 0!==a.compositeFilter?a.compositeFilter.filters.map(function(s){return df(s)}).reduce(function(s,l){return s.concat(l)}):Je():[]}function Tl(a){return{before:a.before,values:a.position}}function Gh(a){return new Bh(a.values||[],!!a.before)}function ny(a){return ty[a]}function re(a){return cf[a]}function dc(a){return{fieldPath:a.canonicalString()}}function bi(a){return Ri.fromServerFormat(a.fieldPath)}function ff(a){return ho.create(bi(a.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(a.fieldFilter.op),a.fieldFilter.value)}function Il(a){switch(a.unaryFilter.op){case"IS_NAN":var s=bi(a.unaryFilter.field);return ho.create(s,"==",{doubleValue:NaN});case"IS_NULL":var l=bi(a.unaryFilter.field);return ho.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var d=bi(a.unaryFilter.field);return ho.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var g=bi(a.unaryFilter.field);return ho.create(g,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}function pf(a){var s=[];return a.fields.forEach(function(l){return s.push(l.canonicalString())}),{fieldPaths:s}}function Lp(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}function Xi(a){for(var s="",l=0;l<a.length;l++)s.length>0&&(s=Vo(s)),s=Al(a.get(l),s);return Vo(s)}function Al(a,s){for(var l=s,d=a.length,g=0;g<d;g++){var y=a.charAt(g);switch(y){case"\0":l+="\x01\x10";break;case"\x01":l+="\x01\x11";break;default:l+=y}}return l}function Vo(a){return a+"\x01\x01"}function ri(a){var s=a.length;if(Ce(s>=2),2===s)return Ce("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),ut.emptyPath();for(var l=s-2,d=[],g="",y=0;y<s;){var b=a.indexOf("\x01",y);switch((b<0||b>l)&&Je(),a.charAt(b+1)){case"\x01":var C=a.substring(y,b),I=void 0;0===g.length?I=C:(I=g+=C,g=""),d.push(I);break;case"\x10":g+=a.substring(y,b),g+="\0";break;case"\x11":g+=a.substring(y,b+1);break;default:Je()}y=b+2}return new ut(d)}var jo=function(a,s){this.seconds=a,this.nanoseconds=s},wi=function(a,s,l){this.ownerId=a,this.allowTabSynchronization=s,this.leaseTimestampMs=l};wi.store="owner",wi.key="owner";var Uo=function(a,s,l){this.userId=a,this.lastAcknowledgedBatchId=s,this.lastStreamToken=l};Uo.store="mutationQueues",Uo.keyPath="userId";var xn=function(a,s,l,d,g){this.userId=a,this.batchId=s,this.localWriteTimeMs=l,this.baseMutations=d,this.mutations=g};xn.store="mutations",xn.keyPath="batchId",xn.userMutationsIndex="userMutationsIndex",xn.userMutationsKeyPath=["userId","batchId"];var wr=function(){function a(){}return a.prefixForUser=function(s){return[s]},a.prefixForPath=function(s,l){return[s,Xi(l)]},a.key=function(s,l,d){return[s,Xi(l),d]},a}();wr.store="documentMutations",wr.PLACEHOLDER=new wr;var Bp=function(a,s){this.path=a,this.readTime=s},dm=function(a,s){this.path=a,this.version=s},ir=function(a,s,l,d,g,y){this.unknownDocument=a,this.noDocument=s,this.document=l,this.hasCommittedMutations=d,this.readTime=g,this.parentPath=y};ir.store="remoteDocuments",ir.readTimeIndex="readTimeIndex",ir.readTimeIndexPath="readTime",ir.collectionReadTimeIndex="collectionReadTimeIndex",ir.collectionReadTimeIndexPath=["parentPath","readTime"];var Ur=function(a){this.byteSize=a};Ur.store="remoteDocumentGlobal",Ur.key="remoteDocumentGlobalKey";var Hr=function(a,s,l,d,g,y,b){this.targetId=a,this.canonicalId=s,this.readTime=l,this.resumeToken=d,this.lastListenSequenceNumber=g,this.lastLimboFreeSnapshotVersion=y,this.query=b};Hr.store="targets",Hr.keyPath="targetId",Hr.queryTargetsIndexName="queryTargetsIndex",Hr.queryTargetsKeyPath=["canonicalId","targetId"];var Pr=function(a,s,l){this.targetId=a,this.path=s,this.sequenceNumber=l};Pr.store="targetDocuments",Pr.keyPath=["targetId","path"],Pr.documentTargetsIndex="documentTargetsIndex",Pr.documentTargetsKeyPath=["path","targetId"];var po=function(a,s,l,d){this.highestTargetId=a,this.highestListenSequenceNumber=s,this.lastRemoteSnapshotVersion=l,this.targetCount=d};po.key="targetGlobalKey",po.store="targetGlobal";var au=function(a,s){this.collectionId=a,this.parent=s};au.store="collectionParents",au.keyPath=["collectionId","parent"];var ga=function(a,s,l,d){this.clientId=a,this.updateTimeMs=s,this.networkEnabled=l,this.inForeground=d};ga.store="clientMetadata",ga.keyPath="clientId";var uu=function(a,s,l){this.bundleId=a,this.createTime=s,this.version=l};uu.store="bundles",uu.keyPath="bundleId";var Ml=function(a,s,l){this.name=a,this.readTime=s,this.bundledQuery=l};Ml.store="namedQueries",Ml.keyPath="name";var ry=(0,T.ev)((0,T.ev)([],(0,T.ev)((0,T.ev)([],(0,T.ev)((0,T.ev)([],(0,T.ev)((0,T.ev)([],[Uo.store,xn.store,wr.store,ir.store,Hr.store,wi.store,po.store,Pr.store]),[ga.store])),[Ur.store])),[au.store])),[uu.store,Ml.store]),gf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",cu=function(){function a(){this.onCommittedListeners=[]}return a.prototype.addOnCommittedListener=function(s){this.onCommittedListeners.push(s)},a.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(s){return s()})},a}(),Gn=function(){var a=this;this.promise=new Promise(function(s,l){a.resolve=s,a.reject=l})},Te=function(){function a(s){var l=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,s(function(d){l.isDone=!0,l.result=d,l.nextCallback&&l.nextCallback(d)},function(d){l.isDone=!0,l.error=d,l.catchCallback&&l.catchCallback(d)})}return a.prototype.catch=function(s){return this.next(void 0,s)},a.prototype.next=function(s,l){var d=this;return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(l,this.error):this.wrapSuccess(s,this.result):new a(function(g,y){d.nextCallback=function(b){d.wrapSuccess(s,b).next(g,y)},d.catchCallback=function(b){d.wrapFailure(l,b).next(g,y)}})},a.prototype.toPromise=function(){var s=this;return new Promise(function(l,d){s.next(l,d)})},a.prototype.wrapUserFunction=function(s){try{var l=s();return l instanceof a?l:a.resolve(l)}catch(d){return a.reject(d)}},a.prototype.wrapSuccess=function(s,l){return s?this.wrapUserFunction(function(){return s(l)}):a.resolve(l)},a.prototype.wrapFailure=function(s,l){return s?this.wrapUserFunction(function(){return s(l)}):a.reject(l)},a.resolve=function(s){return new a(function(l,d){l(s)})},a.reject=function(s){return new a(function(l,d){d(s)})},a.waitFor=function(s){return new a(function(l,d){var g=0,y=0,b=!1;s.forEach(function(C){++g,C.next(function(){++y,b&&y===g&&l()},function(I){return d(I)})}),b=!0,y===g&&l()})},a.or=function(s){for(var l=a.resolve(!1),d=function(b){l=l.next(function(C){return C?a.resolve(C):b()})},g=0,y=s;g<y.length;g++)d(y[g]);return l},a.forEach=function(s,l){var d=this,g=[];return s.forEach(function(y,b){g.push(l.call(d,y,b))}),this.waitFor(g)},a}(),To=function(){function a(s,l){var d=this;this.action=s,this.transaction=l,this.aborted=!1,this.ft=new Gn,this.transaction.oncomplete=function(){d.ft.resolve()},this.transaction.onabort=function(){l.error?d.ft.reject(new mf(s,l.error)):d.ft.resolve()},this.transaction.onerror=function(g){var y=kl(g.target.error);d.ft.reject(new mf(s,y))}}return a.open=function(s,l,d,g){try{return new a(l,s.transaction(g,d))}catch(y){throw new mf(l,y)}},Object.defineProperty(a.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),a.prototype.abort=function(s){s&&this.ft.reject(s),this.aborted||(De("SimpleDb","Aborting transaction:",s?s.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},a.prototype.store=function(s){var l=this.transaction.objectStore(s);return new pm(l)},a}(),Wh=function(){function a(s,l,d){this.name=s,this.version=l,this.wt=d,12.2===a._t((0,We.z$)())&&yr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return a.delete=function(s){return De("SimpleDb","Removing database:",s),ls(window.indexedDB.deleteDatabase(s)).toPromise()},a.yt=function(){if(typeof indexedDB>"u")return!1;if(a.gt())return!0;var s=(0,We.z$)(),l=a._t(s),d=0<l&&l<10,g=a.Et(s),y=0<g&&g<4.5;return!(s.indexOf("MSIE ")>0||s.indexOf("Trident/")>0||s.indexOf("Edge/")>0||d||y)},a.gt=function(){var s;return typeof process<"u"&&"YES"===(null===(s=process.env)||void 0===s?void 0:s.Tt)},a.It=function(s,l){return s.store(l)},a._t=function(s){var l=s.match(/i(?:phone|pad|pod) os ([\d_]+)/i),d=l?l[1].split("_").slice(0,2).join("."):"-1";return Number(d)},a.Et=function(s){var l=s.match(/Android ([\d.]+)/i),d=l?l[1].split(".").slice(0,2).join("."):"-1";return Number(d)},a.prototype.At=function(s){return(0,T.mG)(this,void 0,void 0,function(){var l,d=this;return(0,T.Jh)(this,function(g){switch(g.label){case 0:return this.db?[3,2]:(De("SimpleDb","Opening database:",this.name),l=this,[4,new Promise(function(y,b){var C=indexedDB.open(d.name,d.version);C.onsuccess=function(I){y(I.target.result)},C.onblocked=function(){b(new mf(s,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},C.onerror=function(I){var O=I.target.error;b("VersionError"===O.name?new be(oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new mf(s,O))},C.onupgradeneeded=function(I){De("SimpleDb",'Database "'+d.name+'" requires upgrade from version:',I.oldVersion),d.wt.Rt(I.target.result,C.transaction,I.oldVersion,d.version).next(function(){De("SimpleDb","Database upgrade to version "+d.version+" complete")})}})]);case 1:l.db=g.sent(),g.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(y){return d.bt(y)}),this.db)]}})})},a.prototype.vt=function(s){this.bt=s,this.db&&(this.db.onversionchange=function(l){return s(l)})},a.prototype.runTransaction=function(s,l,d,g){return(0,T.mG)(this,void 0,void 0,function(){var y,b,C,I,O;return(0,T.Jh)(this,function(N){switch(N.label){case 0:y="readonly"===l,b=0,C=function(){var j,z,J,ee,ae;return(0,T.Jh)(this,function(ke){switch(ke.label){case 0:++b,ke.label=1;case 1:return ke.trys.push([1,4,,5]),[4,I.At(s)];case 2:return I.db=ke.sent(),j=To.open(I.db,s,y?"readonly":"readwrite",d),z=g(j).catch(function(Oe){return j.abort(Oe),Te.reject(Oe)}).toPromise(),J={},z.catch(function(){}),[4,j.dt];case 3:return[2,(J.value=(ke.sent(),z),J)];case 4:return De("SimpleDb","Transaction failed with error:",(ee=ke.sent()).message,"Retrying:",ae="FirebaseError"!==ee.name&&b<3),I.close(),ae?[3,5]:[2,{value:Promise.reject(ee)}];case 5:return[2]}})},I=this,N.label=1;case 1:return[5,C()];case 2:if("object"==typeof(O=N.sent()))return[2,O.value];N.label=3;case 3:return[3,1];case 4:return[2]}})})},a.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},a}(),fm=function(){function a(s){this.Pt=s,this.Vt=!1,this.St=null}return Object.defineProperty(a.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"cursor",{set:function(s){this.Pt=s},enumerable:!1,configurable:!0}),a.prototype.done=function(){this.Vt=!0},a.prototype.Ct=function(s){this.St=s},a.prototype.delete=function(){return ls(this.Pt.delete())},a}(),mf=function(a){function s(l,d){var g=this;return(g=a.call(this,oe.UNAVAILABLE,"IndexedDB transaction '"+l+"' failed: "+d)||this).name="IndexedDbTransactionError",g}return(0,T.ZT)(s,a),s}(be);function ma(a){return"IndexedDbTransactionError"===a.name}var pm=function(){function a(s){this.store=s}return a.prototype.put=function(s,l){var d;return void 0!==l?(De("SimpleDb","PUT",this.store.name,s,l),d=this.store.put(l,s)):(De("SimpleDb","PUT",this.store.name,"<auto-key>",s),d=this.store.put(s)),ls(d)},a.prototype.add=function(s){return De("SimpleDb","ADD",this.store.name,s,s),ls(this.store.add(s))},a.prototype.get=function(s){var l=this;return ls(this.store.get(s)).next(function(d){return void 0===d&&(d=null),De("SimpleDb","GET",l.store.name,s,d),d})},a.prototype.delete=function(s){return De("SimpleDb","DELETE",this.store.name,s),ls(this.store.delete(s))},a.prototype.count=function(){return De("SimpleDb","COUNT",this.store.name),ls(this.store.count())},a.prototype.Nt=function(s,l){var d=this.cursor(this.options(s,l)),g=[];return this.xt(d,function(y,b){g.push(b)}).next(function(){return g})},a.prototype.kt=function(s,l){De("SimpleDb","DELETE ALL",this.store.name);var d=this.options(s,l);d.Ft=!1;var g=this.cursor(d);return this.xt(g,function(y,b,C){return C.delete()})},a.prototype.$t=function(s,l){var d;l?d=s:(d={},l=s);var g=this.cursor(d);return this.xt(g,l)},a.prototype.Ot=function(s){var l=this.cursor({});return new Te(function(d,g){l.onerror=function(y){var b=kl(y.target.error);g(b)},l.onsuccess=function(y){var b=y.target.result;b?s(b.primaryKey,b.value).next(function(C){C?b.continue():d()}):d()}})},a.prototype.xt=function(s,l){var d=[];return new Te(function(g,y){s.onerror=function(b){y(b.target.error)},s.onsuccess=function(b){var C=b.target.result;if(C){var I=new fm(C),O=l(C.primaryKey,C.value,I);if(O instanceof Te){var N=O.catch(function(j){return I.done(),Te.reject(j)});d.push(N)}I.isDone?g():null===I.Dt?C.continue():C.continue(I.Dt)}else g()}}).next(function(){return Te.waitFor(d)})},a.prototype.options=function(s,l){var d;return void 0!==s&&("string"==typeof s?d=s:l=s),{index:d,range:l}},a.prototype.cursor=function(s){var l="next";if(s.reverse&&(l="prev"),s.index){var d=this.store.index(s.index);return s.Ft?d.openKeyCursor(s.range,l):d.openCursor(s.range,l)}return this.store.openCursor(s.range,l)},a}();function ls(a){return new Te(function(s,l){a.onsuccess=function(d){s(d.target.result)},a.onerror=function(d){var g=kl(d.target.error);l(g)}})}var fc=!1;function kl(a){var s=Wh._t((0,We.z$)());if(s>=12.2&&s<13){var l="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(l)>=0){var d=new be("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+l+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return fc||(fc=!0,setTimeout(function(){throw d},0)),d}}return a}var lu=function(a){function s(l,d){var g=this;return(g=a.call(this)||this).Mt=l,g.currentSequenceNumber=d,g}return(0,T.ZT)(s,a),s}(cu);function go(a,s){var l=Le(a);return Wh.It(l.Mt,s)}var vf=function(){function a(s,l,d,g){this.batchId=s,this.localWriteTime=l,this.baseMutations=d,this.mutations=g}return a.prototype.applyToRemoteDocument=function(s,l){for(var d=l.mutationResults,g=0;g<this.mutations.length;g++){var y=this.mutations[g];y.key.isEqual(s.key)&&um(y,s,d[g])}},a.prototype.applyToLocalView=function(s){for(var l=0,d=this.baseMutations;l<d.length;l++)(b=d[l]).key.isEqual(s.key)&&xi(b,s,this.localWriteTime);for(var g=0,y=this.mutations;g<y.length;g++){var b;(b=y[g]).key.isEqual(s.key)&&xi(b,s,this.localWriteTime)}},a.prototype.applyToLocalDocumentSet=function(s){var l=this;this.mutations.forEach(function(d){var g=s.get(d.key),y=g;l.applyToLocalView(y),g.isValidDocument()||y.convertToNoDocument(Ft.min())})},a.prototype.keys=function(){return this.mutations.reduce(function(s,l){return s.add(l.key)},_n())},a.prototype.isEqual=function(s){return this.batchId===s.batchId&&Ja(this.mutations,s.mutations,function(l,d){return Jd(l,d)})&&Ja(this.baseMutations,s.baseMutations,function(l,d){return Jd(l,d)})},a}(),P_=function(){function a(s,l,d,g){this.batch=s,this.commitVersion=l,this.mutationResults=d,this.docVersions=g}return a.from=function(s,l,d){Ce(s.mutations.length===d.length);for(var g=kn(),y=s.mutations,b=0;b<y.length;b++)g=g.insert(y[b].key,d[b].version);return new a(s,l,d,g)},a}(),pc=function(){function a(s,l,d,g,y,b,C){void 0===y&&(y=Ft.min()),void 0===b&&(b=Ft.min()),void 0===C&&(C=Br.EMPTY_BYTE_STRING),this.target=s,this.targetId=l,this.purpose=d,this.sequenceNumber=g,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=C}return a.prototype.withSequenceNumber=function(s){return new a(this.target,this.targetId,this.purpose,s,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},a.prototype.withResumeToken=function(s,l){return new a(this.target,this.targetId,this.purpose,this.sequenceNumber,l,this.lastLimboFreeSnapshotVersion,s)},a.prototype.withLastLimboFreeSnapshotVersion=function(s){return new a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,s,this.resumeToken)},a}(),Kh=function(a){this.Lt=a};function Ps(a,s){if(s.document)return pa(a.Lt,s.document,!!s.hasCommittedMutations);if(s.noDocument){var l=ze.fromSegments(s.noDocument.path),d=du(s.noDocument.readTime),g=mi.newNoDocument(l,d);return s.hasCommittedMutations?g.setHasCommittedMutations():g}if(s.unknownDocument){var y=ze.fromSegments(s.unknownDocument.path);return d=du(s.unknownDocument.version),mi.newUnknownDocument(y,d)}return Je()}function yf(a,s,l){var j,z,d=_f(l),g=s.key.path.popLast().toArray();if(s.isFoundDocument()){var y={name:zh(j=a.Lt,(z=s).key),fields:z.data.value.mapValue.fields,updateTime:hc(j,z.version.toTimestamp())},b=s.hasCommittedMutations;return new ir(null,null,y,b,d,g)}if(s.isNoDocument()){var C=s.key.path.toArray(),I=zr(s.version);return b=s.hasCommittedMutations,new ir(null,new Bp(C,I),null,b,d,g)}if(s.isUnknownDocument()){var O=s.key.path.toArray(),N=zr(s.version);return new ir(new dm(O,N),null,null,!0,d,g)}return Je()}function _f(a){var s=a.toTimestamp();return[s.seconds,s.nanoseconds]}function hu(a){var s=new fi(a[0],a[1]);return Ft.fromTimestamp(s)}function zr(a){var s=a.toTimestamp();return new jo(s.seconds,s.nanoseconds)}function du(a){var s=new fi(a.seconds,a.nanoseconds);return Ft.fromTimestamp(s)}function Rl(a,s){for(var l=(s.baseMutations||[]).map(function(I){return El(a.Lt,I)}),d=0;d<s.mutations.length-1;++d)d+1<s.mutations.length&&void 0!==s.mutations[d+1].transform&&(s.mutations[d].updateTransforms=s.mutations[d+1].transform.fieldTransforms,s.mutations.splice(d+1,1),++d);var b=s.mutations.map(function(I){return El(a.Lt,I)}),C=fi.fromMillis(s.localWriteTimeMs);return new vf(s.batchId,C,l,b)}function Yh(a){var s,l,d=du(a.readTime),g=void 0!==a.lastLimboFreeSnapshotVersion?du(a.lastLimboFreeSnapshotVersion):Ft.min();return void 0!==a.query.documents?(Ce(1===(l=a.query).documents.length),s=vi(fl($h(l.documents[0])))):s=vi(Sl(a.query)),new pc(s,a.targetId,0,a.lastListenSequenceNumber,d,g,Br.fromBase64String(a.resumeToken))}function gm(a,s){var l,d=zr(s.snapshotVersion),g=zr(s.lastLimboFreeSnapshotVersion);l=Gd(s.target)?Cl(a.Lt,s.target):Dl(a.Lt,s.target);var y=s.resumeToken.toBase64();return new Hr(s.targetId,qn(s.target),d,y,s.sequenceNumber,g,l)}function Pi(a){var s=Sl({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?Op(s,s.limit,"L"):s}var Ns=function(){function a(){}return a.prototype.getBundleMetadata=function(s,l){return mm(s).get(l).next(function(d){if(d)return{id:(g=d).bundleId,createTime:du(g.createTime),version:g.version};var g})},a.prototype.saveBundleMetadata=function(s,l){return mm(s).put({bundleId:(d=l).id,createTime:zr(Or(d.createTime)),version:d.version});var d},a.prototype.getNamedQuery=function(s,l){return bf(s).get(l).next(function(d){if(d)return{name:(g=d).name,query:Pi(g.bundledQuery),readTime:du(g.readTime)};var g})},a.prototype.saveNamedQuery=function(s,l){return bf(s).put({name:(d=l).name,readTime:zr(Or(d.readTime)),bundledQuery:d.bundledQuery});var d},a}();function mm(a){return go(a,uu.store)}function bf(a){return go(a,Ml.store)}var Vp=function(){function a(){this.Bt=new wf}return a.prototype.addToCollectionParentIndex=function(s,l){return this.Bt.add(l),Te.resolve()},a.prototype.getCollectionParents=function(s,l){return Te.resolve(this.Bt.getEntries(l))},a}(),wf=function(){function a(){this.index={}}return a.prototype.add=function(s){var l=s.lastSegment(),d=s.popLast(),g=this.index[l]||new rr(ut.comparator),y=!g.has(d);return this.index[l]=g.add(d),y},a.prototype.has=function(s){var l=s.lastSegment(),d=s.popLast(),g=this.index[l];return g&&g.has(d)},a.prototype.getEntries=function(s){return(this.index[s]||new rr(ut.comparator)).toArray()},a}(),jp=function(){function a(){this.qt=new wf}return a.prototype.addToCollectionParentIndex=function(s,l){var d=this;if(!this.qt.has(l)){var g=l.lastSegment(),y=l.popLast();s.addOnCommittedListener(function(){d.qt.add(l)});var b={collectionId:g,parent:Xi(y)};return Ef(s).put(b)}return Te.resolve()},a.prototype.getCollectionParents=function(s,l){var d=[],g=IDBKeyRange.bound([l,""],[ia(l),""],!1,!0);return Ef(s).Nt(g).next(function(y){for(var b=0,C=y;b<C.length;b++){var I=C[b];if(I.collectionId!==l)break;d.push(ri(I.parent))}return d})},a}();function Ef(a){return go(a,au.store)}var Qh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ho=function(){function a(s,l,d){this.cacheSizeCollectionThreshold=s,this.percentileToCollect=l,this.maximumSequenceNumbersToCollect=d}return a.withCacheSize=function(s){return new a(s,a.DEFAULT_COLLECTION_PERCENTILE,a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},a}();function vm(a,s,l){var d=a.store(xn.store),g=a.store(wr.store),y=[],b=IDBKeyRange.only(l.batchId),C=0,I=d.$t({range:b},function(ee,ae,ke){return C++,ke.delete()});y.push(I.next(function(){Ce(1===C)}));for(var O=[],N=0,j=l.mutations;N<j.length;N++){var z=j[N],J=wr.key(s,z.key.path,l.batchId);y.push(g.delete(J)),O.push(z.key)}return Te.waitFor(y).next(function(){return O})}function Cf(a){if(!a)return 0;var s;if(a.document)s=a.document;else if(a.unknownDocument)s=a.unknownDocument;else{if(!a.noDocument)throw Je();s=a.noDocument}return JSON.stringify(s).length}Ho.DEFAULT_COLLECTION_PERCENTILE=10,Ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ho.DEFAULT=new Ho(41943040,Ho.DEFAULT_COLLECTION_PERCENTILE,Ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ho.DISABLED=new Ho(-1,0,0);var iy=function(){function a(s,l,d,g){this.userId=s,this.R=l,this.Ut=d,this.referenceDelegate=g,this.Kt={}}return a.Qt=function(s,l,d,g){return Ce(""!==s.uid),new a(s.isAuthenticated()?s.uid:"",l,d,g)},a.prototype.checkEmpty=function(s){var l=!0,d=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fu(s).$t({index:xn.userMutationsIndex,range:d},function(g,y,b){l=!1,b.done()}).next(function(){return l})},a.prototype.addMutationBatch=function(s,l,d,g){var y=this,b=Fs(s),C=fu(s);return C.add({}).next(function(I){Ce("number"==typeof I);for(var O=new vf(I,l,d,g),N=function(Oe,ht,ft){var hn=ft.baseMutations.map(function(Qt){return su(Oe.Lt,Qt)}),Dn=ft.mutations.map(function(Qt){return su(Oe.Lt,Qt)});return new xn(ht,ft.batchId,ft.localWriteTime.toMillis(),hn,Dn)}(y.R,y.userId,O),j=[],z=new rr(function(Oe,ht){return tt(Oe.canonicalString(),ht.canonicalString())}),J=0,ee=g;J<ee.length;J++){var ae=ee[J],ke=wr.key(y.userId,ae.key.path,I);z=z.add(ae.key.path.popLast()),j.push(C.put(N)),j.push(b.put(ke,wr.PLACEHOLDER))}return z.forEach(function(Oe){j.push(y.Ut.addToCollectionParentIndex(s,Oe))}),s.addOnCommittedListener(function(){y.Kt[I]=O.keys()}),Te.waitFor(j).next(function(){return O})})},a.prototype.lookupMutationBatch=function(s,l){var d=this;return fu(s).get(l).next(function(g){return g?(Ce(g.userId===d.userId),Rl(d.R,g)):null})},a.prototype.jt=function(s,l){var d=this;return this.Kt[l]?Te.resolve(this.Kt[l]):this.lookupMutationBatch(s,l).next(function(g){if(g){var y=g.keys();return d.Kt[l]=y,y}return null})},a.prototype.getNextMutationBatchAfterBatchId=function(s,l){var d=this,g=l+1,y=IDBKeyRange.lowerBound([this.userId,g]),b=null;return fu(s).$t({index:xn.userMutationsIndex,range:y},function(C,I,O){I.userId===d.userId&&(Ce(I.batchId>=g),b=Rl(d.R,I)),O.done()}).next(function(){return b})},a.prototype.getHighestUnacknowledgedBatchId=function(s){var l=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),d=-1;return fu(s).$t({index:xn.userMutationsIndex,range:l,reverse:!0},function(g,y,b){d=y.batchId,b.done()}).next(function(){return d})},a.prototype.getAllMutationBatches=function(s){var l=this,d=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fu(s).Nt(xn.userMutationsIndex,d).next(function(g){return g.map(function(y){return Rl(l.R,y)})})},a.prototype.getAllMutationBatchesAffectingDocumentKey=function(s,l){var d=this,g=wr.prefixForPath(this.userId,l.path),y=IDBKeyRange.lowerBound(g),b=[];return Fs(s).$t({range:y},function(C,I,O){var N=C[0],z=C[2],J=ri(C[1]);if(N===d.userId&&l.path.isEqual(J))return fu(s).get(z).next(function(ee){if(!ee)throw Je();Ce(ee.userId===d.userId),b.push(Rl(d.R,ee))});O.done()}).next(function(){return b})},a.prototype.getAllMutationBatchesAffectingDocumentKeys=function(s,l){var d=this,g=new rr(tt),y=[];return l.forEach(function(b){var C=wr.prefixForPath(d.userId,b.path),I=IDBKeyRange.lowerBound(C),O=Fs(s).$t({range:I},function(N,j,z){var J=N[0],ae=N[2],ke=ri(N[1]);J===d.userId&&b.path.isEqual(ke)?g=g.add(ae):z.done()});y.push(O)}),Te.waitFor(y).next(function(){return d.Wt(s,g)})},a.prototype.getAllMutationBatchesAffectingQuery=function(s,l){var d=this,g=l.path,y=g.length+1,b=wr.prefixForPath(this.userId,g),C=IDBKeyRange.lowerBound(b),I=new rr(tt);return Fs(s).$t({range:C},function(O,N,j){var z=O[0],ee=O[2],ae=ri(O[1]);z===d.userId&&g.isPrefixOf(ae)?ae.length===y&&(I=I.add(ee)):j.done()}).next(function(){return d.Wt(s,I)})},a.prototype.Wt=function(s,l){var d=this,g=[],y=[];return l.forEach(function(b){y.push(fu(s).get(b).next(function(C){if(null===C)throw Je();Ce(C.userId===d.userId),g.push(Rl(d.R,C))}))}),Te.waitFor(y).next(function(){return g})},a.prototype.removeMutationBatch=function(s,l){var d=this;return vm(s.Mt,this.userId,l).next(function(g){return s.addOnCommittedListener(function(){d.Gt(l.batchId)}),Te.forEach(g,function(y){return d.referenceDelegate.markPotentiallyOrphaned(s,y)})})},a.prototype.Gt=function(s){delete this.Kt[s]},a.prototype.performConsistencyCheck=function(s){var l=this;return this.checkEmpty(s).next(function(d){if(!d)return Te.resolve();var g=IDBKeyRange.lowerBound(wr.prefixForUser(l.userId)),y=[];return Fs(s).$t({range:g},function(b,C,I){if(b[0]===l.userId){var O=ri(b[1]);y.push(O)}else I.done()}).next(function(){Ce(0===y.length)})})},a.prototype.containsKey=function(s,l){return oy(s,this.userId,l)},a.prototype.zt=function(s){var l=this;return Up(s).get(this.userId).next(function(d){return d||new Uo(l.userId,-1,"")})},a}();function oy(a,s,l){var d=wr.prefixForPath(s,l.path),g=d[1],y=IDBKeyRange.lowerBound(d),b=!1;return Fs(a).$t({range:y,Ft:!0},function(C,I,O){C[0]===s&&C[1]===g&&(b=!0),O.done()}).next(function(){return b})}function fu(a){return go(a,xn.store)}function Fs(a){return go(a,wr.store)}function Up(a){return go(a,Uo.store)}var Io=function(){function a(s){this.Ht=s}return a.prototype.next=function(){return this.Ht+=2,this.Ht},a.Jt=function(){return new a(0)},a.Yt=function(){return new a(-1)},a}(),Xh=function(){function a(s,l){this.referenceDelegate=s,this.R=l}return a.prototype.allocateTargetId=function(s){var l=this;return this.Xt(s).next(function(d){var g=new Io(d.highestTargetId);return d.highestTargetId=g.next(),l.Zt(s,d).next(function(){return d.highestTargetId})})},a.prototype.getLastRemoteSnapshotVersion=function(s){return this.Xt(s).next(function(l){return Ft.fromTimestamp(new fi(l.lastRemoteSnapshotVersion.seconds,l.lastRemoteSnapshotVersion.nanoseconds))})},a.prototype.getHighestSequenceNumber=function(s){return this.Xt(s).next(function(l){return l.highestListenSequenceNumber})},a.prototype.setTargetsMetadata=function(s,l,d){var g=this;return this.Xt(s).next(function(y){return y.highestListenSequenceNumber=l,d&&(y.lastRemoteSnapshotVersion=d.toTimestamp()),l>y.highestListenSequenceNumber&&(y.highestListenSequenceNumber=l),g.Zt(s,y)})},a.prototype.addTargetData=function(s,l){var d=this;return this.te(s,l).next(function(){return d.Xt(s).next(function(g){return g.targetCount+=1,d.ee(l,g),d.Zt(s,g)})})},a.prototype.updateTargetData=function(s,l){return this.te(s,l)},a.prototype.removeTargetData=function(s,l){var d=this;return this.removeMatchingKeysForTargetId(s,l.targetId).next(function(){return gc(s).delete(l.targetId)}).next(function(){return d.Xt(s)}).next(function(g){return Ce(g.targetCount>0),g.targetCount-=1,d.Zt(s,g)})},a.prototype.removeTargets=function(s,l,d){var g=this,y=0,b=[];return gc(s).$t(function(C,I){var O=Yh(I);O.sequenceNumber<=l&&null===d.get(O.targetId)&&(y++,b.push(g.removeTargetData(s,O)))}).next(function(){return Te.waitFor(b)}).next(function(){return y})},a.prototype.forEachTarget=function(s,l){return gc(s).$t(function(d,g){var y=Yh(g);l(y)})},a.prototype.Xt=function(s){return Hp(s).get(po.key).next(function(l){return Ce(null!==l),l})},a.prototype.Zt=function(s,l){return Hp(s).put(po.key,l)},a.prototype.te=function(s,l){return gc(s).put(gm(this.R,l))},a.prototype.ee=function(s,l){var d=!1;return s.targetId>l.highestTargetId&&(l.highestTargetId=s.targetId,d=!0),s.sequenceNumber>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=s.sequenceNumber,d=!0),d},a.prototype.getTargetCount=function(s){return this.Xt(s).next(function(l){return l.targetCount})},a.prototype.getTargetData=function(s,l){var d=qn(l),g=IDBKeyRange.bound([d,Number.NEGATIVE_INFINITY],[d,Number.POSITIVE_INFINITY]),y=null;return gc(s).$t({range:g,index:Hr.queryTargetsIndexName},function(b,C,I){var O=Yh(C);Fh(l,O.target)&&(y=O,I.done())}).next(function(){return y})},a.prototype.addMatchingKeys=function(s,l,d){var g=this,y=[],b=va(s);return l.forEach(function(C){var I=Xi(C.path);y.push(b.put(new Pr(d,I))),y.push(g.referenceDelegate.addReference(s,d,C))}),Te.waitFor(y)},a.prototype.removeMatchingKeys=function(s,l,d){var g=this,y=va(s);return Te.forEach(l,function(b){var C=Xi(b.path);return Te.waitFor([y.delete([d,C]),g.referenceDelegate.removeReference(s,d,b)])})},a.prototype.removeMatchingKeysForTargetId=function(s,l){var d=va(s),g=IDBKeyRange.bound([l],[l+1],!1,!0);return d.delete(g)},a.prototype.getMatchingKeysForTargetId=function(s,l){var d=IDBKeyRange.bound([l],[l+1],!1,!0),g=va(s),y=_n();return g.$t({range:d,Ft:!0},function(b,C,I){var O=ri(b[1]),N=new ze(O);y=y.add(N)}).next(function(){return y})},a.prototype.containsKey=function(s,l){var d=Xi(l.path),g=IDBKeyRange.bound([d],[ia(d)],!1,!0),y=0;return va(s).$t({index:Pr.documentTargetsIndex,Ft:!0,range:g},function(b,C,I){0!==b[0]&&(y++,I.done())}).next(function(){return y>0})},a.prototype.lt=function(s,l){return gc(s).get(l).next(function(d){return d?Yh(d):null})},a}();function gc(a){return go(a,Hr.store)}function Hp(a){return go(a,po.store)}function va(a){return go(a,Pr.store)}function xl(a){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(s){if(a.code!==oe.FAILED_PRECONDITION||a.message!==gf)throw a;return De("LocalStore","Unexpectedly lost primary lease"),[2]})})}function sy(a,s){var d=a[1],y=s[1],b=tt(a[0],s[0]);return 0===b?tt(d,y):b}var N_=function(){function a(s){this.ne=s,this.buffer=new rr(sy),this.se=0}return a.prototype.ie=function(){return++this.se},a.prototype.re=function(s){var l=[s,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(l);else{var d=this.buffer.last();sy(l,d)<0&&(this.buffer=this.buffer.delete(d).add(l))}},Object.defineProperty(a.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),a}(),zp=function(){function a(s,l){this.garbageCollector=s,this.asyncQueue=l,this.oe=!1,this.ce=null}return a.prototype.start=function(s){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(s)},a.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(a.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),a.prototype.ue=function(s){var l=this,d=this.oe?3e5:6e4;De("LruGarbageCollector","Garbage collection scheduled in "+d+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",d,function(){return(0,T.mG)(l,void 0,void 0,function(){var g;return(0,T.Jh)(this,function(y){switch(y.label){case 0:this.ce=null,this.oe=!0,y.label=1;case 1:return y.trys.push([1,3,,7]),[4,s.collectGarbage(this.garbageCollector)];case 2:return y.sent(),[3,7];case 3:return ma(g=y.sent())?(De("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",g),[3,6]):[3,4];case 4:return[4,xl(g)];case 5:y.sent(),y.label=6;case 6:return[3,7];case 7:return[4,this.ue(s)];case 8:return y.sent(),[2]}})})})},a}(),qp=function(){function a(s,l){this.ae=s,this.params=l}return a.prototype.calculateTargetCount=function(s,l){return this.ae.he(s).next(function(d){return Math.floor(l/100*d)})},a.prototype.nthSequenceNumber=function(s,l){var d=this;if(0===l)return Te.resolve(ki.o);var g=new N_(l);return this.ae.forEachTarget(s,function(y){return g.re(y.sequenceNumber)}).next(function(){return d.ae.le(s,function(y){return g.re(y)})}).next(function(){return g.maxValue})},a.prototype.removeTargets=function(s,l,d){return this.ae.removeTargets(s,l,d)},a.prototype.removeOrphanedDocuments=function(s,l){return this.ae.removeOrphanedDocuments(s,l)},a.prototype.collect=function(s,l){var d=this;return-1===this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(Qh)):this.getCacheSize(s).next(function(g){return g<d.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector","Garbage collection skipped; Cache size "+g+" is lower than threshold "+d.params.cacheSizeCollectionThreshold),Qh):d.fe(s,l)})},a.prototype.getCacheSize=function(s){return this.ae.getCacheSize(s)},a.prototype.fe=function(s,l){var d,g,y,b,C,I,O,N=this,j=Date.now();return this.calculateTargetCount(s,this.params.percentileToCollect).next(function(z){return z>N.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+N.params.maximumSequenceNumbersToCollect+" from "+z),g=N.params.maximumSequenceNumbersToCollect):g=z,b=Date.now(),N.nthSequenceNumber(s,g)}).next(function(z){return d=z,C=Date.now(),N.removeTargets(s,d,l)}).next(function(z){return y=z,I=Date.now(),N.removeOrphanedDocuments(s,d)}).next(function(z){return O=Date.now(),lo()<=ot.in.DEBUG&&De("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(b-j)+"ms\n\tDetermined least recently used "+g+" in "+(C-b)+"ms\n\tRemoved "+y+" targets in "+(I-C)+"ms\n\tRemoved "+z+" documents in "+(O-I)+"ms\nTotal Duration: "+(O-j)+"ms"),Te.resolve({didRun:!0,sequenceNumbersCollected:g,targetsRemoved:y,documentsRemoved:z})})},a}(),$p=function(){function a(s,l){this.db=s,this.garbageCollector=new qp(this,l)}return a.prototype.he=function(s){var l=this.de(s);return this.db.getTargetCache().getTargetCount(s).next(function(d){return l.next(function(g){return d+g})})},a.prototype.de=function(s){var l=0;return this.le(s,function(d){l++}).next(function(){return l})},a.prototype.forEachTarget=function(s,l){return this.db.getTargetCache().forEachTarget(s,l)},a.prototype.le=function(s,l){return this.we(s,function(d,g){return l(g)})},a.prototype.addReference=function(s,l,d){return Gp(s,d)},a.prototype.removeReference=function(s,l,d){return Gp(s,d)},a.prototype.removeTargets=function(s,l,d){return this.db.getTargetCache().removeTargets(s,l,d)},a.prototype.markPotentiallyOrphaned=function(s,l){return Gp(s,l)},a.prototype._e=function(s,l){return g=l,y=!1,Up(d=s).Ot(function(b){return oy(d,b,g).next(function(C){return C&&(y=!0),Te.resolve(!C)})}).next(function(){return y});var d,g,y},a.prototype.removeOrphanedDocuments=function(s,l){var d=this,g=this.db.getRemoteDocumentCache().newChangeBuffer(),y=[],b=0;return this.we(s,function(C,I){if(I<=l){var O=d._e(s,C).next(function(N){if(!N)return b++,g.getEntry(s,C).next(function(){return g.removeEntry(C),va(s).delete([0,Xi(C.path)])})});y.push(O)}}).next(function(){return Te.waitFor(y)}).next(function(){return g.apply(s)}).next(function(){return b})},a.prototype.removeTarget=function(s,l){var d=l.withSequenceNumber(s.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(s,d)},a.prototype.updateLimboDocument=function(s,l){return Gp(s,l)},a.prototype.we=function(s,l){var d,g=va(s),y=ki.o;return g.$t({index:Pr.documentTargetsIndex},function(b,C){var O=C.path,N=C.sequenceNumber;0===b[0]?(y!==ki.o&&l(new ze(ri(d)),y),y=N,d=O):y=ki.o}).next(function(){y!==ki.o&&l(new ze(ri(d)),y)})},a.prototype.getCacheSize=function(s){return this.db.getRemoteDocumentCache().getSize(s)},a}();function Gp(a,s){return va(a).put((d=a.currentSequenceNumber,new Pr(0,Xi(s.path),d)));var d}var Ol=function(){function a(s,l){this.mapKeyFn=s,this.equalsFn=l,this.inner={}}return a.prototype.get=function(s){var l=this.mapKeyFn(s),d=this.inner[l];if(void 0!==d)for(var g=0,y=d;g<y.length;g++){var b=y[g],I=b[1];if(this.equalsFn(b[0],s))return I}},a.prototype.has=function(s){return void 0!==this.get(s)},a.prototype.set=function(s,l){var d=this.mapKeyFn(s),g=this.inner[d];if(void 0!==g){for(var y=0;y<g.length;y++)if(this.equalsFn(g[y][0],s))return void(g[y]=[s,l]);g.push([s,l])}else this.inner[d]=[[s,l]]},a.prototype.delete=function(s){var l=this.mapKeyFn(s),d=this.inner[l];if(void 0===d)return!1;for(var g=0;g<d.length;g++)if(this.equalsFn(d[g][0],s))return 1===d.length?delete this.inner[l]:d.splice(g,1),!0;return!1},a.prototype.forEach=function(s){Lt(this.inner,function(l,d){for(var g=0,y=d;g<y.length;g++){var b=y[g];s(b[0],b[1])}})},a.prototype.isEmpty=function(){return Gi(this.inner)},a}(),Df=function(){function a(){this.changes=new Ol(function(s){return s.toString()},function(s,l){return s.isEqual(l)}),this.changesApplied=!1}return a.prototype.getReadTime=function(s){var l=this.changes.get(s);return l?l.readTime:Ft.min()},a.prototype.addEntry=function(s,l){this.assertNotApplied(),this.changes.set(s.key,{document:s,readTime:l})},a.prototype.removeEntry=function(s,l){void 0===l&&(l=null),this.assertNotApplied(),this.changes.set(s,{document:mi.newInvalidDocument(s),readTime:l})},a.prototype.getEntry=function(s,l){this.assertNotApplied();var d=this.changes.get(l);return void 0!==d?Te.resolve(d.document):this.getFromCache(s,l)},a.prototype.getEntries=function(s,l){return this.getAllFromCache(s,l)},a.prototype.apply=function(s){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(s)},a.prototype.assertNotApplied=function(){},a}(),ay=function(){function a(s,l){this.R=s,this.Ut=l}return a.prototype.addEntry=function(s,l,d){return pu(s).put(Zh(l),d)},a.prototype.removeEntry=function(s,l){var d=pu(s),g=Zh(l);return d.delete(g)},a.prototype.updateMetadata=function(s,l){var d=this;return this.getMetadata(s).next(function(g){return g.byteSize+=l,d.me(s,g)})},a.prototype.getEntry=function(s,l){var d=this;return pu(s).get(Zh(l)).next(function(g){return d.ye(l,g)})},a.prototype.ge=function(s,l){var d=this;return pu(s).get(Zh(l)).next(function(g){return{document:d.ye(l,g),size:Cf(g)}})},a.prototype.getEntries=function(s,l){var d=this,g=jr();return this.pe(s,l,function(y,b){var C=d.ye(y,b);g=g.insert(y,C)}).next(function(){return g})},a.prototype.Ee=function(s,l){var d=this,g=jr(),y=new $n(ze.comparator);return this.pe(s,l,function(b,C){var I=d.ye(b,C);g=g.insert(b,I),y=y.insert(b,Cf(C))}).next(function(){return{documents:g,Te:y}})},a.prototype.pe=function(s,l,d){if(l.isEmpty())return Te.resolve();var g=IDBKeyRange.bound(l.first().path.toArray(),l.last().path.toArray()),y=l.getIterator(),b=y.getNext();return pu(s).$t({range:g},function(C,I,O){for(var N=ze.fromSegments(C);b&&ze.comparator(b,N)<0;)d(b,null),b=y.getNext();b&&b.isEqual(N)&&(d(b,I),b=y.hasNext()?y.getNext():null),b?O.Ct(b.path.toArray()):O.done()}).next(function(){for(;b;)d(b,null),b=y.hasNext()?y.getNext():null})},a.prototype.getDocumentsMatchingQuery=function(s,l,d){var g=this,y=jr(),b=l.path.length+1,C={};if(d.isEqual(Ft.min())){var I=l.path.toArray();C.range=IDBKeyRange.lowerBound(I)}else{var O=l.path.toArray(),N=_f(d);C.range=IDBKeyRange.lowerBound([O,N],!0),C.index=ir.collectionReadTimeIndex}return pu(s).$t(C,function(j,z,J){if(j.length===b){var ee=Ps(g.R,z);l.path.isPrefixOf(ee.key.path)?Rs(l,ee)&&(y=y.insert(ee.key,ee)):J.done()}}).next(function(){return y})},a.prototype.newChangeBuffer=function(s){return new uy(this,!!s&&s.trackRemovals)},a.prototype.getSize=function(s){return this.getMetadata(s).next(function(l){return l.byteSize})},a.prototype.getMetadata=function(s){return ym(s).get(Ur.key).next(function(l){return Ce(!!l),l})},a.prototype.me=function(s,l){return ym(s).put(Ur.key,l)},a.prototype.ye=function(s,l){if(l){var d=Ps(this.R,l);if(!d.isNoDocument()||!d.version.isEqual(Ft.min()))return d}return mi.newInvalidDocument(s)},a}(),uy=function(a){function s(l,d){var g=this;return(g=a.call(this)||this).Ie=l,g.trackRemovals=d,g.Ae=new Ol(function(y){return y.toString()},function(y,b){return y.isEqual(b)}),g}return(0,T.ZT)(s,a),s.prototype.applyChanges=function(l){var d=this,g=[],y=0,b=new rr(function(C,I){return tt(C.canonicalString(),I.canonicalString())});return this.changes.forEach(function(C,I){var O=d.Ae.get(C);if(I.document.isValidDocument()){var N=yf(d.Ie.R,I.document,d.getReadTime(C));b=b.add(C.path.popLast());var j=Cf(N);y+=j-O,g.push(d.Ie.addEntry(l,C,N))}else if(y-=O,d.trackRemovals){var z=yf(d.Ie.R,mi.newNoDocument(C,Ft.min()),d.getReadTime(C));g.push(d.Ie.addEntry(l,C,z))}else g.push(d.Ie.removeEntry(l,C))}),b.forEach(function(C){g.push(d.Ie.Ut.addToCollectionParentIndex(l,C))}),g.push(this.Ie.updateMetadata(l,y)),Te.waitFor(g)},s.prototype.getFromCache=function(l,d){var g=this;return this.Ie.ge(l,d).next(function(y){return g.Ae.set(d,y.size),y.document})},s.prototype.getAllFromCache=function(l,d){var g=this;return this.Ie.Ee(l,d).next(function(y){var b=y.documents;return y.Te.forEach(function(C,I){g.Ae.set(C,I)}),b})},s}(Df);function ym(a){return go(a,Ur.store)}function pu(a){return go(a,ir.store)}function Zh(a){return a.path.toArray()}var Sf=function(){function a(s){this.R=s}return a.prototype.Rt=function(s,l,d,g){var y=this;Ce(d<g&&d>=0&&g<=11);var I,b=new To("createOrUpgrade",l);d<1&&g>=1&&(s.createObjectStore(wi.store),(I=s).createObjectStore(Uo.store,{keyPath:Uo.keyPath}),I.createObjectStore(xn.store,{keyPath:xn.keyPath,autoIncrement:!0}).createIndex(xn.userMutationsIndex,xn.userMutationsKeyPath,{unique:!0}),I.createObjectStore(wr.store),Wp(s),function(I){I.createObjectStore(ir.store)}(s));var C=Te.resolve();return d<3&&g>=3&&(0!==d&&(function(I){I.deleteObjectStore(Pr.store),I.deleteObjectStore(Hr.store),I.deleteObjectStore(po.store)}(s),Wp(s)),C=C.next(function(){return function(I){var O=I.store(po.store),N=new po(0,0,Ft.min().toTimestamp(),0);return O.put(po.key,N)}(b)})),d<4&&g>=4&&(0!==d&&(C=C.next(function(){return function(I,O){return O.store(xn.store).Nt().next(function(N){I.deleteObjectStore(xn.store),I.createObjectStore(xn.store,{keyPath:xn.keyPath,autoIncrement:!0}).createIndex(xn.userMutationsIndex,xn.userMutationsKeyPath,{unique:!0});var j=O.store(xn.store),z=N.map(function(J){return j.put(J)});return Te.waitFor(z)})}(s,b)})),C=C.next(function(){!function(I){I.createObjectStore(ga.store,{keyPath:ga.keyPath})}(s)})),d<5&&g>=5&&(C=C.next(function(){return y.Re(b)})),d<6&&g>=6&&(C=C.next(function(){return function(I){I.createObjectStore(Ur.store)}(s),y.be(b)})),d<7&&g>=7&&(C=C.next(function(){return y.ve(b)})),d<8&&g>=8&&(C=C.next(function(){return y.Pe(s,b)})),d<9&&g>=9&&(C=C.next(function(){(function(I){I.objectStoreNames.contains("remoteDocumentChanges")&&I.deleteObjectStore("remoteDocumentChanges")})(s),function(I){var O=I.objectStore(ir.store);O.createIndex(ir.readTimeIndex,ir.readTimeIndexPath,{unique:!1}),O.createIndex(ir.collectionReadTimeIndex,ir.collectionReadTimeIndexPath,{unique:!1})}(l)})),d<10&&g>=10&&(C=C.next(function(){return y.Ve(b)})),d<11&&g>=11&&(C=C.next(function(){(function(I){I.createObjectStore(uu.store,{keyPath:uu.keyPath})})(s),function(I){I.createObjectStore(Ml.store,{keyPath:Ml.keyPath})}(s)})),C},a.prototype.be=function(s){var l=0;return s.store(ir.store).$t(function(d,g){l+=Cf(g)}).next(function(){var d=new Ur(l);return s.store(Ur.store).put(Ur.key,d)})},a.prototype.Re=function(s){var l=this,d=s.store(Uo.store),g=s.store(xn.store);return d.Nt().next(function(y){return Te.forEach(y,function(b){var C=IDBKeyRange.bound([b.userId,-1],[b.userId,b.lastAcknowledgedBatchId]);return g.Nt(xn.userMutationsIndex,C).next(function(I){return Te.forEach(I,function(O){Ce(O.userId===b.userId);var N=Rl(l.R,O);return vm(s,b.userId,N).next(function(){})})})})})},a.prototype.ve=function(s){var l=s.store(Pr.store),d=s.store(ir.store);return s.store(po.store).get(po.key).next(function(g){var y=[];return d.$t(function(b,C){var I=new ut(b),O=[0,Xi(I)];y.push(l.get(O).next(function(N){return N?Te.resolve():l.put(new Pr(0,Xi(I),g.highestListenSequenceNumber))}))}).next(function(){return Te.waitFor(y)})})},a.prototype.Pe=function(s,l){s.createObjectStore(au.store,{keyPath:au.keyPath});var d=l.store(au.store),g=new wf,y=function(b){if(g.add(b)){var C=b.lastSegment(),I=b.popLast();return d.put({collectionId:C,parent:Xi(I)})}};return l.store(ir.store).$t({Ft:!0},function(b,C){var I=new ut(b);return y(I.popLast())}).next(function(){return l.store(wr.store).$t({Ft:!0},function(b,C){var O=ri(b[1]);return y(O.popLast())})})},a.prototype.Ve=function(s){var l=this,d=s.store(Hr.store);return d.$t(function(g,y){var b=Yh(y),C=gm(l.R,b);return d.put(C)})},a}();function Wp(a){a.createObjectStore(Pr.store,{keyPath:Pr.keyPath}).createIndex(Pr.documentTargetsIndex,Pr.documentTargetsKeyPath,{unique:!0}),a.createObjectStore(Hr.store,{keyPath:Hr.keyPath}).createIndex(Hr.queryTargetsIndexName,Hr.queryTargetsKeyPath,{unique:!0}),a.createObjectStore(po.store)}var Pl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",cy=function(){function a(s,l,d,g,y,b,C,I,O,N){if(this.allowTabSynchronization=s,this.persistenceKey=l,this.clientId=d,this.Se=y,this.window=b,this.document=C,this.De=O,this.Ce=N,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(j){return Promise.resolve()},!a.yt())throw new be(oe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $p(this,g),this.Le=l+"main",this.R=new Kh(I),this.Be=new Wh(this.Le,11,new Sf(this.R)),this.qe=new Xh(this.referenceDelegate,this.R),this.Ut=new jp,this.Ue=new ay(this.R,this.Ut),this.Ke=new Ns,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===N&&yr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return a.prototype.start=function(){var s=this;return this.je().then(function(){if(!s.isPrimary&&!s.allowTabSynchronization)throw new be(oe.FAILED_PRECONDITION,Pl);return s.We(),s.Ge(),s.ze(),s.runTransaction("getHighestListenSequenceNumber","readonly",function(l){return s.qe.getHighestSequenceNumber(l)})}).then(function(l){s.Ne=new ki(l,s.De)}).then(function(){s.xe=!0}).catch(function(l){return s.Be&&s.Be.close(),Promise.reject(l)})},a.prototype.He=function(s){var l=this;return this.Me=function(d){return(0,T.mG)(l,void 0,void 0,function(){return(0,T.Jh)(this,function(g){return this.started?[2,s(d)]:[2]})})},s(this.isPrimary)},a.prototype.setDatabaseDeletedListener=function(s){var l=this;this.Be.vt(function(d){return(0,T.mG)(l,void 0,void 0,function(){return(0,T.Jh)(this,function(g){switch(g.label){case 0:return null===d.newVersion?[4,s()]:[3,2];case 1:g.sent(),g.label=2;case 2:return[2]}})})})},a.prototype.setNetworkEnabled=function(s){var l=this;this.networkEnabled!==s&&(this.networkEnabled=s,this.Se.enqueueAndForget(function(){return(0,T.mG)(l,void 0,void 0,function(){return(0,T.Jh)(this,function(d){switch(d.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:d.sent(),d.label=2;case 2:return[2]}})})}))},a.prototype.je=function(){var s=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(l){return Tf(l).put(new ga(s.clientId,Date.now(),s.networkEnabled,s.inForeground)).next(function(){if(s.isPrimary)return s.Je(l).next(function(d){d||(s.isPrimary=!1,s.Se.enqueueRetryable(function(){return s.Me(!1)}))})}).next(function(){return s.Ye(l)}).next(function(d){return s.isPrimary&&!d?s.Xe(l).next(function(){return!1}):!!d&&s.Ze(l).next(function(){return!0})})}).catch(function(l){if(ma(l))return De("IndexedDbPersistence","Failed to extend owner lease: ",l),s.isPrimary;if(!s.allowTabSynchronization)throw l;return De("IndexedDbPersistence","Releasing owner lease after error during lease refresh",l),!1}).then(function(l){s.isPrimary!==l&&s.Se.enqueueRetryable(function(){return s.Me(l)}),s.isPrimary=l})},a.prototype.Je=function(s){var l=this;return pn(s).get(wi.key).next(function(d){return Te.resolve(l.tn(d))})},a.prototype.en=function(s){return Tf(s).delete(this.clientId)},a.prototype.nn=function(){return(0,T.mG)(this,void 0,void 0,function(){var s,l,d,y=this;return(0,T.Jh)(this,function(b){switch(b.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(C){var I=go(C,ga.store);return I.Nt().next(function(O){var N=y.rn(O,18e5),j=O.filter(function(z){return-1===N.indexOf(z)});return Te.forEach(j,function(z){return I.delete(z.clientId)}).next(function(){return j})})}).catch(function(){return[]})]);case 1:if(s=b.sent(),this.Qe)for(l=0,d=s;l<d.length;l++)this.Qe.removeItem(this.on(d[l].clientId));b.label=2;case 2:return[2]}})})},a.prototype.ze=function(){var s=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return s.je().then(function(){return s.nn()}).then(function(){return s.ze()})})},a.prototype.tn=function(s){return!!s&&s.ownerId===this.clientId},a.prototype.Ye=function(s){var l=this;return this.Ce?Te.resolve(!0):pn(s).get(wi.key).next(function(d){if(null!==d&&l.sn(d.leaseTimestampMs,5e3)&&!l.cn(d.ownerId)){if(l.tn(d)&&l.networkEnabled)return!0;if(!l.tn(d)){if(!d.allowTabSynchronization)throw new be(oe.FAILED_PRECONDITION,Pl);return!1}}return!(!l.networkEnabled||!l.inForeground)||Tf(s).Nt().next(function(g){return void 0===l.rn(g,5e3).find(function(y){return!(l.clientId===y.clientId||!(!l.networkEnabled&&y.networkEnabled||!l.inForeground&&y.inForeground&&l.networkEnabled===y.networkEnabled))})})}).next(function(d){return l.isPrimary!==d&&De("IndexedDbPersistence","Client "+(d?"is":"is not")+" eligible for a primary lease."),d})},a.prototype.shutdown=function(){return(0,T.mG)(this,void 0,void 0,function(){var s=this;return(0,T.Jh)(this,function(l){switch(l.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[wi.store,ga.store],function(d){var g=new lu(d,ki.o);return s.Xe(g).next(function(){return s.en(g)})})];case 1:return l.sent(),this.Be.close(),this.ln(),[2]}})})},a.prototype.rn=function(s,l){var d=this;return s.filter(function(g){return d.sn(g.updateTimeMs,l)&&!d.cn(g.clientId)})},a.prototype.fn=function(){var s=this;return this.runTransaction("getActiveClients","readonly",function(l){return Tf(l).Nt().next(function(d){return s.rn(d,18e5).map(function(g){return g.clientId})})})},Object.defineProperty(a.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),a.prototype.getMutationQueue=function(s){return iy.Qt(s,this.R,this.Ut,this.referenceDelegate)},a.prototype.getTargetCache=function(){return this.qe},a.prototype.getRemoteDocumentCache=function(){return this.Ue},a.prototype.getIndexManager=function(){return this.Ut},a.prototype.getBundleCache=function(){return this.Ke},a.prototype.runTransaction=function(s,l,d){var y,g=this;return De("IndexedDbPersistence","Starting transaction:",s),this.Be.runTransaction(s,"readonly"===l?"readonly":"readwrite",ry,function(C){return y=new lu(C,g.Ne?g.Ne.next():ki.o),"readwrite-primary"===l?g.Je(y).next(function(I){return!!I||g.Ye(y)}).next(function(I){if(!I)throw yr("Failed to obtain primary lease for action '"+s+"'."),g.isPrimary=!1,g.Se.enqueueRetryable(function(){return g.Me(!1)}),new be(oe.FAILED_PRECONDITION,gf);return d(y)}).next(function(I){return g.Ze(y).next(function(){return I})}):g.dn(y).next(function(){return d(y)})}).then(function(C){return y.raiseOnCommittedEvent(),C})},a.prototype.dn=function(s){var l=this;return pn(s).get(wi.key).next(function(d){if(null!==d&&l.sn(d.leaseTimestampMs,5e3)&&!l.cn(d.ownerId)&&!l.tn(d)&&!(l.Ce||l.allowTabSynchronization&&d.allowTabSynchronization))throw new be(oe.FAILED_PRECONDITION,Pl)})},a.prototype.Ze=function(s){var l=new wi(this.clientId,this.allowTabSynchronization,Date.now());return pn(s).put(wi.key,l)},a.yt=function(){return Wh.yt()},a.prototype.Xe=function(s){var l=this,d=pn(s);return d.get(wi.key).next(function(g){return l.tn(g)?(De("IndexedDbPersistence","Releasing primary lease."),d.delete(wi.key)):Te.resolve()})},a.prototype.sn=function(s,l){var d=Date.now();return!(s<d-l||s>d&&(yr("Detected an update time that is in the future: "+s+" > "+d),1))},a.prototype.We=function(){var s=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){s.Se.enqueueAndForget(function(){return s.inForeground="visible"===s.document.visibilityState,s.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},a.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},a.prototype.Ge=function(){var s,l=this;"function"==typeof(null===(s=this.window)||void 0===s?void 0:s.addEventListener)&&(this.ke=function(){l.un(),(0,We.G6)()&&navigator.appVersion.match("Version/14")&&l.Se.enterRestrictedMode(!0),l.Se.enqueueAndForget(function(){return l.shutdown()})},this.window.addEventListener("pagehide",this.ke))},a.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},a.prototype.cn=function(s){var l;try{var d=null!==(null===(l=this.Qe)||void 0===l?void 0:l.getItem(this.on(s)));return De("IndexedDbPersistence","Client '"+s+"' "+(d?"is":"is not")+" zombied in LocalStorage"),d}catch(g){return yr("IndexedDbPersistence","Failed to get zombied client id.",g),!1}},a.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(s){yr("Failed to set zombie client id.",s)}},a.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},a.prototype.on=function(s){return"firestore_zombie_"+this.persistenceKey+"_"+s},a}();function pn(a){return go(a,wi.store)}function Tf(a){return go(a,ga.store)}function Kp(a,s){var l=a.projectId;return a.isDefaultDatabase||(l+="."+a.database),"firestore/"+s+"/"+l+"/"}var Yt=function(a,s){this.progress=a,this.wn=s},If=function(){function a(s,l,d){this.Ue=s,this._n=l,this.Ut=d}return a.prototype.mn=function(s,l){var d=this;return this._n.getAllMutationBatchesAffectingDocumentKey(s,l).next(function(g){return d.yn(s,l,g)})},a.prototype.yn=function(s,l,d){return this.Ue.getEntry(s,l).next(function(g){for(var y=0,b=d;y<b.length;y++)b[y].applyToLocalView(g);return g})},a.prototype.gn=function(s,l){s.forEach(function(d,g){for(var y=0,b=l;y<b.length;y++)b[y].applyToLocalView(g)})},a.prototype.pn=function(s,l){var d=this;return this.Ue.getEntries(s,l).next(function(g){return d.En(s,g).next(function(){return g})})},a.prototype.En=function(s,l){var d=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(s,l).next(function(g){return d.gn(l,g)})},a.prototype.getDocumentsMatchingQuery=function(s,l,d){return ze.isDocumentKey((g=l).path)&&null===g.collectionGroup&&0===g.filters.length?this.Tn(s,l.path):ac(l)?this.In(s,l,d):this.An(s,l,d);var g},a.prototype.Tn=function(s,l){return this.mn(s,new ze(l)).next(function(d){var g=nf();return d.isFoundDocument()&&(g=g.insert(d.key,d)),g})},a.prototype.In=function(s,l,d){var g=this,y=l.collectionGroup,b=nf();return this.Ut.getCollectionParents(s,y).next(function(C){return Te.forEach(C,function(I){var N,j,O=(N=l,j=I.child(y),new Eo(j,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt));return g.An(s,O,d).next(function(N){N.forEach(function(j,z){b=b.insert(j,z)})})}).next(function(){return b})})},a.prototype.An=function(s,l,d){var g,y,b=this;return this.Ue.getDocumentsMatchingQuery(s,l,d).next(function(C){return g=C,b._n.getAllMutationBatchesAffectingQuery(s,l)}).next(function(C){return b.Rn(s,y=C,g).next(function(I){g=I;for(var O=0,N=y;O<N.length;O++)for(var j=N[O],z=0,J=j.mutations;z<J.length;z++){var ee=J[z],ae=ee.key,ke=g.get(ae);null==ke&&(ke=mi.newInvalidDocument(ae),g=g.insert(ae,ke)),xi(ee,ke,j.localWriteTime),ke.isFoundDocument()||(g=g.remove(ae))}})}).next(function(){return g.forEach(function(C,I){Rs(l,I)||(g=g.remove(C))}),g})},a.prototype.Rn=function(s,l,d){for(var g=_n(),y=0,b=l;y<b.length;y++)for(var C=0,I=b[y].mutations;C<I.length;C++){var O=I[C];O instanceof br&&null===d.get(O.key)&&(g=g.add(O.key))}var N=d;return this.Ue.getEntries(s,g).next(function(j){return j.forEach(function(z,J){J.isFoundDocument()&&(N=N.insert(z,J))}),N})},a}(),Yp=function(){function a(s,l,d,g){this.targetId=s,this.fromCache=l,this.bn=d,this.vn=g}return a.Pn=function(s,l){for(var d=_n(),g=_n(),y=0,b=l.docChanges;y<b.length;y++){var C=b[y];switch(C.type){case 0:d=d.add(C.doc.key);break;case 1:g=g.add(C.doc.key)}}return new a(s,l.fromCache,d,g)},a}(),_m=function(){function a(){}return a.prototype.Vn=function(s){this.Sn=s},a.prototype.getDocumentsMatchingQuery=function(s,l,d,g){var b,y=this;return 0===(b=l).filters.length&&null===b.limit&&null==b.startAt&&null==b.endAt&&(0===b.explicitOrderBy.length||1===b.explicitOrderBy.length&&b.explicitOrderBy[0].field.isKeyField())||d.isEqual(Ft.min())?this.Dn(s,l):this.Sn.pn(s,g).next(function(b){var C=y.Cn(l,b);return(Yd(l)||Qd(l))&&y.Nn(l.limitType,C,g,d)?y.Dn(s,l):(lo()<=ot.in.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),as(l)),y.Sn.getDocumentsMatchingQuery(s,l,d).next(function(I){return C.forEach(function(O){I=I.insert(O.key,O)}),I}))})},a.prototype.Cn=function(s,l){var d=new rr(pl(s));return l.forEach(function(g,y){Rs(s,y)&&(d=d.add(y))}),d},a.prototype.Nn=function(s,l,d,g){if(d.size!==l.size)return!0;var y="F"===s?l.last():l.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(g)>0)},a.prototype.Dn=function(s,l){return lo()<=ot.in.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",as(l)),this.Sn.getDocumentsMatchingQuery(s,l,Ft.min())},a}(),ly=function(){function a(s,l,d,g){this.persistence=s,this.xn=l,this.R=g,this.kn=new $n(tt),this.Fn=new Ol(function(y){return qn(y)},Fh),this.$n=Ft.min(),this._n=s.getMutationQueue(d),this.On=s.getRemoteDocumentCache(),this.qe=s.getTargetCache(),this.Mn=new If(this.On,this._n,this.persistence.getIndexManager()),this.Ke=s.getBundleCache(),this.xn.Vn(this.Mn)}return a.prototype.collectGarbage=function(s){var l=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(d){return s.collect(d,l.kn)})},a}();function bm(a,s,l,d){return new ly(a,s,l,d)}function wm(a,s){return(0,T.mG)(this,void 0,void 0,function(){var l,d,g,y;return(0,T.Jh)(this,function(b){switch(b.label){case 0:return l=Le(a),d=l._n,g=l.Mn,[4,l.persistence.runTransaction("Handle user change","readonly",function(C){var I;return l._n.getAllMutationBatches(C).next(function(O){return I=O,d=l.persistence.getMutationQueue(s),g=new If(l.On,d,l.persistence.getIndexManager()),d.getAllMutationBatches(C)}).next(function(O){for(var N=[],j=[],z=_n(),J=0,ee=I;J<ee.length;J++){var ae=ee[J];N.push(ae.batchId);for(var ke=0,Oe=ae.mutations;ke<Oe.length;ke++)z=z.add(Oe[ke].key)}for(var ft=0,hn=O;ft<hn.length;ft++){var Dn=hn[ft];j.push(Dn.batchId);for(var Qt=0,eo=Dn.mutations;Qt<eo.length;Qt++)z=z.add(eo[Qt].key)}return g.pn(C,z).next(function(Jm){return{Ln:Jm,removedBatchIds:N,addedBatchIds:j}})})})];case 1:return y=b.sent(),[2,(l._n=d,l.Mn=g,l.xn.Vn(l.Mn),y)]}})})}function F_(a,s){var l=Le(a);return l.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(d){var b,C,I,O,N,j,z,g=s.batch.keys(),y=l.On.newChangeBuffer({trackRemovals:!0});return(b=l,C=d,I=s,O=y,N=I.batch,j=N.keys(),z=Te.resolve(),j.forEach(function(J){z=z.next(function(){return O.getEntry(C,J)}).next(function(ee){var ae=I.docVersions.get(J);Ce(null!==ae),ee.version.compareTo(ae)<0&&(N.applyToRemoteDocument(ee,I),ee.isValidDocument()&&O.addEntry(ee,I.commitVersion))})}),z.next(function(){return b._n.removeMutationBatch(C,N)})).next(function(){return y.apply(d)}).next(function(){return l._n.performConsistencyCheck(d)}).next(function(){return l.Mn.pn(d,g)})})}function hy(a){var s=Le(a);return s.persistence.runTransaction("Get last remote snapshot version","readonly",function(l){return s.qe.getLastRemoteSnapshotVersion(l)})}function Jh(a,s){var l=Le(a),d=s.snapshotVersion,g=l.kn;return l.persistence.runTransaction("Apply remote event","readwrite-primary",function(y){var b=l.On.newChangeBuffer({trackRemovals:!0});g=l.kn;var C=[];s.targetChanges.forEach(function(N,j){var ae,ke,Oe,z=g.get(j);if(z){C.push(l.qe.removeMatchingKeys(y,N.removedDocuments,j).next(function(){return l.qe.addMatchingKeys(y,N.addedDocuments,j)}));var J=N.resumeToken;if(J.approximateByteSize()>0){var ee=z.withResumeToken(J,d).withSequenceNumber(y.currentSequenceNumber);g=g.insert(j,ee),ae=z,Oe=N,Ce((ke=ee).resumeToken.approximateByteSize()>0),(0===ae.resumeToken.approximateByteSize()||ke.snapshotVersion.toMicroseconds()-ae.snapshotVersion.toMicroseconds()>=3e8||Oe.addedDocuments.size+Oe.modifiedDocuments.size+Oe.removedDocuments.size>0)&&C.push(l.qe.updateTargetData(y,ee))}}});var I=jr();if(s.documentUpdates.forEach(function(N,j){s.resolvedLimboDocuments.has(N)&&C.push(l.persistence.referenceDelegate.updateLimboDocument(y,N))}),C.push(mc(y,b,s.documentUpdates,d,void 0).next(function(N){I=N})),!d.isEqual(Ft.min())){var O=l.qe.getLastRemoteSnapshotVersion(y).next(function(N){return l.qe.setTargetsMetadata(y,y.currentSequenceNumber,d)});C.push(O)}return Te.waitFor(C).next(function(){return b.apply(y)}).next(function(){return l.Mn.En(y,I)}).next(function(){return I})}).then(function(y){return l.kn=g,y})}function mc(a,s,l,d,g){var y=_n();return l.forEach(function(b){return y=y.add(b)}),s.getEntries(a,y).next(function(b){var C=jr();return l.forEach(function(I,O){var N=b.get(I),j=g?.get(I)||d;O.isNoDocument()&&O.version.isEqual(Ft.min())?(s.removeEntry(I,j),C=C.insert(I,O)):!N.isValidDocument()||O.version.compareTo(N.version)>0||0===O.version.compareTo(N.version)&&N.hasPendingWrites?(s.addEntry(O,j),C=C.insert(I,O)):De("LocalStore","Ignoring outdated watch update for ",I,". Current version:",N.version," Watch version:",O.version)}),C})}function dy(a,s){var l=Le(a);return l.persistence.runTransaction("Get next mutation batch","readonly",function(d){return void 0===s&&(s=-1),l._n.getNextMutationBatchAfterBatchId(d,s)})}function ya(a,s){var l=Le(a);return l.persistence.runTransaction("Allocate target","readwrite",function(d){var g;return l.qe.getTargetData(d,s).next(function(y){return y?Te.resolve(g=y):l.qe.allocateTargetId(d).next(function(b){return g=new pc(s,b,0,d.currentSequenceNumber),l.qe.addTargetData(d,g).next(function(){return g})})})}).then(function(d){var g=l.kn.get(d.targetId);return(null===g||d.snapshotVersion.compareTo(g.snapshotVersion)>0)&&(l.kn=l.kn.insert(d.targetId,d),l.Fn.set(s,d.targetId)),d})}function Ni(a,s,l){return(0,T.mG)(this,void 0,void 0,function(){var d,g,y,b;return(0,T.Jh)(this,function(C){switch(C.label){case 0:d=Le(a),g=d.kn.get(s),y=l?"readwrite":"readwrite-primary",C.label=1;case 1:return C.trys.push([1,4,,5]),l?[3,3]:[4,d.persistence.runTransaction("Release target",y,function(I){return d.persistence.referenceDelegate.removeTarget(I,g)})];case 2:C.sent(),C.label=3;case 3:return[3,5];case 4:if(!ma(b=C.sent()))throw b;return De("LocalStore","Failed to update sequence numbers for target "+s+": "+b),[3,5];case 5:return d.kn=d.kn.remove(s),d.Fn.delete(g.target),[2]}})})}function Nl(a,s,l){var d=Le(a),g=Ft.min(),y=_n();return d.persistence.runTransaction("Execute query","readonly",function(b){return(C=d,I=b,O=vi(s),N=Le(C),j=N.Fn.get(O),void 0!==j?Te.resolve(N.kn.get(j)):N.qe.getTargetData(I,O)).next(function(C){if(C)return g=C.lastLimboFreeSnapshotVersion,d.qe.getMatchingKeysForTargetId(b,C.targetId).next(function(I){y=I})}).next(function(){return d.xn.getDocumentsMatchingQuery(b,s,l?g:Ft.min(),l?y:_n())}).next(function(C){return{documents:C,Bn:y}});var C,I,O,N,j})}function Qp(a,s){var l=Le(a),d=Le(l.qe),g=l.kn.get(s);return g?Promise.resolve(g.target):l.persistence.runTransaction("Get target data","readonly",function(y){return d.lt(y,s).next(function(b){return b?b.target:null})})}function Xp(a){var s=Le(a);return s.persistence.runTransaction("Get new document changes","readonly",function(l){return g=l,y=s.$n,b=Le(s.On),C=jr(),I=_f(y),O=pu(g),N=IDBKeyRange.lowerBound(I,!0),O.$t({index:ir.readTimeIndex,range:N},function(j,z){var J=Ps(b.R,z);C=C.insert(J.key,J),I=z.readTime}).next(function(){return{wn:C,readTime:hu(I)}});var g,y,b,C,I,O,N}).then(function(l){var d=l.wn;return s.$n=l.readTime,d})}function Zp(a){return(0,T.mG)(this,void 0,void 0,function(){var s;return(0,T.Jh)(this,function(l){return[2,(s=Le(a)).persistence.runTransaction("Synchronize last document change read time","readonly",function(d){return y=pu(d),b=Ft.min(),y.$t({index:ir.readTimeIndex,reverse:!0},function(C,I,O){I.readTime&&(b=hu(I.readTime)),O.done()}).next(function(){return b});var y,b}).then(function(d){s.$n=d})]})})}function Em(a,s,l,d){return(0,T.mG)(this,void 0,void 0,function(){var g,y,b,C,I,O,N,j,z,J;return(0,T.Jh)(this,function(ee){switch(ee.label){case 0:for(g=Le(a),y=_n(),b=jr(),C=kn(),I=0,O=l;I<O.length;I++)j=s.qn((N=O[I]).metadata.name),N.document&&(y=y.add(j)),b=b.insert(j,s.Un(N)),C=C.insert(j,s.Kn(N.metadata.readTime));return z=g.On.newChangeBuffer({trackRemovals:!0}),[4,ya(g,(ae=d,vi(fl(ut.fromString("__bundle__/docs/"+ae)))))];case 1:return J=ee.sent(),[2,g.persistence.runTransaction("Apply bundle documents","readwrite",function(ae){return mc(ae,z,b,Ft.min(),C).next(function(ke){return z.apply(ae),ke}).next(function(ke){return g.qe.removeMatchingKeysForTargetId(ae,J.targetId).next(function(){return g.qe.addMatchingKeys(ae,y,J.targetId)}).next(function(){return g.Mn.En(ae,ke)}).next(function(){return ke})})})]}var ae})})}function ed(a,s,l){return void 0===l&&(l=_n()),(0,T.mG)(this,void 0,void 0,function(){var d,g;return(0,T.Jh)(this,function(y){switch(y.label){case 0:return[4,ya(a,vi(Pi(s.bundledQuery)))];case 1:return d=y.sent(),[2,(g=Le(a)).persistence.runTransaction("Save named query","readwrite",function(b){var C=Or(s.readTime);if(d.snapshotVersion.compareTo(C)>=0)return g.Ke.saveNamedQuery(b,s);var I=d.withResumeToken(Br.EMPTY_BYTE_STRING,C);return g.kn=g.kn.insert(I.targetId,I),g.qe.updateTargetData(b,I).next(function(){return g.qe.removeMatchingKeysForTargetId(b,d.targetId)}).next(function(){return g.qe.addMatchingKeys(b,l,d.targetId)}).next(function(){return g.Ke.saveNamedQuery(b,s)})})]}})})}var fy=function(){function a(s){this.R=s,this.Qn=new Map,this.jn=new Map}return a.prototype.getBundleMetadata=function(s,l){return Te.resolve(this.Qn.get(l))},a.prototype.saveBundleMetadata=function(s,l){var d;return this.Qn.set(l.id,{id:(d=l).id,version:d.version,createTime:Or(d.createTime)}),Te.resolve()},a.prototype.getNamedQuery=function(s,l){return Te.resolve(this.jn.get(l))},a.prototype.saveNamedQuery=function(s,l){return this.jn.set(l.name,{name:(d=l).name,query:Pi(d.bundledQuery),readTime:Or(d.readTime)}),Te.resolve();var d},a}(),Jp=function(){function a(){this.Wn=new rr(Er.Gn),this.zn=new rr(Er.Hn)}return a.prototype.isEmpty=function(){return this.Wn.isEmpty()},a.prototype.addReference=function(s,l){var d=new Er(s,l);this.Wn=this.Wn.add(d),this.zn=this.zn.add(d)},a.prototype.Jn=function(s,l){var d=this;s.forEach(function(g){return d.addReference(g,l)})},a.prototype.removeReference=function(s,l){this.Yn(new Er(s,l))},a.prototype.Xn=function(s,l){var d=this;s.forEach(function(g){return d.removeReference(g,l)})},a.prototype.Zn=function(s){var l=this,d=new ze(new ut([])),g=new Er(d,s),y=new Er(d,s+1),b=[];return this.zn.forEachInRange([g,y],function(C){l.Yn(C),b.push(C.key)}),b},a.prototype.ts=function(){var s=this;this.Wn.forEach(function(l){return s.Yn(l)})},a.prototype.Yn=function(s){this.Wn=this.Wn.delete(s),this.zn=this.zn.delete(s)},a.prototype.es=function(s){var l=new ze(new ut([])),d=new Er(l,s),g=new Er(l,s+1),y=_n();return this.zn.forEachInRange([d,g],function(b){y=y.add(b.key)}),y},a.prototype.containsKey=function(s){var l=new Er(s,0),d=this.Wn.firstAfterOrEqual(l);return null!==d&&s.isEqual(d.key)},a}(),Er=function(){function a(s,l){this.key=s,this.ns=l}return a.Gn=function(s,l){return ze.comparator(s.key,l.key)||tt(s.ns,l.ns)},a.Hn=function(s,l){return tt(s.ns,l.ns)||ze.comparator(s.key,l.key)},a}(),Cm=function(){function a(s,l){this.Ut=s,this.referenceDelegate=l,this._n=[],this.ss=1,this.rs=new rr(Er.Gn)}return a.prototype.checkEmpty=function(s){return Te.resolve(0===this._n.length)},a.prototype.addMutationBatch=function(s,l,d,g){var y=this.ss;this.ss++;var b=new vf(y,l,d,g);this._n.push(b);for(var C=0,I=g;C<I.length;C++){var O=I[C];this.rs=this.rs.add(new Er(O.key,y)),this.Ut.addToCollectionParentIndex(s,O.key.path.popLast())}return Te.resolve(b)},a.prototype.lookupMutationBatch=function(s,l){return Te.resolve(this.os(l))},a.prototype.getNextMutationBatchAfterBatchId=function(s,l){var g=this.cs(l+1),y=g<0?0:g;return Te.resolve(this._n.length>y?this._n[y]:null)},a.prototype.getHighestUnacknowledgedBatchId=function(){return Te.resolve(0===this._n.length?-1:this.ss-1)},a.prototype.getAllMutationBatches=function(s){return Te.resolve(this._n.slice())},a.prototype.getAllMutationBatchesAffectingDocumentKey=function(s,l){var d=this,g=new Er(l,0),y=new Er(l,Number.POSITIVE_INFINITY),b=[];return this.rs.forEachInRange([g,y],function(C){var I=d.os(C.ns);b.push(I)}),Te.resolve(b)},a.prototype.getAllMutationBatchesAffectingDocumentKeys=function(s,l){var d=this,g=new rr(tt);return l.forEach(function(y){var b=new Er(y,0),C=new Er(y,Number.POSITIVE_INFINITY);d.rs.forEachInRange([b,C],function(I){g=g.add(I.ns)})}),Te.resolve(this.us(g))},a.prototype.getAllMutationBatchesAffectingQuery=function(s,l){var d=l.path,g=d.length+1,y=d;ze.isDocumentKey(y)||(y=y.child(""));var b=new Er(new ze(y),0),C=new rr(tt);return this.rs.forEachWhile(function(I){var O=I.key.path;return!!d.isPrefixOf(O)&&(O.length===g&&(C=C.add(I.ns)),!0)},b),Te.resolve(this.us(C))},a.prototype.us=function(s){var l=this,d=[];return s.forEach(function(g){var y=l.os(g);null!==y&&d.push(y)}),d},a.prototype.removeMutationBatch=function(s,l){var d=this;Ce(0===this.hs(l.batchId,"removed")),this._n.shift();var g=this.rs;return Te.forEach(l.mutations,function(y){var b=new Er(y.key,l.batchId);return g=g.delete(b),d.referenceDelegate.markPotentiallyOrphaned(s,y.key)}).next(function(){d.rs=g})},a.prototype.Gt=function(s){},a.prototype.containsKey=function(s,l){var d=new Er(l,0),g=this.rs.firstAfterOrEqual(d);return Te.resolve(l.isEqual(g&&g.key))},a.prototype.performConsistencyCheck=function(s){return Te.resolve()},a.prototype.hs=function(s,l){return this.cs(s)},a.prototype.cs=function(s){return 0===this._n.length?0:s-this._n[0].batchId},a.prototype.os=function(s){var l=this.cs(s);return l<0||l>=this._n.length?null:this._n[l]},a}(),Dm=function(){function a(s,l){this.Ut=s,this.ls=l,this.docs=new $n(ze.comparator),this.size=0}return a.prototype.addEntry=function(s,l,d){var g=l.key,y=this.docs.get(g),b=y?y.size:0,C=this.ls(l);return this.docs=this.docs.insert(g,{document:l.clone(),size:C,readTime:d}),this.size+=C-b,this.Ut.addToCollectionParentIndex(s,g.path.popLast())},a.prototype.removeEntry=function(s){var l=this.docs.get(s);l&&(this.docs=this.docs.remove(s),this.size-=l.size)},a.prototype.getEntry=function(s,l){var d=this.docs.get(l);return Te.resolve(d?d.document.clone():mi.newInvalidDocument(l))},a.prototype.getEntries=function(s,l){var d=this,g=jr();return l.forEach(function(y){var b=d.docs.get(y);g=g.insert(y,b?b.document.clone():mi.newInvalidDocument(y))}),Te.resolve(g)},a.prototype.getDocumentsMatchingQuery=function(s,l,d){for(var g=jr(),y=new ze(l.path.child("")),b=this.docs.getIteratorFrom(y);b.hasNext();){var C=b.getNext(),O=C.value,N=O.document,j=O.readTime;if(!l.path.isPrefixOf(C.key.path))break;j.compareTo(d)<=0||Rs(l,N)&&(g=g.insert(N.key,N.clone()))}return Te.resolve(g)},a.prototype.fs=function(s,l){return Te.forEach(this.docs,function(d){return l(d)})},a.prototype.newChangeBuffer=function(s){return new py(this)},a.prototype.getSize=function(s){return Te.resolve(this.size)},a}(),py=function(a){function s(l){var d=this;return(d=a.call(this)||this).Ie=l,d}return(0,T.ZT)(s,a),s.prototype.applyChanges=function(l){var d=this,g=[];return this.changes.forEach(function(y,b){b.document.isValidDocument()?g.push(d.Ie.addEntry(l,b.document,d.getReadTime(y))):d.Ie.removeEntry(y)}),Te.waitFor(g)},s.prototype.getFromCache=function(l,d){return this.Ie.getEntry(l,d)},s.prototype.getAllFromCache=function(l,d){return this.Ie.getEntries(l,d)},s}(Df),eg=function(){function a(s){this.persistence=s,this.ds=new Ol(function(l){return qn(l)},Fh),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this.ws=0,this._s=new Jp,this.targetCount=0,this.ys=Io.Jt()}return a.prototype.forEachTarget=function(s,l){return this.ds.forEach(function(d,g){return l(g)}),Te.resolve()},a.prototype.getLastRemoteSnapshotVersion=function(s){return Te.resolve(this.lastRemoteSnapshotVersion)},a.prototype.getHighestSequenceNumber=function(s){return Te.resolve(this.ws)},a.prototype.allocateTargetId=function(s){return this.highestTargetId=this.ys.next(),Te.resolve(this.highestTargetId)},a.prototype.setTargetsMetadata=function(s,l,d){return d&&(this.lastRemoteSnapshotVersion=d),l>this.ws&&(this.ws=l),Te.resolve()},a.prototype.te=function(s){this.ds.set(s.target,s);var l=s.targetId;l>this.highestTargetId&&(this.ys=new Io(l),this.highestTargetId=l),s.sequenceNumber>this.ws&&(this.ws=s.sequenceNumber)},a.prototype.addTargetData=function(s,l){return this.te(l),this.targetCount+=1,Te.resolve()},a.prototype.updateTargetData=function(s,l){return this.te(l),Te.resolve()},a.prototype.removeTargetData=function(s,l){return this.ds.delete(l.target),this._s.Zn(l.targetId),this.targetCount-=1,Te.resolve()},a.prototype.removeTargets=function(s,l,d){var g=this,y=0,b=[];return this.ds.forEach(function(C,I){I.sequenceNumber<=l&&null===d.get(I.targetId)&&(g.ds.delete(C),b.push(g.removeMatchingKeysForTargetId(s,I.targetId)),y++)}),Te.waitFor(b).next(function(){return y})},a.prototype.getTargetCount=function(s){return Te.resolve(this.targetCount)},a.prototype.getTargetData=function(s,l){var d=this.ds.get(l)||null;return Te.resolve(d)},a.prototype.addMatchingKeys=function(s,l,d){return this._s.Jn(l,d),Te.resolve()},a.prototype.removeMatchingKeys=function(s,l,d){this._s.Xn(l,d);var g=this.persistence.referenceDelegate,y=[];return g&&l.forEach(function(b){y.push(g.markPotentiallyOrphaned(s,b))}),Te.waitFor(y)},a.prototype.removeMatchingKeysForTargetId=function(s,l){return this._s.Zn(l),Te.resolve()},a.prototype.getMatchingKeysForTargetId=function(s,l){var d=this._s.es(l);return Te.resolve(d)},a.prototype.containsKey=function(s,l){return Te.resolve(this._s.containsKey(l))},a}(),Sm=function(){function a(s,l){var d=this;this.gs={},this.Ne=new ki(0),this.xe=!1,this.xe=!0,this.referenceDelegate=s(this),this.qe=new eg(this),this.Ut=new Vp,this.Ue=new Dm(this.Ut,function(b){return d.referenceDelegate.ps(b)}),this.R=new Kh(l),this.Ke=new fy(this.R)}return a.prototype.start=function(){return Promise.resolve()},a.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(a.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),a.prototype.setDatabaseDeletedListener=function(){},a.prototype.setNetworkEnabled=function(){},a.prototype.getIndexManager=function(){return this.Ut},a.prototype.getMutationQueue=function(s){var l=this.gs[s.toKey()];return l||(l=new Cm(this.Ut,this.referenceDelegate),this.gs[s.toKey()]=l),l},a.prototype.getTargetCache=function(){return this.qe},a.prototype.getRemoteDocumentCache=function(){return this.Ue},a.prototype.getBundleCache=function(){return this.Ke},a.prototype.runTransaction=function(s,l,d){var g=this;De("MemoryPersistence","Starting transaction:",s);var y=new Tm(this.Ne.next());return this.referenceDelegate.Es(),d(y).next(function(b){return g.referenceDelegate.Ts(y).next(function(){return b})}).toPromise().then(function(b){return y.raiseOnCommittedEvent(),b})},a.prototype.Is=function(s,l){return Te.or(Object.values(this.gs).map(function(d){return function(){return d.containsKey(s,l)}}))},a}(),Tm=function(a){function s(l){var d=this;return(d=a.call(this)||this).currentSequenceNumber=l,d}return(0,T.ZT)(s,a),s}(cu),Fi=function(){function a(s){this.persistence=s,this.As=new Jp,this.Rs=null}return a.bs=function(s){return new a(s)},Object.defineProperty(a.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Je()},enumerable:!1,configurable:!0}),a.prototype.addReference=function(s,l,d){return this.As.addReference(d,l),this.vs.delete(d.toString()),Te.resolve()},a.prototype.removeReference=function(s,l,d){return this.As.removeReference(d,l),this.vs.add(d.toString()),Te.resolve()},a.prototype.markPotentiallyOrphaned=function(s,l){return this.vs.add(l.toString()),Te.resolve()},a.prototype.removeTarget=function(s,l){var d=this;this.As.Zn(l.targetId).forEach(function(y){return d.vs.add(y.toString())});var g=this.persistence.getTargetCache();return g.getMatchingKeysForTargetId(s,l.targetId).next(function(y){y.forEach(function(b){return d.vs.add(b.toString())})}).next(function(){return g.removeTargetData(s,l)})},a.prototype.Es=function(){this.Rs=new Set},a.prototype.Ts=function(s){var l=this,d=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.vs,function(g){var y=ze.fromPath(g);return l.Ps(s,y).next(function(b){b||d.removeEntry(y)})}).next(function(){return l.Rs=null,d.apply(s)})},a.prototype.updateLimboDocument=function(s,l){var d=this;return this.Ps(s,l).next(function(g){g?d.vs.delete(l.toString()):d.vs.add(l.toString())})},a.prototype.ps=function(s){return 0},a.prototype.Ps=function(s,l){var d=this;return Te.or([function(){return Te.resolve(d.As.containsKey(l))},function(){return d.persistence.getTargetCache().containsKey(s,l)},function(){return d.persistence.Is(s,l)}])},a}(),Cr=function(){function a(s){this.uid=s}return a.prototype.isAuthenticated=function(){return null!=this.uid},a.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},a.prototype.isEqual=function(s){return s.uid===this.uid},a}();function Af(a,s){return"firestore_clients_"+a+"_"+s}function Fl(a,s,l){var d="firestore_mutations_"+a+"_"+l;return s.isAuthenticated()&&(d+="_"+s.uid),d}function ii(a,s){return"firestore_targets_"+a+"_"+s}Cr.UNAUTHENTICATED=new Cr(null),Cr.GOOGLE_CREDENTIALS=new Cr("google-credentials-uid"),Cr.FIRST_PARTY=new Cr("first-party-uid"),Cr.MOCK_USER=new Cr("mock-user");var vc=function(){function a(s,l,d,g){this.user=s,this.batchId=l,this.state=d,this.error=g}return a.Vs=function(s,l,d){var g,y=JSON.parse(d),b="object"==typeof y&&-1!==["pending","acknowledged","rejected"].indexOf(y.state)&&(void 0===y.error||"object"==typeof y.error);return b&&y.error&&(b="string"==typeof y.error.message&&"string"==typeof y.error.code)&&(g=new be(y.error.code,y.error.message)),b?new a(s,l,y.state,g):(yr("SharedClientState","Failed to parse mutation state for ID '"+l+"': "+d),null)},a.prototype.Ss=function(){var s={state:this.state,updateTimeMs:Date.now()};return this.error&&(s.error={code:this.error.code,message:this.error.message}),JSON.stringify(s)},a}(),yc=function(){function a(s,l,d){this.targetId=s,this.state=l,this.error=d}return a.Vs=function(s,l){var d,g=JSON.parse(l),y="object"==typeof g&&-1!==["not-current","current","rejected"].indexOf(g.state)&&(void 0===g.error||"object"==typeof g.error);return y&&g.error&&(y="string"==typeof g.error.message&&"string"==typeof g.error.code)&&(d=new be(g.error.code,g.error.message)),y?new a(s,g.state,d):(yr("SharedClientState","Failed to parse target state for ID '"+s+"': "+l),null)},a.prototype.Ss=function(){var s={state:this.state,updateTimeMs:Date.now()};return this.error&&(s.error={code:this.error.code,message:this.error.message}),JSON.stringify(s)},a}(),td=function(){function a(s,l){this.clientId=s,this.activeTargetIds=l}return a.Vs=function(s,l){for(var d=JSON.parse(l),g="object"==typeof d&&d.activeTargetIds instanceof Array,y=sf(),b=0;g&&b<d.activeTargetIds.length;++b)g=He(d.activeTargetIds[b]),y=y.add(d.activeTargetIds[b]);return g?new a(s,y):(yr("SharedClientState","Failed to parse client data for instance '"+s+"': "+l),null)},a}(),tg=function(){function a(s,l){this.clientId=s,this.onlineState=l}return a.Vs=function(s){var l=JSON.parse(s);return"object"==typeof l&&-1!==["Unknown","Online","Offline"].indexOf(l.onlineState)&&"string"==typeof l.clientId?new a(l.clientId,l.onlineState):(yr("SharedClientState","Failed to parse online state: "+s),null)},a}(),gu=function(){function a(){this.activeTargetIds=sf()}return a.prototype.Ds=function(s){this.activeTargetIds=this.activeTargetIds.add(s)},a.prototype.Cs=function(s){this.activeTargetIds=this.activeTargetIds.delete(s)},a.prototype.Ss=function(){var s={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(s)},a}(),_c=function(){function a(s,l,d,g,y){this.window=s,this.Se=l,this.persistenceKey=d,this.Ns=g,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new $n(tt),this.started=!1,this.$s=[];var b=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.Os=Af(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new gu),this.Ls=new RegExp("^firestore_clients_"+b+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+b+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+b+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(C){return"firestore_bundle_loaded_"+C}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return a.yt=function(s){return!(!s||!s.localStorage)},a.prototype.start=function(){return(0,T.mG)(this,void 0,void 0,function(){var s,l,d,g,y,b,C,I,O,N,z=this;return(0,T.Jh)(this,function(J){switch(J.label){case 0:return[4,this.syncEngine.fn()];case 1:for(s=J.sent(),l=0,d=s;l<d.length;l++)(g=d[l])!==this.Ns&&(y=this.getItem(Af(this.persistenceKey,g)))&&(b=td.Vs(g,y))&&(this.Fs=this.Fs.insert(b.clientId,b));for(this.Qs(),(C=this.storage.getItem(this.Us))&&(I=this.js(C))&&this.Ws(I),O=0,N=this.$s;O<N.length;O++)this.ks(N[O]);return this.$s=[],this.window.addEventListener("pagehide",function(){return z.shutdown()}),this.started=!0,[2]}})})},a.prototype.writeSequenceNumber=function(s){this.setItem(this.Ms,JSON.stringify(s))},a.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},a.prototype.isActiveQueryTarget=function(s){var l=!1;return this.Fs.forEach(function(d,g){g.activeTargetIds.has(s)&&(l=!0)}),l},a.prototype.addPendingMutation=function(s){this.zs(s,"pending")},a.prototype.updateMutationState=function(s,l,d){this.zs(s,l,d),this.Hs(s)},a.prototype.addLocalQueryTarget=function(s){var l="not-current";if(this.isActiveQueryTarget(s)){var d=this.storage.getItem(ii(this.persistenceKey,s));if(d){var g=yc.Vs(s,d);g&&(l=g.state)}}return this.Js.Ds(s),this.Qs(),l},a.prototype.removeLocalQueryTarget=function(s){this.Js.Cs(s),this.Qs()},a.prototype.isLocalQueryTarget=function(s){return this.Js.activeTargetIds.has(s)},a.prototype.clearQueryState=function(s){this.removeItem(ii(this.persistenceKey,s))},a.prototype.updateQueryState=function(s,l,d){this.Ys(s,l,d)},a.prototype.handleUserChange=function(s,l,d){var g=this;l.forEach(function(y){g.Hs(y)}),this.currentUser=s,d.forEach(function(y){g.addPendingMutation(y)})},a.prototype.setOnlineState=function(s){this.Xs(s)},a.prototype.notifyBundleLoaded=function(){this.Zs()},a.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},a.prototype.getItem=function(s){var l=this.storage.getItem(s);return De("SharedClientState","READ",s,l),l},a.prototype.setItem=function(s,l){De("SharedClientState","SET",s,l),this.storage.setItem(s,l)},a.prototype.removeItem=function(s){De("SharedClientState","REMOVE",s),this.storage.removeItem(s)},a.prototype.ks=function(s){var l=this,d=s;if(d.storageArea===this.storage){if(De("SharedClientState","EVENT",d.key,d.newValue),d.key===this.Os)return void yr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,T.mG)(l,void 0,void 0,function(){var g,y,b,C,I,O;return(0,T.Jh)(this,function(N){if(this.started){if(null!==d.key)if(this.Ls.test(d.key)){if(null==d.newValue)return g=this.ti(d.key),[2,this.ei(g,null)];if(y=this.ni(d.key,d.newValue))return[2,this.ei(y.clientId,y)]}else if(this.Bs.test(d.key)){if(null!==d.newValue&&(b=this.si(d.key,d.newValue)))return[2,this.ii(b)]}else if(this.qs.test(d.key)){if(null!==d.newValue&&(C=this.ri(d.key,d.newValue)))return[2,this.oi(C)]}else if(d.key===this.Us){if(null!==d.newValue&&(I=this.js(d.newValue)))return[2,this.Ws(I)]}else if(d.key===this.Ms)(O=function(j){var z=ki.o;if(null!=j)try{var J=JSON.parse(j);Ce("number"==typeof J),z=J}catch(ee){yr("SharedClientState","Failed to read sequence number from WebStorage",ee)}return z}(d.newValue))!==ki.o&&this.sequenceNumberHandler(O);else if(d.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(d);return[2]})})})}},Object.defineProperty(a.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),a.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},a.prototype.zs=function(s,l,d){var g=new vc(this.currentUser,s,l,d),y=Fl(this.persistenceKey,this.currentUser,s);this.setItem(y,g.Ss())},a.prototype.Hs=function(s){var l=Fl(this.persistenceKey,this.currentUser,s);this.removeItem(l)},a.prototype.Xs=function(s){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:s}))},a.prototype.Ys=function(s,l,d){var g=ii(this.persistenceKey,s),y=new yc(s,l,d);this.setItem(g,y.Ss())},a.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},a.prototype.ti=function(s){var l=this.Ls.exec(s);return l?l[1]:null},a.prototype.ni=function(s,l){var d=this.ti(s);return td.Vs(d,l)},a.prototype.si=function(s,l){var d=this.Bs.exec(s),g=Number(d[1]);return vc.Vs(new Cr(void 0!==d[2]?d[2]:null),g,l)},a.prototype.ri=function(s,l){var d=this.qs.exec(s),g=Number(d[1]);return yc.Vs(g,l)},a.prototype.js=function(s){return tg.Vs(s)},a.prototype.ii=function(s){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(l){return s.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(s.batchId,s.state,s.error)]:(De("SharedClientState","Ignoring mutation for non-active user "+s.user.uid),[2])})})},a.prototype.oi=function(s){return this.syncEngine.ai(s.targetId,s.state,s.error)},a.prototype.ei=function(s,l){var d=this,g=l?this.Fs.insert(s,l):this.Fs.remove(s),y=this.Gs(this.Fs),b=this.Gs(g),C=[],I=[];return b.forEach(function(O){y.has(O)||C.push(O)}),y.forEach(function(O){b.has(O)||I.push(O)}),this.syncEngine.hi(C,I).then(function(){d.Fs=g})},a.prototype.Ws=function(s){this.Fs.get(s.clientId)&&this.onlineStateHandler(s.onlineState)},a.prototype.Gs=function(s){var l=sf();return s.forEach(function(d,g){l=l.unionWith(g.activeTargetIds)}),l},a}(),mu=function(){function a(){this.li=new gu,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return a.prototype.addPendingMutation=function(s){},a.prototype.updateMutationState=function(s,l,d){},a.prototype.addLocalQueryTarget=function(s){return this.li.Ds(s),this.fi[s]||"not-current"},a.prototype.updateQueryState=function(s,l,d){this.fi[s]=l},a.prototype.removeLocalQueryTarget=function(s){this.li.Cs(s)},a.prototype.isLocalQueryTarget=function(s){return this.li.activeTargetIds.has(s)},a.prototype.clearQueryState=function(s){delete this.fi[s]},a.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},a.prototype.isActiveQueryTarget=function(s){return this.li.activeTargetIds.has(s)},a.prototype.start=function(){return this.li=new gu,Promise.resolve()},a.prototype.handleUserChange=function(s,l,d){},a.prototype.setOnlineState=function(s){},a.prototype.shutdown=function(){},a.prototype.writeSequenceNumber=function(s){},a.prototype.notifyBundleLoaded=function(){},a}(),Im=function(){function a(){}return a.prototype.di=function(s){},a.prototype.shutdown=function(){},a}(),Mf=function(){function a(){var s=this;this.wi=function(){return s._i()},this.mi=function(){return s.yi()},this.gi=[],this.pi()}return a.prototype.di=function(s){this.gi.push(s)},a.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},a.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},a.prototype._i=function(){De("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var s=0,l=this.gi;s<l.length;s++)(0,l[s])(0)},a.prototype.yi=function(){De("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var s=0,l=this.gi;s<l.length;s++)(0,l[s])(1)},a.yt=function(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},a}(),gy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Am=function(){function a(s){this.Ei=s.Ei,this.Ti=s.Ti}return a.prototype.Ii=function(s){this.Ai=s},a.prototype.Ri=function(s){this.bi=s},a.prototype.onMessage=function(s){this.vi=s},a.prototype.close=function(){this.Ti()},a.prototype.send=function(s){this.Ei(s)},a.prototype.Pi=function(){this.Ai()},a.prototype.Vi=function(s){this.bi(s)},a.prototype.Si=function(s){this.vi(s)},a}(),Mm=function(a){function s(l){var d=this;return(d=a.call(this,l)||this).forceLongPolling=l.forceLongPolling,d.autoDetectLongPolling=l.autoDetectLongPolling,d.useFetchStreams=l.useFetchStreams,d}return(0,T.ZT)(s,a),s.prototype.Fi=function(l,d,g,y){return new Promise(function(b,C){var I=new Yv;I.listenOnce(xh.COMPLETE,function(){try{switch(I.getLastErrorCode()){case Rh.NO_ERROR:var N=I.getResponseJson();De("Connection","XHR received:",JSON.stringify(N)),b(N);break;case Rh.TIMEOUT:De("Connection",'RPC "'+l+'" timed out'),C(new be(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Rh.HTTP_ERROR:var j=I.getStatus();if(De("Connection",'RPC "'+l+'" failed with status:',j,"response text:",I.getResponseText()),j>0){var z=I.getResponseJson().error;if(z&&z.status&&z.message){var J=(ae=z.status.toLowerCase().replace(/_/g,"-"),Object.values(oe).indexOf(ae)>=0?ae:oe.UNKNOWN);C(new be(J,z.message))}else C(new be(oe.UNKNOWN,"Server responded with status "+I.getStatus()))}else C(new be(oe.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{De("Connection",'RPC "'+l+'" completed.')}var ae});var O=JSON.stringify(y);I.send(d,"POST",O,g,15)})},s.prototype.Oi=function(l,d){var g=[this.Di,"/","google.firestore.v1.Firestore","/",l,"/channel"],y=new kh,b=Ua(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new zn({})),this.ki(C.initMessageHeaders,d),(0,We.uI)()||(0,We.b$)()||(0,We.d)()||(0,We.w1)()||(0,We.Mn)()||(0,We.ru)()||(C.httpHeadersOverwriteParam="$httpHeaders");var I=g.join("");De("Connection","Creating WebChannel: "+I,C);var O=y.createWebChannel(I,C),N=!1,j=!1,z=new Am({Ei:function(ee){j?De("Connection","Not sending because WebChannel is closed:",ee):(N||(De("Connection","Opening WebChannel transport."),O.open(),N=!0),De("Connection","WebChannel sending:",ee),O.send(ee))},Ti:function(){return O.close()}}),J=function(ee,ae,ke){ee.listen(ae,function(Oe){try{ke(Oe)}catch(ht){setTimeout(function(){throw ht},0)}})};return J(O,il.EventType.OPEN,function(){j||De("Connection","WebChannel transport opened.")}),J(O,il.EventType.CLOSE,function(){j||(j=!0,De("Connection","WebChannel transport closed"),z.Vi())}),J(O,il.EventType.ERROR,function(ee){j||(j=!0,Bo("Connection","WebChannel transport errored:",ee),z.Vi(new be(oe.UNAVAILABLE,"The operation could not be completed")))}),J(O,il.EventType.MESSAGE,function(ee){var ae;if(!j){var ke=ee.data[0];Ce(!!ke);var ht=ke.error||(null===(ae=ke[0])||void 0===ae?void 0:ae.error);if(ht){De("Connection","WebChannel received error:",ht);var ft=ht.status,hn=function(Qt){var eo=Qn[Qt];if(void 0!==eo)return je(eo)}(ft),Dn=ht.message;void 0===hn&&(hn=oe.INTERNAL,Dn="Unknown error status: "+ft+" with message "+ht.message),j=!0,z.Vi(new be(hn,Dn)),O.close()}else De("Connection","WebChannel received:",ke),z.Si(ke)}}),J(b,om.STAT_EVENT,function(ee){ee.stat===Cp_PROXY?De("Connection","Detected buffering proxy"):ee.stat===Cp_NOPROXY&&De("Connection","Detected no buffering proxy")}),setTimeout(function(){z.Pi()},0),z},s}(function(){function a(s){this.databaseInfo=s,this.databaseId=s.databaseId,this.Di=(s.ssl?"https":"http")+"://"+s.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return a.prototype.Ni=function(s,l,d,g){var y=this.xi(s,l);De("RestConnection","Sending: ",y,d);var b={};return this.ki(b,g),this.Fi(s,y,b,d).then(function(C){return De("RestConnection","Received: ",C),C},function(C){throw Bo("RestConnection",s+" failed with error: ",C,"url: ",y,"request:",d),C})},a.prototype.$i=function(s,l,d,g){return this.Ni(s,l,d,g)},a.prototype.ki=function(s,l){if(s["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",s["Content-Type"]="text/plain",this.databaseInfo.appId&&(s["X-Firebase-GMPID"]=this.databaseInfo.appId),l)for(var d in l.authHeaders)l.authHeaders.hasOwnProperty(d)&&(s[d]=l.authHeaders[d])},a.prototype.xi=function(s,l){return this.Di+"/v1/"+l+":"+gy[s]},a}());function Ll(){return typeof window<"u"?window:null}function bc(){return typeof document<"u"?document:null}function Bl(a){return new Qi(a,!0)}var vu=function(){function a(s,l,d,g,y){void 0===d&&(d=1e3),void 0===g&&(g=1.5),void 0===y&&(y=6e4),this.Se=s,this.timerId=l,this.Mi=d,this.Li=g,this.Bi=y,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return a.prototype.reset=function(){this.qi=0},a.prototype.Qi=function(){this.qi=this.Bi},a.prototype.ji=function(s){var l=this;this.cancel();var d=Math.floor(this.qi+this.Wi()),g=Math.max(0,Date.now()-this.Ki),y=Math.max(0,d-g);y>0&&De("ExponentialBackoff","Backing off for "+y+" ms (base delay: "+this.qi+" ms, delay with jitter: "+d+" ms, last attempt: "+g+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,y,function(){return l.Ki=Date.now(),s()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},a.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},a.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},a.prototype.Wi=function(){return(Math.random()-.5)*this.qi},a}(),zo=function(){function a(s,l,d,g,y,b){this.Se=s,this.zi=d,this.Hi=g,this.Ji=y,this.listener=b,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new vu(s,l)}return a.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},a.prototype.er=function(){return 2===this.state},a.prototype.start=function(){3!==this.state?this.auth():this.nr()},a.prototype.stop=function(){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(s){switch(s.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},a.prototype.sr=function(){this.state=0,this.Zi.reset()},a.prototype.ir=function(){var s=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return s.rr()}))},a.prototype.cr=function(s){this.ur(),this.stream.send(s)},a.prototype.rr=function(){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(s){return this.er()?[2,this.close(0)]:[2]})})},a.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},a.prototype.close=function(s,l){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(d){switch(d.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==s?this.Zi.reset():l&&l.code===oe.RESOURCE_EXHAUSTED?(yr(l.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):l&&l.code===oe.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=s,[4,this.listener.Ri(l)];case 1:return d.sent(),[2]}})})},a.prototype.ar=function(){},a.prototype.auth=function(){var s=this;this.state=1;var l=this.hr(this.Yi),d=this.Yi;this.Ji.getToken().then(function(g){s.Yi===d&&s.lr(g)},function(g){l(function(){var y=new be(oe.UNKNOWN,"Fetching auth token failed: "+g.message);return s.dr(y)})})},a.prototype.lr=function(s){var l=this,d=this.hr(this.Yi);this.stream=this.wr(s),this.stream.Ii(function(){d(function(){return l.state=2,l.listener.Ii()})}),this.stream.Ri(function(g){d(function(){return l.dr(g)})}),this.stream.onMessage(function(g){d(function(){return l.onMessage(g)})})},a.prototype.nr=function(){var s=this;this.state=4,this.Zi.ji(function(){return(0,T.mG)(s,void 0,void 0,function(){return(0,T.Jh)(this,function(l){return this.state=0,this.start(),[2]})})})},a.prototype.dr=function(s){return De("PersistentStream","close with error: "+s),this.stream=null,this.close(3,s)},a.prototype.hr=function(s){var l=this;return function(d){l.Se.enqueueAndForget(function(){return l.Yi===s?d():(De("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},a}(),ng=function(a){function s(l,d,g,y,b){var C=this;return(C=a.call(this,l,"listen_stream_connection_backoff","listen_stream_idle",d,g,b)||this).R=y,C}return(0,T.ZT)(s,a),s.prototype.wr=function(l){return this.Hi.Oi("Listen",l)},s.prototype.onMessage=function(l){this.Zi.reset();var d=function(y,b){var C,ke;if("targetChange"in b){var I="NO_CHANGE"===(ke=b.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ke?1:"REMOVE"===ke?2:"CURRENT"===ke?3:"RESET"===ke?4:Je(),O=b.targetChange.targetIds||[],N=function(ke,Oe){return ke.I?(Ce(void 0===Oe||"string"==typeof Oe),Br.fromBase64String(Oe||"")):(Ce(void 0===Oe||Oe instanceof Uint8Array),Br.fromUint8Array(Oe||new Uint8Array))}(y,b.targetChange.resumeToken),j=(z=b.targetChange.cause)&&function(ke){var Oe=void 0===ke.code?oe.UNKNOWN:je(ke.code);return new be(Oe,ke.message||"")}(z);C=new lc(I,O,N,j||null)}else if("documentChange"in b){O=cs(y,(I=b.documentChange).document.name),N=Or(I.document.updateTime);var z=new Vr({mapValue:{fields:I.document.fields}}),J=(j=mi.newFoundDocument(O,N,z),I.targetIds||[]);C=new ou(J,I.removedTargetIds||[],j.key,j)}else if("documentDelete"in b)O=cs(y,(I=b.documentDelete).document),N=I.readTime?Or(I.readTime):Ft.min(),z=mi.newNoDocument(O,N),C=new ou([],j=I.removedTargetIds||[],z.key,z);else if("documentRemove"in b)O=cs(y,(I=b.documentRemove).document),C=new ou([],N=I.removedTargetIds||[],O,null);else{if(!("filter"in b))return Je();var ae=b.filter;O=new Jv(I=ae.count||0),C=new ha(N=ae.targetId,O)}return C}(this.R,l),g=function(y){if(!("targetChange"in y))return Ft.min();var b=y.targetChange;return b.targetIds&&b.targetIds.length?Ft.min():b.readTime?Or(b.readTime):Ft.min()}(l);return this.listener._r(d,g)},s.prototype.mr=function(l){var y,b,C,I,d={};d.database=fa(this.R),d.addTarget=(y=this.R,(C=Gd(I=(b=l).target)?{documents:Cl(y,I)}:{query:Dl(y,I)}).targetId=b.targetId,b.resumeToken.approximateByteSize()>0?C.resumeToken=da(y,b.resumeToken):b.snapshotVersion.compareTo(Ft.min())>0&&(C.readTime=hc(y,b.snapshotVersion.toTimestamp())),C);var g=function(y,b){var C=function(I,O){switch(O){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Je()}}(0,b.purpose);return null==C?null:{"goog-listen-tags":C}}(0,l);g&&(d.labels=g),this.cr(d)},s.prototype.yr=function(l){var d={};d.database=fa(this.R),d.removeTarget=l,this.cr(d)},s}(zo),my=function(a){function s(l,d,g,y,b){var C=this;return(C=a.call(this,l,"write_stream_connection_backoff","write_stream_idle",d,g,b)||this).R=y,C.gr=!1,C}return(0,T.ZT)(s,a),Object.defineProperty(s.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),s.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,a.prototype.start.call(this)},s.prototype.ar=function(){this.gr&&this.Er([])},s.prototype.wr=function(l){return this.Hi.Oi("Write",l)},s.prototype.onMessage=function(l){if(Ce(!!l.streamToken),this.lastStreamToken=l.streamToken,this.gr){this.Zi.reset();var d=(b=l.commitTime,(y=l.writeResults)&&y.length>0?(Ce(void 0!==b),y.map(function(C){return O=b,(N=Or((I=C).updateTime?I.updateTime:O)).isEqual(Ft.min())&&(N=Or(O)),new ua(N,I.transformResults||[]);var I,O,N})):[]),g=Or(l.commitTime);return this.listener.Tr(g,d)}var y,b;return Ce(!l.writeResults||0===l.writeResults.length),this.gr=!0,this.listener.Ir()},s.prototype.Ar=function(){var l={};l.database=fa(this.R),this.cr(l)},s.prototype.Er=function(l){var d=this,g={streamToken:this.lastStreamToken,writes:l.map(function(y){return su(d.R,y)})};this.cr(g)},s}(zo),L_=function(a){function s(l,d,g){var y=this;return(y=a.call(this)||this).credentials=l,y.Hi=d,y.R=g,y.Rr=!1,y}return(0,T.ZT)(s,a),s.prototype.br=function(){if(this.Rr)throw new be(oe.FAILED_PRECONDITION,"The client has already been terminated.")},s.prototype.Ni=function(l,d,g){var y=this;return this.br(),this.credentials.getToken().then(function(b){return y.Hi.Ni(l,d,g,b)}).catch(function(b){throw"FirebaseError"===b.name?(b.code===oe.UNAUTHENTICATED&&y.credentials.invalidateToken(),b):new be(oe.UNKNOWN,b.toString())})},s.prototype.$i=function(l,d,g){var y=this;return this.br(),this.credentials.getToken().then(function(b){return y.Hi.$i(l,d,g,b)}).catch(function(b){throw"FirebaseError"===b.name?(b.code===oe.UNAUTHENTICATED&&y.credentials.invalidateToken(),b):new be(oe.UNKNOWN,b.toString())})},s.prototype.terminate=function(){this.Rr=!0},s}(function(){}),km=function(){function a(s,l){this.asyncQueue=s,this.onlineStateHandler=l,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return a.prototype.Sr=function(){var s=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return s.Pr=null,s.Cr("Backend didn't respond within 10 seconds."),s.Dr("Offline"),Promise.resolve()}))},a.prototype.Nr=function(s){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+s.toString()),this.Dr("Offline")))},a.prototype.set=function(s){this.kr(),this.vr=0,"Online"===s&&(this.Vr=!1),this.Dr(s)},a.prototype.Dr=function(s){s!==this.state&&(this.state=s,this.onlineStateHandler(s))},a.prototype.Cr=function(s){var l="Could not reach Cloud Firestore backend. "+s+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(yr(l),this.Vr=!1):De("OnlineStateTracker",l)},a.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},a}(),Rm=function(a,s,l,d,g){var y=this;this.localStore=a,this.datastore=s,this.asyncQueue=l,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=g,this.Lr.di(function(b){l.enqueueAndForget(function(){return(0,T.mG)(y,void 0,void 0,function(){return(0,T.Jh)(this,function(C){switch(C.label){case 0:return Ao(this)?(De("RemoteStore","Restarting streams for network reachability change."),[4,function(I){return(0,T.mG)(this,void 0,void 0,function(){var O;return(0,T.Jh)(this,function(N){switch(N.label){case 0:return(O=Le(I)).Or.add(4),[4,yu(O)];case 1:return N.sent(),O.Br.set("Unknown"),O.Or.delete(4),[4,oi(O)];case 2:return N.sent(),[2]}})})}(this)]):[3,2];case 1:C.sent(),C.label=2;case 2:return[2]}})})})}),this.Br=new km(l,d)};function oi(a){return(0,T.mG)(this,void 0,void 0,function(){var s,l;return(0,T.Jh)(this,function(d){switch(d.label){case 0:if(!Ao(a))return[3,4];s=0,l=a.Mr,d.label=1;case 1:return s<l.length?[4,(0,l[s])(!0)]:[3,4];case 2:d.sent(),d.label=3;case 3:return s++,[3,1];case 4:return[2]}})})}function yu(a){return(0,T.mG)(this,void 0,void 0,function(){var s,l;return(0,T.Jh)(this,function(d){switch(d.label){case 0:s=0,l=a.Mr,d.label=1;case 1:return s<l.length?[4,(0,l[s])(!1)]:[3,4];case 2:d.sent(),d.label=3;case 3:return s++,[3,1];case 4:return[2]}})})}function Vl(a,s){var l=Le(a);l.$r.has(s.targetId)||(l.$r.set(s.targetId,s),jl(l)?_u(l):Hl(l).er()&&_a(l,s))}function nd(a,s){var l=Le(a),d=Hl(l);l.$r.delete(s),d.er()&&xm(l,s),0===l.$r.size&&(d.er()?d.ir():Ao(l)&&l.Br.set("Unknown"))}function _a(a,s){a.qr.U(s.targetId),Hl(a).mr(s)}function xm(a,s){a.qr.U(s),Hl(a).yr(s)}function _u(a){a.qr=new af({getRemoteKeysForTarget:function(s){return a.remoteSyncer.getRemoteKeysForTarget(s)},lt:function(s){return a.$r.get(s)||null}}),Hl(a).start(),a.Br.Sr()}function jl(a){return Ao(a)&&!Hl(a).tr()&&a.$r.size>0}function Ao(a){return 0===Le(a).Or.size}function Ls(a){a.qr=void 0}function bu(a){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(s){return a.$r.forEach(function(l,d){_a(a,l)}),[2]})})}function Om(a,s){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(l){return Ls(a),jl(a)?(a.Br.Nr(s),_u(a)):a.Br.set("Unknown"),[2]})})}function rd(a,s,l){return(0,T.mG)(this,void 0,void 0,function(){var d,g,y;return(0,T.Jh)(this,function(b){switch(b.label){case 0:if(a.Br.set("Online"),!(s instanceof lc&&2===s.state&&s.cause))return[3,6];b.label=1;case 1:return b.trys.push([1,3,,5]),[4,function(C,I){return(0,T.mG)(this,void 0,void 0,function(){var O,N,j,z;return(0,T.Jh)(this,function(J){switch(J.label){case 0:O=I.cause,N=0,j=I.targetIds,J.label=1;case 1:return N<j.length?C.$r.has(z=j[N])?[4,C.remoteSyncer.rejectListen(z,O)]:[3,3]:[3,5];case 2:J.sent(),C.$r.delete(z),C.qr.removeTarget(z),J.label=3;case 3:J.label=4;case 4:return N++,[3,1];case 5:return[2]}})})}(a,s)];case 2:return b.sent(),[3,5];case 3:return d=b.sent(),De("RemoteStore","Failed to remove targets %s: %s ",s.targetIds.join(","),d),[4,ba(a,d)];case 4:return b.sent(),[3,5];case 5:return[3,13];case 6:if(s instanceof ou?a.qr.X(s):s instanceof ha?a.qr.rt(s):a.qr.et(s),l.isEqual(Ft.min()))return[3,13];b.label=7;case 7:return b.trys.push([7,11,,13]),[4,hy(a.localStore)];case 8:return g=b.sent(),l.compareTo(g)>=0?[4,(C=a,I=l,O=C.qr.ut(I),O.targetChanges.forEach(function(N,j){if(N.resumeToken.approximateByteSize()>0){var z=C.$r.get(j);z&&C.$r.set(j,z.withResumeToken(N.resumeToken,I))}}),O.targetMismatches.forEach(function(N){var j=C.$r.get(N);if(j){C.$r.set(N,j.withResumeToken(Br.EMPTY_BYTE_STRING,j.snapshotVersion)),xm(C,N);var z=new pc(j.target,N,1,j.sequenceNumber);_a(C,z)}}),C.remoteSyncer.applyRemoteEvent(O))]:[3,10];case 9:b.sent(),b.label=10;case 10:return[3,13];case 11:return De("RemoteStore","Failed to raise snapshot:",y=b.sent()),[4,ba(a,y)];case 12:return b.sent(),[3,13];case 13:return[2]}var C,I,O})})}function ba(a,s,l){return(0,T.mG)(this,void 0,void 0,function(){var d=this;return(0,T.Jh)(this,function(g){switch(g.label){case 0:if(!ma(s))throw s;return a.Or.add(1),[4,yu(a)];case 1:return g.sent(),a.Br.set("Offline"),l||(l=function(){return hy(a.localStore)}),a.asyncQueue.enqueueRetryable(function(){return(0,T.mG)(d,void 0,void 0,function(){return(0,T.Jh)(this,function(y){switch(y.label){case 0:return De("RemoteStore","Retrying IndexedDB access"),[4,l()];case 1:return y.sent(),a.Or.delete(1),[4,oi(a)];case 2:return y.sent(),[2]}})})}),[2]}})})}function Ul(a,s){return s().catch(function(l){return ba(a,l,s)})}function wc(a){return(0,T.mG)(this,void 0,void 0,function(){var s,l,d,g,y;return(0,T.Jh)(this,function(b){switch(b.label){case 0:s=Le(a),l=Bs(s),d=s.Fr.length>0?s.Fr[s.Fr.length-1].batchId:-1,b.label=1;case 1:if(!(Ao(C=s)&&C.Fr.length<10))return[3,7];b.label=2;case 2:return b.trys.push([2,4,,6]),[4,dy(s.localStore,d)];case 3:return null===(g=b.sent())?(0===s.Fr.length&&l.ir(),[3,7]):(d=g.batchId,function(C,I){C.Fr.push(I);var O=Bs(C);O.er()&&O.pr&&O.Er(I.mutations)}(s,g),[3,6]);case 4:return y=b.sent(),[4,ba(s,y)];case 5:return b.sent(),[3,6];case 6:return[3,1];case 7:return kf(s)&&Rf(s),[2]}var C})})}function kf(a){return Ao(a)&&!Bs(a).tr()&&a.Fr.length>0}function Rf(a){Bs(a).start()}function vy(a){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(s){return Bs(a).Ar(),[2]})})}function yy(a){return(0,T.mG)(this,void 0,void 0,function(){var s,l,d;return(0,T.Jh)(this,function(y){for(s=Bs(a),l=0,d=a.Fr;l<d.length;l++)s.Er(d[l].mutations);return[2]})})}function xf(a,s,l){return(0,T.mG)(this,void 0,void 0,function(){var d,g;return(0,T.Jh)(this,function(y){switch(y.label){case 0:return d=a.Fr.shift(),g=P_.from(d,s,l),[4,Ul(a,function(){return a.remoteSyncer.applySuccessfulWrite(g)})];case 1:return y.sent(),[4,wc(a)];case 2:return y.sent(),[2]}})})}function Of(a,s){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(l){switch(l.label){case 0:return s&&Bs(a).pr?[4,function(d,g){return(0,T.mG)(this,void 0,void 0,function(){var y,b;return(0,T.Jh)(this,function(C){switch(C.label){case 0:return ca(b=g.code)&&b!==oe.ABORTED?(y=d.Fr.shift(),Bs(d).sr(),[4,Ul(d,function(){return d.remoteSyncer.rejectFailedWrite(y.batchId,g)})]):[3,3];case 1:return C.sent(),[4,wc(d)];case 2:C.sent(),C.label=3;case 3:return[2]}})})}(a,s)]:[3,2];case 1:l.sent(),l.label=2;case 2:return kf(a)&&Rf(a),[2]}})})}function Pf(a,s){return(0,T.mG)(this,void 0,void 0,function(){var l;return(0,T.Jh)(this,function(d){switch(d.label){case 0:return l=Le(a),s?(l.Or.delete(2),[4,oi(l)]):[3,2];case 1:return d.sent(),[3,5];case 2:return s?[3,4]:(l.Or.add(2),[4,yu(l)]);case 3:d.sent(),l.Br.set("Unknown"),d.label=4;case 4:d.label=5;case 5:return[2]}})})}function Hl(a){var l,d,g,y,s=this;return a.Ur||(a.Ur=(l=a.datastore,d=a.asyncQueue,g={Ii:bu.bind(null,a),Ri:Om.bind(null,a),_r:rd.bind(null,a)},(y=Le(l)).br(),new ng(d,y.Hi,y.credentials,y.R,g)),a.Mr.push(function(l){return(0,T.mG)(s,void 0,void 0,function(){return(0,T.Jh)(this,function(d){switch(d.label){case 0:return l?(a.Ur.sr(),jl(a)?_u(a):a.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,a.Ur.stop()];case 2:d.sent(),Ls(a),d.label=3;case 3:return[2]}})})})),a.Ur}function Bs(a){var l,d,g,y,s=this;return a.Kr||(a.Kr=(l=a.datastore,d=a.asyncQueue,g={Ii:vy.bind(null,a),Ri:Of.bind(null,a),Ir:yy.bind(null,a),Tr:xf.bind(null,a)},(y=Le(l)).br(),new my(d,y.Hi,y.credentials,y.R,g)),a.Mr.push(function(l){return(0,T.mG)(s,void 0,void 0,function(){return(0,T.Jh)(this,function(d){switch(d.label){case 0:return l?(a.Kr.sr(),[4,wc(a)]):[3,2];case 1:return d.sent(),[3,4];case 2:return[4,a.Kr.stop()];case 3:d.sent(),a.Fr.length>0&&(De("RemoteStore","Stopping write stream with "+a.Fr.length+" pending writes"),a.Fr=[]),d.label=4;case 4:return[2]}})})})),a.Kr}var id=function(){function a(s,l,d,g,y){this.asyncQueue=s,this.timerId=l,this.targetTimeMs=d,this.op=g,this.removalCallback=y,this.deferred=new Gn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(b){})}return a.createAndSchedule=function(s,l,d,g,y){var b=new a(s,l,Date.now()+d,g,y);return b.start(d),b},a.prototype.start=function(s){var l=this;this.timerHandle=setTimeout(function(){return l.handleDelayElapsed()},s)},a.prototype.skipDelay=function(){return this.handleDelayElapsed()},a.prototype.cancel=function(s){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new be(oe.CANCELLED,"Operation cancelled"+(s?": "+s:""))))},a.prototype.handleDelayElapsed=function(){var s=this;this.asyncQueue.enqueueAndForget(function(){return null!==s.timerHandle?(s.clearTimeout(),s.op().then(function(l){return s.deferred.resolve(l)})):Promise.resolve()})},a.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},a}();function wu(a,s){if(yr("AsyncQueue",s+": "+a),ma(a))return new be(oe.UNAVAILABLE,s+": "+a);throw a}var zl=function(){function a(s){this.comparator=s?function(l,d){return s(l,d)||ze.comparator(l.key,d.key)}:function(l,d){return ze.comparator(l.key,d.key)},this.keyedMap=nf(),this.sortedSet=new $n(this.comparator)}return a.emptySet=function(s){return new a(s.comparator)},a.prototype.has=function(s){return null!=this.keyedMap.get(s)},a.prototype.get=function(s){return this.keyedMap.get(s)},a.prototype.first=function(){return this.sortedSet.minKey()},a.prototype.last=function(){return this.sortedSet.maxKey()},a.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},a.prototype.indexOf=function(s){var l=this.keyedMap.get(s);return l?this.sortedSet.indexOf(l):-1},Object.defineProperty(a.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),a.prototype.forEach=function(s){this.sortedSet.inorderTraversal(function(l,d){return s(l),!1})},a.prototype.add=function(s){var l=this.delete(s.key);return l.copy(l.keyedMap.insert(s.key,s),l.sortedSet.insert(s,null))},a.prototype.delete=function(s){var l=this.get(s);return l?this.copy(this.keyedMap.remove(s),this.sortedSet.remove(l)):this},a.prototype.isEqual=function(s){if(!(s instanceof a)||this.size!==s.size)return!1;for(var l=this.sortedSet.getIterator(),d=s.sortedSet.getIterator();l.hasNext();){var g=l.getNext().key,y=d.getNext().key;if(!g.isEqual(y))return!1}return!0},a.prototype.toString=function(){var s=[];return this.forEach(function(l){s.push(l.toString())}),0===s.length?"DocumentSet ()":"DocumentSet (\n  "+s.join("  \n")+"\n)"},a.prototype.copy=function(s,l){var d=new a;return d.comparator=this.comparator,d.keyedMap=s,d.sortedSet=l,d},a}(),Nf=function(){function a(){this.Qr=new $n(ze.comparator)}return a.prototype.track=function(s){var l=s.doc.key,d=this.Qr.get(l);d?0!==s.type&&3===d.type?this.Qr=this.Qr.insert(l,s):3===s.type&&1!==d.type?this.Qr=this.Qr.insert(l,{type:d.type,doc:s.doc}):2===s.type&&2===d.type?this.Qr=this.Qr.insert(l,{type:2,doc:s.doc}):2===s.type&&0===d.type?this.Qr=this.Qr.insert(l,{type:0,doc:s.doc}):1===s.type&&0===d.type?this.Qr=this.Qr.remove(l):1===s.type&&2===d.type?this.Qr=this.Qr.insert(l,{type:1,doc:d.doc}):0===s.type&&1===d.type?this.Qr=this.Qr.insert(l,{type:2,doc:s.doc}):Je():this.Qr=this.Qr.insert(l,s)},a.prototype.jr=function(){var s=[];return this.Qr.inorderTraversal(function(l,d){s.push(d)}),s},a}(),od=function(){function a(s,l,d,g,y,b,C,I){this.query=s,this.docs=l,this.oldDocs=d,this.docChanges=g,this.mutatedKeys=y,this.fromCache=b,this.syncStateChanged=C,this.excludesMetadataChanges=I}return a.fromInitialDocuments=function(s,l,d,g){var y=[];return l.forEach(function(b){y.push({type:0,doc:b})}),new a(s,l,zl.emptySet(l),y,d,g,!0,!1)},Object.defineProperty(a.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(s){if(!(this.fromCache===s.fromCache&&this.syncStateChanged===s.syncStateChanged&&this.mutatedKeys.isEqual(s.mutatedKeys)&&ks(this.query,s.query)&&this.docs.isEqual(s.docs)&&this.oldDocs.isEqual(s.oldDocs)))return!1;var l=this.docChanges,d=s.docChanges;if(l.length!==d.length)return!1;for(var g=0;g<l.length;g++)if(l[g].type!==d[g].type||!l[g].doc.isEqual(d[g].doc))return!1;return!0},a}(),rg=function(){this.Wr=void 0,this.listeners=[]},Pm=function(){this.queries=new Ol(function(a){return am(a)},ks),this.onlineState="Unknown",this.Gr=new Set};function Vs(a,s){return(0,T.mG)(this,void 0,void 0,function(){var l,d,g,y,b,C,I;return(0,T.Jh)(this,function(O){switch(O.label){case 0:if(l=Le(a),g=!1,(y=l.queries.get(d=s.query))||(g=!0,y=new rg),!g)return[3,4];O.label=1;case 1:return O.trys.push([1,3,,4]),b=y,[4,l.onListen(d)];case 2:return b.Wr=O.sent(),[3,4];case 3:return C=O.sent(),I=wu(C,"Initialization of query '"+as(s.query)+"' failed"),[2,void s.onError(I)];case 4:return l.queries.set(d,y),y.listeners.push(s),s.zr(l.onlineState),y.Wr&&s.Hr(y.Wr)&&Fm(l),[2]}})})}function Ec(a,s){return(0,T.mG)(this,void 0,void 0,function(){var l,d,g,y,b;return(0,T.Jh)(this,function(C){return l=Le(a),g=!1,(y=l.queries.get(d=s.query))&&(b=y.listeners.indexOf(s))>=0&&(y.listeners.splice(b,1),g=0===y.listeners.length),g?[2,(l.queries.delete(d),l.onUnlisten(d))]:[2]})})}function Nm(a,s){for(var l=Le(a),d=!1,g=0,y=s;g<y.length;g++){var b=y[g],I=l.queries.get(b.query);if(I){for(var O=0,N=I.listeners;O<N.length;O++)N[O].Hr(b)&&(d=!0);I.Wr=b}}d&&Fm(l)}function _y(a,s,l){var d=Le(a),g=d.queries.get(s);if(g)for(var y=0,b=g.listeners;y<b.length;y++)b[y].onError(l);d.queries.delete(s)}function Fm(a){a.Gr.forEach(function(s){s.next()})}var Cc=function(){function a(s,l,d){this.query=s,this.Jr=l,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=d||{}}return a.prototype.Hr=function(s){if(!this.options.includeMetadataChanges){for(var l=[],d=0,g=s.docChanges;d<g.length;d++){var y=g[d];3!==y.type&&l.push(y)}s=new od(s.query,s.docs,s.oldDocs,l,s.mutatedKeys,s.fromCache,s.syncStateChanged,!0)}var b=!1;return this.Yr?this.Zr(s)&&(this.Jr.next(s),b=!0):this.eo(s,this.onlineState)&&(this.no(s),b=!0),this.Xr=s,b},a.prototype.onError=function(s){this.Jr.error(s)},a.prototype.zr=function(s){this.onlineState=s;var l=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,s)&&(this.no(this.Xr),l=!0),l},a.prototype.eo=function(s,l){return!s.fromCache||!(this.options.so&&"Offline"!==l||s.docs.isEmpty()&&"Offline"!==l)},a.prototype.Zr=function(s){return s.docChanges.length>0||!!(s.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==s.hasPendingWrites)&&!0===this.options.includeMetadataChanges},a.prototype.no=function(s){s=od.fromInitialDocuments(s.query,s.docs,s.mutatedKeys,s.fromCache),this.Yr=!0,this.Jr.next(s)},a}(),Lm=function(){function a(s,l){this.payload=s,this.byteLength=l}return a.prototype.io=function(){return"metadata"in this.payload},a}(),sd=function(){function a(s){this.R=s}return a.prototype.qn=function(s){return cs(this.R,s)},a.prototype.Un=function(s){return s.metadata.exists?pa(this.R,s.document,!1):mi.newNoDocument(this.qn(s.metadata.name),this.Kn(s.metadata.readTime))},a.prototype.Kn=function(s){return Or(s)},a}();!function(){function a(s,l,d){this.ro=s,this.localStore=l,this.R=d,this.queries=[],this.documents=[],this.progress=function ig(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}(s)}a.prototype.oo=function(s){this.progress.bytesLoaded+=s.byteLength;var l=this.progress.documentsLoaded;return s.payload.namedQuery?this.queries.push(s.payload.namedQuery):s.payload.documentMetadata?(this.documents.push({metadata:s.payload.documentMetadata}),s.payload.documentMetadata.exists||++l):s.payload.document&&(this.documents[this.documents.length-1].document=s.payload.document,++l),l!==this.progress.documentsLoaded?(this.progress.documentsLoaded=l,Object.assign({},this.progress)):null},a.prototype.co=function(s){for(var l=new Map,d=new sd(this.R),g=0,y=s;g<y.length;g++){var b=y[g];if(b.metadata.queries)for(var C=d.qn(b.metadata.name),I=0,O=b.metadata.queries;I<O.length;I++){var N=O[I],j=(l.get(N)||_n()).add(C);l.set(N,j)}}return l},a.prototype.complete=function(){return(0,T.mG)(this,void 0,void 0,function(){var s,l,d,g,y;return(0,T.Jh)(this,function(b){switch(b.label){case 0:return[4,Em(this.localStore,new sd(this.R),this.documents,this.ro.id)];case 1:s=b.sent(),l=this.co(this.documents),d=0,g=this.queries,b.label=2;case 2:return d<g.length?[4,ed(this.localStore,y=g[d],l.get(y.name))]:[3,5];case 3:b.sent(),b.label=4;case 4:return d++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Yt(Object.assign({},this.progress),s))]}})})}}();var ql=function(a){this.key=a},og=function(a){this.key=a},Dc=function(){function a(s,l){this.query=s,this.uo=l,this.ao=null,this.current=!1,this.ho=_n(),this.mutatedKeys=_n(),this.lo=pl(s),this.fo=new zl(this.lo)}return Object.defineProperty(a.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),a.prototype._o=function(s,l){var d=this,g=l?l.mo:new Nf,y=l?l.fo:this.fo,b=l?l.mutatedKeys:this.mutatedKeys,C=y,I=!1,O=Yd(this.query)&&y.size===this.query.limit?y.last():null,N=Qd(this.query)&&y.size===this.query.limit?y.first():null;if(s.inorderTraversal(function(z,J){var ee=y.get(z),ae=Rs(d.query,J)?J:null,ke=!!ee&&d.mutatedKeys.has(ee.key),Oe=!!ae&&(ae.hasLocalMutations||d.mutatedKeys.has(ae.key)&&ae.hasCommittedMutations),ht=!1;ee&&ae?ee.data.isEqual(ae.data)?ke!==Oe&&(g.track({type:3,doc:ae}),ht=!0):d.yo(ee,ae)||(g.track({type:2,doc:ae}),ht=!0,(O&&d.lo(ae,O)>0||N&&d.lo(ae,N)<0)&&(I=!0)):!ee&&ae?(g.track({type:0,doc:ae}),ht=!0):ee&&!ae&&(g.track({type:1,doc:ee}),ht=!0,(O||N)&&(I=!0)),ht&&(ae?(C=C.add(ae),b=Oe?b.add(z):b.delete(z)):(C=C.delete(z),b=b.delete(z)))}),Yd(this.query)||Qd(this.query))for(;C.size>this.query.limit;){var j=Yd(this.query)?C.last():C.first();C=C.delete(j.key),b=b.delete(j.key),g.track({type:1,doc:j})}return{fo:C,mo:g,Nn:I,mutatedKeys:b}},a.prototype.yo=function(s,l){return s.hasLocalMutations&&l.hasCommittedMutations&&!l.hasLocalMutations},a.prototype.applyChanges=function(s,l,d){var g=this,y=this.fo;this.fo=s.fo,this.mutatedKeys=s.mutatedKeys;var b=s.mo.jr();b.sort(function(N,j){return J=j.type,(ee=function(ae){switch(ae){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}})(N.type)-ee(J)||g.lo(N.doc,j.doc);var J,ee}),this.po(d);var C=l?this.Eo():[],I=0===this.ho.size&&this.current?1:0,O=I!==this.ao;return this.ao=I,0!==b.length||O?{snapshot:new od(this.query,s.fo,y,b,s.mutatedKeys,0===I,O,!1),To:C}:{To:C}},a.prototype.zr=function(s){return this.current&&"Offline"===s?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Nf,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},a.prototype.Io=function(s){return!this.uo.has(s)&&!!this.fo.has(s)&&!this.fo.get(s).hasLocalMutations},a.prototype.po=function(s){var l=this;s&&(s.addedDocuments.forEach(function(d){return l.uo=l.uo.add(d)}),s.modifiedDocuments.forEach(function(d){}),s.removedDocuments.forEach(function(d){return l.uo=l.uo.delete(d)}),this.current=s.current)},a.prototype.Eo=function(){var s=this;if(!this.current)return[];var l=this.ho;this.ho=_n(),this.fo.forEach(function(g){s.Io(g.key)&&(s.ho=s.ho.add(g.key))});var d=[];return l.forEach(function(g){s.ho.has(g)||d.push(new og(g))}),this.ho.forEach(function(g){l.has(g)||d.push(new ql(g))}),d},a.prototype.Ao=function(s){this.uo=s.Bn,this.ho=_n();var l=this._o(s.documents);return this.applyChanges(l,!0)},a.prototype.Ro=function(){return od.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},a}(),Ff=function(a,s,l){this.query=a,this.targetId=s,this.view=l},ad=function(a){this.key=a,this.bo=!1},Lf=function(){function a(s,l,d,g,y,b){this.localStore=s,this.remoteStore=l,this.eventManager=d,this.sharedClientState=g,this.currentUser=y,this.maxConcurrentLimboResolutions=b,this.vo={},this.Po=new Ol(function(C){return am(C)},ks),this.Vo=new Map,this.So=new Set,this.Do=new $n(ze.comparator),this.Co=new Map,this.No=new Jp,this.xo={},this.ko=new Map,this.Fo=Io.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(a.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),a}();function sg(a,s){return(0,T.mG)(this,void 0,void 0,function(){var l,g,y,b,C;return(0,T.Jh)(this,function(I){switch(I.label){case 0:return l=cd(a),(y=l.Po.get(s))?(l.sharedClientState.addLocalQueryTarget(y.targetId),g=y.view.Ro(),[3,4]):[3,1];case 1:return[4,ya(l.localStore,vi(s))];case 2:return b=I.sent(),C=l.sharedClientState.addLocalQueryTarget(b.targetId),[4,$l(l,s,b.targetId,"current"===C)];case 3:g=I.sent(),l.isPrimaryClient&&Vl(l.remoteStore,b),I.label=4;case 4:return[2,g]}})})}function $l(a,s,l,d){return(0,T.mG)(this,void 0,void 0,function(){var g,y,b,C,I,O;return(0,T.Jh)(this,function(N){switch(N.label){case 0:return a.Oo=function(j,z,J){return function(ee,ae,ke,Oe){return(0,T.mG)(this,void 0,void 0,function(){var ht,ft,hn;return(0,T.Jh)(this,function(Dn){switch(Dn.label){case 0:return(ht=ae.view._o(ke)).Nn?[4,Nl(ee.localStore,ae.query,!1).then(function(Qt){return ae.view._o(Qt.documents,ht)})]:[3,2];case 1:ht=Dn.sent(),Dn.label=2;case 2:return ft=Oe&&Oe.targetChanges.get(ae.targetId),hn=ae.view.applyChanges(ht,ee.isPrimaryClient,ft),[2,(Uf(ee,ae.targetId,hn.To),hn.snapshot)]}})})}(a,j,z,J)},[4,Nl(a.localStore,s,!0)];case 1:return g=N.sent(),y=new Dc(s,g.Bn),b=y._o(g.documents),C=Yi.createSynthesizedTargetChangeForCurrentChange(l,d&&"Offline"!==a.onlineState),I=y.applyChanges(b,a.isPrimaryClient,C),Uf(a,l,I.To),O=new Ff(s,l,y),[2,(a.Po.set(s,O),a.Vo.has(l)?a.Vo.get(l).push(s):a.Vo.set(l,[s]),I.snapshot)]}})})}function Eu(a,s){return(0,T.mG)(this,void 0,void 0,function(){var l,d,g;return(0,T.Jh)(this,function(y){switch(y.label){case 0:return l=Le(a),d=l.Po.get(s),(g=l.Vo.get(d.targetId)).length>1?[2,(l.Vo.set(d.targetId,g.filter(function(b){return!ks(b,s)})),void l.Po.delete(s))]:l.isPrimaryClient?(l.sharedClientState.removeLocalQueryTarget(d.targetId),l.sharedClientState.isActiveQueryTarget(d.targetId)?[3,2]:[4,Ni(l.localStore,d.targetId,!1).then(function(){l.sharedClientState.clearQueryState(d.targetId),nd(l.remoteStore,d.targetId),Cu(l,d.targetId)}).catch(xl)]):[3,3];case 1:y.sent(),y.label=2;case 2:return[3,5];case 3:return Cu(l,d.targetId),[4,Ni(l.localStore,d.targetId,!0)];case 4:y.sent(),y.label=5;case 5:return[2]}})})}function ag(a,s,l){return(0,T.mG)(this,void 0,void 0,function(){var d,g,y,b;return(0,T.Jh)(this,function(C){switch(C.label){case 0:d=Wl(a),C.label=1;case 1:return C.trys.push([1,5,,6]),[4,(I=d.localStore,O=s,j=Le(I),z=fi.now(),J=O.reduce(function(ee,ae){return ee.add(ae.key)},_n()),j.persistence.runTransaction("Locally write mutations","readwrite",function(ee){return j.Mn.pn(ee,J).next(function(ae){N=ae;for(var ke=[],Oe=0,ht=O;Oe<ht.length;Oe++){var ft=ht[Oe],hn=Np(ft,N.get(ft.key));null!=hn&&ke.push(new br(ft.key,hn,sm(hn.value.mapValue),nr.exists(!0)))}return j._n.addMutationBatch(ee,z,ke,O)})}).then(function(ee){return ee.applyToLocalDocumentSet(N),{batchId:ee.batchId,changes:N}}))];case 2:return g=C.sent(),d.sharedClientState.addPendingMutation(g.batchId),function(I,O,N){var j=I.xo[I.currentUser.toKey()];j||(j=new $n(tt)),j=j.insert(O,N),I.xo[I.currentUser.toKey()]=j}(d,g.batchId,l),[4,wa(d,g.changes)];case 3:return C.sent(),[4,wc(d.remoteStore)];case 4:return C.sent(),[3,6];case 5:return y=C.sent(),b=wu(y,"Failed to persist write"),l.reject(b),[3,6];case 6:return[2]}var I,O,N,j,z,J})})}function ug(a,s){return(0,T.mG)(this,void 0,void 0,function(){var l,d;return(0,T.Jh)(this,function(g){switch(g.label){case 0:l=Le(a),g.label=1;case 1:return g.trys.push([1,4,,6]),[4,Jh(l.localStore,s)];case 2:return d=g.sent(),s.targetChanges.forEach(function(y,b){var C=l.Co.get(b);C&&(Ce(y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size<=1),y.addedDocuments.size>0?C.bo=!0:y.modifiedDocuments.size>0?Ce(C.bo):y.removedDocuments.size>0&&(Ce(C.bo),C.bo=!1))}),[4,wa(l,d,s)];case 3:return g.sent(),[3,6];case 4:return[4,xl(g.sent())];case 5:return g.sent(),[3,6];case 6:return[2]}})})}function Vm(a,s,l){var d=Le(a);if(d.isPrimaryClient&&0===l||!d.isPrimaryClient&&1===l){var g=[];d.Po.forEach(function(y,b){var C=b.view.zr(s);C.snapshot&&g.push(C.snapshot)}),function(y,b){var C=Le(y);C.onlineState=b;var I=!1;C.queries.forEach(function(O,N){for(var j=0,z=N.listeners;j<z.length;j++)z[j].zr(b)&&(I=!0)}),I&&Fm(C)}(d.eventManager,s),g.length&&d.vo._r(g),d.onlineState=s,d.isPrimaryClient&&d.sharedClientState.setOnlineState(s)}}function jm(a,s,l){return(0,T.mG)(this,void 0,void 0,function(){var d,g,y,b,C,I;return(0,T.Jh)(this,function(O){switch(O.label){case 0:return(d=Le(a)).sharedClientState.updateQueryState(s,"rejected",l),g=d.Co.get(s),(y=g&&g.key)?(b=(b=new $n(ze.comparator)).insert(y,mi.newNoDocument(y,Ft.min())),C=_n().add(y),I=new _i(Ft.min(),new Map,new rr(tt),b,C),[4,ug(d,I)]):[3,2];case 1:return O.sent(),d.Do=d.Do.remove(y),d.Co.delete(s),Mo(d),[3,4];case 2:return[4,Ni(d.localStore,s,!1).then(function(){return Cu(d,s,l)}).catch(xl)];case 3:O.sent(),O.label=4;case 4:return[2]}})})}function Bf(a,s){return(0,T.mG)(this,void 0,void 0,function(){var l,d,g;return(0,T.Jh)(this,function(y){switch(y.label){case 0:l=Le(a),d=s.batch.batchId,y.label=1;case 1:return y.trys.push([1,4,,6]),[4,F_(l.localStore,s)];case 2:return g=y.sent(),ud(l,d,null),jf(l,d),l.sharedClientState.updateMutationState(d,"acknowledged"),[4,wa(l,g)];case 3:return y.sent(),[3,6];case 4:return[4,xl(y.sent())];case 5:return y.sent(),[3,6];case 6:return[2]}})})}function Vf(a,s,l){return(0,T.mG)(this,void 0,void 0,function(){var d,g;return(0,T.Jh)(this,function(y){switch(y.label){case 0:d=Le(a),y.label=1;case 1:return y.trys.push([1,4,,6]),[4,(b=d.localStore,C=s,I=Le(b),I.persistence.runTransaction("Reject batch","readwrite-primary",function(O){var N;return I._n.lookupMutationBatch(O,C).next(function(j){return Ce(null!==j),N=j.keys(),I._n.removeMutationBatch(O,j)}).next(function(){return I._n.performConsistencyCheck(O)}).next(function(){return I.Mn.pn(O,N)})}))];case 2:return g=y.sent(),ud(d,s,l),jf(d,s),d.sharedClientState.updateMutationState(s,"rejected",l),[4,wa(d,g)];case 3:return y.sent(),[3,6];case 4:return[4,xl(y.sent())];case 5:return y.sent(),[3,6];case 6:return[2]}var b,C,I})})}function cg(a,s){return(0,T.mG)(this,void 0,void 0,function(){var l,d,g,y,b;return(0,T.Jh)(this,function(C){switch(C.label){case 0:Ao((l=Le(a)).remoteStore)||De("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,(I=l.localStore,O=Le(I),O.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(N){return O._n.getHighestUnacknowledgedBatchId(N)}))];case 2:return-1===(d=C.sent())?[2,void s.resolve()]:((g=l.ko.get(d)||[]).push(s),l.ko.set(d,g),[3,4]);case 3:return y=C.sent(),b=wu(y,"Initialization of waitForPendingWrites() operation failed"),s.reject(b),[3,4];case 4:return[2]}var I,O})})}function jf(a,s){(a.ko.get(s)||[]).forEach(function(l){l.resolve()}),a.ko.delete(s)}function ud(a,s,l){var d=Le(a),g=d.xo[d.currentUser.toKey()];if(g){var y=g.get(s);y&&(l?y.reject(l):y.resolve(),g=g.remove(s)),d.xo[d.currentUser.toKey()]=g}}function Cu(a,s,l){void 0===l&&(l=null),a.sharedClientState.removeLocalQueryTarget(s);for(var d=0,g=a.Vo.get(s);d<g.length;d++){var y=g[d];a.Po.delete(y),l&&a.vo.Mo(y,l)}a.Vo.delete(s),a.isPrimaryClient&&a.No.Zn(s).forEach(function(b){a.No.containsKey(b)||Gl(a,b)})}function Gl(a,s){a.So.delete(s.path.canonicalString());var l=a.Do.get(s);null!==l&&(nd(a.remoteStore,l),a.Do=a.Do.remove(s),a.Co.delete(l),Mo(a))}function Uf(a,s,l){for(var d=0,g=l;d<g.length;d++){var y=g[d];y instanceof ql?(a.No.addReference(y.key,s),Hf(a,y)):y instanceof og?(De("SyncEngine","Document no longer in limbo: "+y.key),a.No.removeReference(y.key,s),a.No.containsKey(y.key)||Gl(a,y.key)):Je()}}function Hf(a,s){var l=s.key,d=l.path.canonicalString();a.Do.get(l)||a.So.has(d)||(De("SyncEngine","New document in limbo: "+l),a.So.add(d),Mo(a))}function Mo(a){for(;a.So.size>0&&a.Do.size<a.maxConcurrentLimboResolutions;){var s=a.So.values().next().value;a.So.delete(s);var l=new ze(ut.fromString(s)),d=a.Fo.next();a.Co.set(d,new ad(l)),a.Do=a.Do.insert(l,d),Vl(a.remoteStore,new pc(vi(fl(l.path)),d,2,ki.o))}}function wa(a,s,l){return(0,T.mG)(this,void 0,void 0,function(){var d,g,y,b;return(0,T.Jh)(this,function(C){switch(C.label){case 0:return d=Le(a),g=[],y=[],b=[],d.Po.isEmpty()?[3,3]:(d.Po.forEach(function(I,O){b.push(d.Oo(O,s,l).then(function(N){if(N){d.isPrimaryClient&&d.sharedClientState.updateQueryState(O.targetId,N.fromCache?"not-current":"current"),g.push(N);var j=Yp.Pn(O.targetId,N);y.push(j)}}))}),[4,Promise.all(b)]);case 1:return C.sent(),d.vo._r(g),[4,function(I,O){return(0,T.mG)(this,void 0,void 0,function(){var N,j,z,J,ee,ae,ke,ht;return(0,T.Jh)(this,function(ft){switch(ft.label){case 0:N=Le(I),ft.label=1;case 1:return ft.trys.push([1,3,,4]),[4,N.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(hn){return Te.forEach(O,function(Dn){return Te.forEach(Dn.bn,function(Qt){return N.persistence.referenceDelegate.addReference(hn,Dn.targetId,Qt)}).next(function(){return Te.forEach(Dn.vn,function(Qt){return N.persistence.referenceDelegate.removeReference(hn,Dn.targetId,Qt)})})})})];case 2:return ft.sent(),[3,4];case 3:if(!ma(j=ft.sent()))throw j;return De("LocalStore","Failed to update sequence numbers: "+j),[3,4];case 4:for(z=0,J=O;z<J.length;z++)ae=(ee=J[z]).targetId,ee.fromCache||(ke=N.kn.get(ae),ht=ke.withLastLimboFreeSnapshotVersion(ke.snapshotVersion),N.kn=N.kn.insert(ae,ht));return[2]}})})}(d.localStore,y)];case 2:C.sent(),C.label=3;case 3:return[2]}})})}function lg(a,s){return(0,T.mG)(this,void 0,void 0,function(){var l,d;return(0,T.Jh)(this,function(g){switch(g.label){case 0:return(l=Le(a)).currentUser.isEqual(s)?[3,3]:(De("SyncEngine","User change. New user:",s.toKey()),[4,wm(l.localStore,s)]);case 1:return d=g.sent(),l.currentUser=s,(y=l).ko.forEach(function(C){C.forEach(function(I){I.reject(new be(oe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.ko.clear(),l.sharedClientState.handleUserChange(s,d.removedBatchIds,d.addedBatchIds),[4,wa(l,d.Ln)];case 2:g.sent(),g.label=3;case 3:return[2]}var y})})}function Sc(a,s){var l=Le(a),d=l.Co.get(s);if(d&&d.bo)return _n().add(d.key);var g=_n(),y=l.Vo.get(s);if(!y)return g;for(var b=0,C=y;b<C.length;b++){var O=l.Po.get(C[b]);g=g.unionWith(O.view.wo)}return g}function by(a,s){return(0,T.mG)(this,void 0,void 0,function(){var l,d,g;return(0,T.Jh)(this,function(y){switch(y.label){case 0:return[4,Nl((l=Le(a)).localStore,s.query,!0)];case 1:return d=y.sent(),g=s.view.Ao(d),[2,(l.isPrimaryClient&&Uf(l,s.targetId,g.To),g)]}})})}function Um(a){return(0,T.mG)(this,void 0,void 0,function(){var s;return(0,T.Jh)(this,function(l){return[2,Xp((s=Le(a)).localStore).then(function(d){return wa(s,d)})]})})}function wy(a,s,l,d){return(0,T.mG)(this,void 0,void 0,function(){var g,y;return(0,T.Jh)(this,function(b){switch(b.label){case 0:return[4,(C=(g=Le(a)).localStore,I=s,O=Le(C),N=Le(O._n),O.persistence.runTransaction("Lookup mutation documents","readonly",function(j){return N.jt(j,I).next(function(z){return z?O.Mn.pn(j,z):Te.resolve(null)})}))];case 1:return null===(y=b.sent())?[3,6]:"pending"!==l?[3,3]:[4,wc(g.remoteStore)];case 2:return b.sent(),[3,4];case 3:"acknowledged"===l||"rejected"===l?(ud(g,s,d||null),jf(g,s),function(C,I){Le(Le(C)._n).Gt(I)}(g.localStore,s)):Je(),b.label=4;case 4:return[4,wa(g,y)];case 5:return b.sent(),[3,7];case 6:De("SyncEngine","Cannot apply mutation batch with id: "+s),b.label=7;case 7:return[2]}var C,I,O,N})})}function hg(a,s){return(0,T.mG)(this,void 0,void 0,function(){var l,d,g,y,b,I,O;return(0,T.Jh)(this,function(N){switch(N.label){case 0:return cd(l=Le(a)),Wl(l),!0!==s||!0===l.$o?[3,3]:(d=l.sharedClientState.getAllActiveQueryTargets(),[4,zf(l,d.toArray())]);case 1:return g=N.sent(),l.$o=!0,[4,Pf(l.remoteStore,!0)];case 2:for(N.sent(),y=0,b=g;y<b.length;y++)Vl(l.remoteStore,b[y]);return[3,7];case 3:return!1!==s||!1===l.$o?[3,7]:(I=[],O=Promise.resolve(),l.Vo.forEach(function(j,z){l.sharedClientState.isLocalQueryTarget(z)?I.push(z):O=O.then(function(){return Cu(l,z),Ni(l.localStore,z,!0)}),nd(l.remoteStore,z)}),[4,O]);case 4:return N.sent(),[4,zf(l,I)];case 5:return N.sent(),(z=Le(l)).Co.forEach(function(J,ee){nd(z.remoteStore,ee)}),z.No.ts(),z.Co=new Map,z.Do=new $n(ze.comparator),l.$o=!1,[4,Pf(l.remoteStore,!1)];case 6:N.sent(),N.label=7;case 7:return[2]}var z})})}function zf(a,s,l){return(0,T.mG)(this,void 0,void 0,function(){var d,g,y,b,C,I,O,N,j,z,ee,ae,ke;return(0,T.Jh)(this,function(Oe){switch(Oe.label){case 0:d=Le(a),g=[],y=[],b=0,C=s,Oe.label=1;case 1:return b<C.length?(O=void 0,(N=d.Vo.get(I=C[b]))&&0!==N.length?[4,ya(d.localStore,vi(N[0]))]:[3,7]):[3,13];case 2:O=Oe.sent(),j=0,z=N,Oe.label=3;case 3:return j<z.length?(ee=d.Po.get(z[j]),[4,by(d,ee)]):[3,6];case 4:(ae=Oe.sent()).snapshot&&y.push(ae.snapshot),Oe.label=5;case 5:return j++,[3,3];case 6:return[3,11];case 7:return[4,Qp(d.localStore,I)];case 8:return ke=Oe.sent(),[4,ya(d.localStore,ke)];case 9:return O=Oe.sent(),[4,$l(d,qf(ke),I,!1)];case 10:Oe.sent(),Oe.label=11;case 11:g.push(O),Oe.label=12;case 12:return b++,[3,1];case 13:return[2,(d.vo._r(y),g)]}})})}function qf(a){return xp(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function Ey(a){var s=Le(a);return Le(Le(s.localStore).persistence).fn()}function kt(a,s,l,d){return(0,T.mG)(this,void 0,void 0,function(){var g,y,b;return(0,T.Jh)(this,function(C){switch(C.label){case 0:return(g=Le(a)).$o?(De("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!g.Vo.has(s))return[3,8];switch(l){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Xp(g.localStore)];case 3:return y=C.sent(),b=_i.createSynthesizedRemoteEventForCurrentChange(s,"current"===l),[4,wa(g,y,b)];case 4:return C.sent(),[3,8];case 5:return[4,Ni(g.localStore,s,!0)];case 6:return C.sent(),Cu(g,s,d),[3,8];case 7:Je(),C.label=8;case 8:return[2]}})})}function Xn(a,s,l){return(0,T.mG)(this,void 0,void 0,function(){var d,g,y,b,C,I,O,N,j;return(0,T.Jh)(this,function(J){switch(J.label){case 0:if(!(d=cd(a)).$o)return[3,10];g=0,y=s,J.label=1;case 1:return g<y.length?d.Vo.has(b=y[g])?(De("SyncEngine","Adding an already active target "+b),[3,5]):[4,Qp(d.localStore,b)]:[3,6];case 2:return C=J.sent(),[4,ya(d.localStore,C)];case 3:return I=J.sent(),[4,$l(d,qf(C),I.targetId,!1)];case 4:J.sent(),Vl(d.remoteStore,I),J.label=5;case 5:return g++,[3,1];case 6:O=function(ee){return(0,T.Jh)(this,function(ae){switch(ae.label){case 0:return d.Vo.has(ee)?[4,Ni(d.localStore,ee,!1).then(function(){nd(d.remoteStore,ee),Cu(d,ee)}).catch(xl)]:[3,2];case 1:ae.sent(),ae.label=2;case 2:return[2]}})},N=0,j=l,J.label=7;case 7:return N<j.length?[5,O(j[N])]:[3,10];case 8:J.sent(),J.label=9;case 9:return N++,[3,7];case 10:return[2]}})})}function cd(a){var s=Le(a);return s.remoteStore.remoteSyncer.applyRemoteEvent=ug.bind(null,s),s.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sc.bind(null,s),s.remoteStore.remoteSyncer.rejectListen=jm.bind(null,s),s.vo._r=Nm.bind(null,s.eventManager),s.vo.Mo=_y.bind(null,s.eventManager),s}function Wl(a){var s=Le(a);return s.remoteStore.remoteSyncer.applySuccessfulWrite=Bf.bind(null,s),s.remoteStore.remoteSyncer.rejectFailedWrite=Vf.bind(null,s),s}var dg=function(){function a(){this.synchronizeTabs=!1}return a.prototype.initialize=function(s){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(l){switch(l.label){case 0:return this.R=Bl(s.databaseInfo.databaseId),this.sharedClientState=this.Bo(s),this.persistence=this.qo(s),[4,this.persistence.start()];case 1:return l.sent(),this.gcScheduler=this.Uo(s),this.localStore=this.Ko(s),[2]}})})},a.prototype.Uo=function(s){return null},a.prototype.Ko=function(s){return bm(this.persistence,new _m,s.initialUser,this.R)},a.prototype.qo=function(s){return new Sm(Fi.bs,this.R)},a.prototype.Bo=function(s){return new mu},a.prototype.terminate=function(){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(s){switch(s.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return s.sent(),[4,this.persistence.shutdown()];case 2:return s.sent(),[2]}})})},a}(),fg=function(a){function s(l,d,g){var y=this;return(y=a.call(this)||this).Qo=l,y.cacheSizeBytes=d,y.forceOwnership=g,y.synchronizeTabs=!1,y}return(0,T.ZT)(s,a),s.prototype.initialize=function(l){return(0,T.mG)(this,void 0,void 0,function(){var d=this;return(0,T.Jh)(this,function(g){switch(g.label){case 0:return[4,a.prototype.initialize.call(this,l)];case 1:return g.sent(),[4,Zp(this.localStore)];case 2:return g.sent(),[4,this.Qo.initialize(this,l)];case 3:return g.sent(),[4,Wl(this.Qo.syncEngine)];case 4:return g.sent(),[4,wc(this.Qo.remoteStore)];case 5:return g.sent(),[4,this.persistence.He(function(){return d.gcScheduler&&!d.gcScheduler.started&&d.gcScheduler.start(d.localStore),Promise.resolve()})];case 6:return g.sent(),[2]}})})},s.prototype.Ko=function(l){return bm(this.persistence,new _m,l.initialUser,this.R)},s.prototype.Uo=function(l){return new zp(this.persistence.referenceDelegate.garbageCollector,l.asyncQueue)},s.prototype.qo=function(l){var d=Kp(l.databaseInfo.databaseId,l.databaseInfo.persistenceKey),g=void 0!==this.cacheSizeBytes?Ho.withCacheSize(this.cacheSizeBytes):Ho.DEFAULT;return new cy(this.synchronizeTabs,d,l.clientId,g,l.asyncQueue,Ll(),bc(),this.R,this.sharedClientState,!!this.forceOwnership)},s.prototype.Bo=function(l){return new mu},s}(dg),Cy=function(a){function s(l,d){var g=this;return(g=a.call(this,l,d,!1)||this).Qo=l,g.cacheSizeBytes=d,g.synchronizeTabs=!0,g}return(0,T.ZT)(s,a),s.prototype.initialize=function(l){return(0,T.mG)(this,void 0,void 0,function(){var d,g=this;return(0,T.Jh)(this,function(y){switch(y.label){case 0:return[4,a.prototype.initialize.call(this,l)];case 1:return y.sent(),d=this.Qo.syncEngine,this.sharedClientState instanceof _c?(this.sharedClientState.syncEngine={ui:wy.bind(null,d),ai:kt.bind(null,d),hi:Xn.bind(null,d),fn:Ey.bind(null,d),ci:Um.bind(null,d)},[4,this.sharedClientState.start()]):[3,3];case 2:y.sent(),y.label=3;case 3:return[4,this.persistence.He(function(b){return(0,T.mG)(g,void 0,void 0,function(){return(0,T.Jh)(this,function(C){switch(C.label){case 0:return[4,hg(this.Qo.syncEngine,b)];case 1:return C.sent(),this.gcScheduler&&(b&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):b||this.gcScheduler.stop()),[2]}})})})];case 4:return y.sent(),[2]}})})},s.prototype.Bo=function(l){var d=Ll();if(!_c.yt(d))throw new be(oe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var g=Kp(l.databaseInfo.databaseId,l.databaseInfo.persistenceKey);return new _c(d,l.asyncQueue,g,l.clientId,l.initialUser)},s}(fg),Kl=function(){function a(){}return a.prototype.initialize=function(s,l){return(0,T.mG)(this,void 0,void 0,function(){var d=this;return(0,T.Jh)(this,function(g){switch(g.label){case 0:return this.localStore?[3,2]:(this.localStore=s.localStore,this.sharedClientState=s.sharedClientState,this.datastore=this.createDatastore(l),this.remoteStore=this.createRemoteStore(l),this.eventManager=this.createEventManager(l),this.syncEngine=this.createSyncEngine(l,!s.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(y){return Vm(d.syncEngine,y,1)},this.remoteStore.remoteSyncer.handleCredentialChange=lg.bind(null,this.syncEngine),[4,Pf(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:g.sent(),g.label=2;case 2:return[2]}})})},a.prototype.createEventManager=function(s){return new Pm},a.prototype.createDatastore=function(s){var d=Bl(s.databaseInfo.databaseId),g=new Mm(s.databaseInfo);return new L_(s.credentials,g,d)},a.prototype.createRemoteStore=function(s){var l,d,g,y,b,C=this;return l=this.localStore,d=this.datastore,g=s.asyncQueue,y=function(I){return Vm(C.syncEngine,I,0)},b=Mf.yt()?new Mf:new Im,new Rm(l,d,g,y,b)},a.prototype.createSyncEngine=function(s,l){return O=l,N=new Lf(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,s.initialUser,s.maxConcurrentLimboResolutions),O&&(N.$o=!0),N;var O,N},a.prototype.terminate=function(){return function(s){return(0,T.mG)(this,void 0,void 0,function(){var l;return(0,T.Jh)(this,function(d){switch(d.label){case 0:return l=Le(s),De("RemoteStore","RemoteStore shutting down."),l.Or.add(5),[4,yu(l)];case 1:return d.sent(),l.Lr.shutdown(),l.Br.set("Unknown"),[2]}})})}(this.remoteStore)},a}(),Ea=function(){function a(s){this.observer=s,this.muted=!1}return a.prototype.next=function(s){this.observer.next&&this.jo(this.observer.next,s)},a.prototype.error=function(s){this.observer.error?this.jo(this.observer.error,s):console.error("Uncaught Error in snapshot listener:",s)},a.prototype.Wo=function(){this.muted=!0},a.prototype.jo=function(s,l){var d=this;this.muted||setTimeout(function(){d.muted||s(l)},0)},a}(),gg=(function(){function a(s,l){var d=this;this.Go=s,this.R=l,this.metadata=new Gn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(g){g&&g.io()?d.metadata.resolve(g.payload.metadata):d.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(g?.payload)))},function(g){return d.metadata.reject(g)})}a.prototype.close=function(){return this.Go.cancel()},a.prototype.getMetadata=function(){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(s){return[2,this.metadata.promise]})})},a.prototype.Lo=function(){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(s){switch(s.label){case 0:return[4,this.getMetadata()];case 1:return[2,(s.sent(),this.Ho())]}})})},a.prototype.Ho=function(){return(0,T.mG)(this,void 0,void 0,function(){var s,l,d,g;return(0,T.Jh)(this,function(y){switch(y.label){case 0:return[4,this.Jo()];case 1:return null===(s=y.sent())?[2,null]:(l=this.zo.decode(s),d=Number(l),isNaN(d)&&this.Yo("length string ("+l+") is not valid number"),[4,this.Xo(d)]);case 2:return g=y.sent(),[2,new Lm(JSON.parse(g),s.length+d)]}})})},a.prototype.Zo=function(){return this.buffer.findIndex(function(s){return s==="{".charCodeAt(0)})},a.prototype.Jo=function(){return(0,T.mG)(this,void 0,void 0,function(){var s,l;return(0,T.Jh)(this,function(d){switch(d.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(d.sent())return[3,3];d.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((s=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),l=this.buffer.slice(0,s),[2,(this.buffer=this.buffer.slice(s),l)])}})})},a.prototype.Xo=function(s){return(0,T.mG)(this,void 0,void 0,function(){var l;return(0,T.Jh)(this,function(d){switch(d.label){case 0:return this.buffer.length<s?[4,this.tc()]:[3,3];case 1:d.sent()&&this.Yo("Reached the end of bundle when more is expected."),d.label=2;case 2:return[3,0];case 3:return l=this.zo.decode(this.buffer.slice(0,s)),[2,(this.buffer=this.buffer.slice(s),l)]}})})},a.prototype.Yo=function(s){throw this.Go.cancel(),new Error("Invalid bundle format: "+s)},a.prototype.tc=function(){return(0,T.mG)(this,void 0,void 0,function(){var s,l;return(0,T.Jh)(this,function(d){switch(d.label){case 0:return[4,this.Go.read()];case 1:return(s=d.sent()).done||((l=new Uint8Array(this.buffer.length+s.value.length)).set(this.buffer),l.set(s.value,this.buffer.length),this.buffer=l),[2,s.done]}})})}}(),function(){function a(s){this.datastore=s,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return a.prototype.lookup=function(s){return(0,T.mG)(this,void 0,void 0,function(){var l,d=this;return(0,T.Jh)(this,function(g){switch(g.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new be(oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(y,b){return(0,T.mG)(this,void 0,void 0,function(){var C,I,O,N,j,z;return(0,T.Jh)(this,function(J){switch(J.label){case 0:return C=Le(y),I=fa(C.R)+"/documents",O={documents:b.map(function(ee){return zh(C.R,ee)})},[4,C.$i("BatchGetDocuments",I,O)];case 1:return N=J.sent(),j=new Map,N.forEach(function(ee){var ke,Oe,ae=(ke=C.R,"found"in(Oe=ee)?function(ht,ft){Ce(!!ft.found);var hn=cs(ht,ft.found.name),Dn=Or(ft.found.updateTime),Qt=new Vr({mapValue:{fields:ft.found.fields}});return mi.newFoundDocument(hn,Dn,Qt)}(ke,Oe):"missing"in Oe?function(ht,ft){Ce(!!ft.missing),Ce(!!ft.readTime);var hn=cs(ht,ft.missing),Dn=Or(ft.readTime);return mi.newNoDocument(hn,Dn)}(ke,Oe):Je());j.set(ae.key.toString(),ae)}),z=[],[2,(b.forEach(function(ee){var ae=j.get(ee.toString());Ce(!!ae),z.push(ae)}),z)]}})})}(this.datastore,s)];case 1:return[2,((l=g.sent()).forEach(function(y){return d.recordVersion(y)}),l)]}})})},a.prototype.set=function(s,l){this.write(l.toMutation(s,this.precondition(s))),this.writtenDocs.add(s.toString())},a.prototype.update=function(s,l){try{this.write(l.toMutation(s,this.preconditionForUpdate(s)))}catch(d){this.lastWriteError=d}this.writtenDocs.add(s.toString())},a.prototype.delete=function(s){this.write(new iu(s,this.precondition(s))),this.writtenDocs.add(s.toString())},a.prototype.commit=function(){return(0,T.mG)(this,void 0,void 0,function(){var s,l=this;return(0,T.Jh)(this,function(d){switch(d.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return s=this.readVersions,this.mutations.forEach(function(g){s.delete(g.key.toString())}),s.forEach(function(g,y){var b=ze.fromPath(y);l.mutations.push(new So(b,l.precondition(b)))}),[4,function(g,y){return(0,T.mG)(this,void 0,void 0,function(){var b,C,I;return(0,T.Jh)(this,function(O){switch(O.label){case 0:return b=Le(g),C=fa(b.R)+"/documents",I={writes:y.map(function(N){return su(b.R,N)})},[4,b.Ni("Commit",C,I)];case 1:return O.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return d.sent(),this.committed=!0,[2]}})})},a.prototype.recordVersion=function(s){var l;if(s.isFoundDocument())l=s.version;else{if(!s.isNoDocument())throw Je();l=Ft.min()}var d=this.readVersions.get(s.key.toString());if(d){if(!l.isEqual(d))throw new be(oe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(s.key.toString(),l)},a.prototype.precondition=function(s){var l=this.readVersions.get(s.toString());return!this.writtenDocs.has(s.toString())&&l?nr.updateTime(l):nr.none()},a.prototype.preconditionForUpdate=function(s){var l=this.readVersions.get(s.toString());if(!this.writtenDocs.has(s.toString())&&l){if(l.isEqual(Ft.min()))throw new be(oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nr.updateTime(l)}return nr.exists(!0)},a.prototype.write=function(s){this.ensureCommitNotCalled(),this.mutations.push(s)},a.prototype.ensureCommitNotCalled=function(){},a}()),ld=function(){function a(s,l,d,g){this.asyncQueue=s,this.datastore=l,this.updateFunction=d,this.deferred=g,this.ec=5,this.Zi=new vu(this.asyncQueue,"transaction_retry")}return a.prototype.run=function(){this.ec-=1,this.nc()},a.prototype.nc=function(){var s=this;this.Zi.ji(function(){return(0,T.mG)(s,void 0,void 0,function(){var l,d,g=this;return(0,T.Jh)(this,function(y){return l=new gg(this.datastore),(d=this.sc(l))&&d.then(function(b){g.asyncQueue.enqueueAndForget(function(){return l.commit().then(function(){g.deferred.resolve(b)}).catch(function(C){g.ic(C)})})}).catch(function(b){g.ic(b)}),[2]})})})},a.prototype.sc=function(s){try{var l=this.updateFunction(s);return!Is(l)&&l.catch&&l.then?l:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(d){return this.deferred.reject(d),null}},a.prototype.ic=function(s){var l=this;this.ec>0&&this.rc(s)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return l.nc(),Promise.resolve()})):this.deferred.reject(s)},a.prototype.rc=function(s){if("FirebaseError"===s.name){var l=s.code;return"aborted"===l||"failed-precondition"===l||!ca(l)}return!1},a}(),mg=function(){function a(s,l,d){var g=this;this.credentials=s,this.asyncQueue=l,this.databaseInfo=d,this.user=Cr.UNAUTHENTICATED,this.clientId=ni.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(l,function(y){return(0,T.mG)(g,void 0,void 0,function(){return(0,T.Jh)(this,function(b){switch(b.label){case 0:return De("FirestoreClient","Received user=",y.uid),[4,this.credentialListener(y)];case 1:return b.sent(),this.user=y,[2]}})})})}return a.prototype.getConfiguration=function(){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(s){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},a.prototype.setCredentialChangeListener=function(s){this.credentialListener=s},a.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new be(oe.FAILED_PRECONDITION,"The client has already been terminated.")},a.prototype.terminate=function(){var s=this;this.asyncQueue.enterRestrictedMode();var l=new Gn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,T.mG)(s,void 0,void 0,function(){var d,g;return(0,T.Jh)(this,function(y){switch(y.label){case 0:return y.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:y.sent(),y.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:y.sent(),y.label=4;case 4:return this.credentials.removeChangeListener(),l.resolve(),[3,6];case 5:return d=y.sent(),g=wu(d,"Failed to shutdown persistence"),l.reject(g),[3,6];case 6:return[2]}})})}),l.promise},a}();function vg(a,s){return(0,T.mG)(this,void 0,void 0,function(){var l,d,g=this;return(0,T.Jh)(this,function(y){switch(y.label){case 0:return a.asyncQueue.verifyOperationInProgress(),De("FirestoreClient","Initializing OfflineComponentProvider"),[4,a.getConfiguration()];case 1:return l=y.sent(),[4,s.initialize(l)];case 2:return y.sent(),d=l.initialUser,a.setCredentialChangeListener(function(b){return(0,T.mG)(g,void 0,void 0,function(){return(0,T.Jh)(this,function(C){switch(C.label){case 0:return d.isEqual(b)?[3,2]:[4,wm(s.localStore,b)];case 1:C.sent(),d=b,C.label=2;case 2:return[2]}})})}),s.persistence.setDatabaseDeletedListener(function(){return a.terminate()}),a.offlineComponents=s,[2]}})})}function hd(a,s){return(0,T.mG)(this,void 0,void 0,function(){var l,d;return(0,T.Jh)(this,function(g){switch(g.label){case 0:return a.asyncQueue.verifyOperationInProgress(),[4,Tc(a)];case 1:return l=g.sent(),De("FirestoreClient","Initializing OnlineComponentProvider"),[4,a.getConfiguration()];case 2:return d=g.sent(),[4,s.initialize(l,d)];case 3:return g.sent(),a.setCredentialChangeListener(function(y){return function(b,C){return(0,T.mG)(this,void 0,void 0,function(){var I,O;return(0,T.Jh)(this,function(N){switch(N.label){case 0:return(I=Le(b)).asyncQueue.verifyOperationInProgress(),De("RemoteStore","RemoteStore received new credentials"),O=Ao(I),I.Or.add(3),[4,yu(I)];case 1:return N.sent(),O&&I.Br.set("Unknown"),[4,I.remoteSyncer.handleCredentialChange(C)];case 2:return N.sent(),I.Or.delete(3),[4,oi(I)];case 3:return N.sent(),[2]}})})}(s.remoteStore,y)}),a.onlineComponents=s,[2]}})})}function Tc(a){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(s){switch(s.label){case 0:return a.offlineComponents?[3,2]:(De("FirestoreClient","Using default OfflineComponentProvider"),[4,vg(a,new dg)]);case 1:s.sent(),s.label=2;case 2:return[2,a.offlineComponents]}})})}function $f(a){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(s){switch(s.label){case 0:return a.onlineComponents?[3,2]:(De("FirestoreClient","Using default OnlineComponentProvider"),[4,hd(a,new Kl)]);case 1:s.sent(),s.label=2;case 2:return[2,a.onlineComponents]}})})}function yg(a){return Tc(a).then(function(s){return s.persistence})}function dd(a){return Tc(a).then(function(s){return s.localStore})}function _g(a){return $f(a).then(function(s){return s.remoteStore})}function Ic(a){return $f(a).then(function(s){return s.syncEngine})}function qo(a){return(0,T.mG)(this,void 0,void 0,function(){var s,l;return(0,T.Jh)(this,function(d){switch(d.label){case 0:return[4,$f(a)];case 1:return s=d.sent(),[2,((l=s.eventManager).onListen=sg.bind(null,s.syncEngine),l.onUnlisten=Eu.bind(null,s.syncEngine),l)]}})})}function qm(a,s,l){var d=this;void 0===l&&(l={});var g=new Gn;return a.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(d,void 0,void 0,function(){var y;return(0,T.Jh)(this,function(b){switch(b.label){case 0:return y=function(C,I,O,N,j){var z=new Ea({next:function(ee){I.enqueueAndForget(function(){return Ec(C,J)});var ae=ee.docs.has(O);!ae&&ee.fromCache?j.reject(new be(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):ae&&ee.fromCache&&N&&"server"===N.source?j.reject(new be(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(ee)},error:function(ee){return j.reject(ee)}}),J=new Cc(fl(O.path),z,{includeMetadataChanges:!0,so:!0});return Vs(C,J)},[4,qo(a)];case 1:return[2,y.apply(void 0,[b.sent(),a.asyncQueue,s,l,g])]}})})}),g.promise}function Li(a,s,l){var d=this;void 0===l&&(l={});var g=new Gn;return a.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(d,void 0,void 0,function(){var y;return(0,T.Jh)(this,function(b){switch(b.label){case 0:return y=function(C,I,O,N,j){var z=new Ea({next:function(ee){I.enqueueAndForget(function(){return Ec(C,J)}),ee.fromCache&&"server"===N.source?j.reject(new be(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(ee)},error:function(ee){return j.reject(ee)}}),J=new Cc(O,z,{includeMetadataChanges:!0,so:!0});return Vs(C,J)},[4,qo(a)];case 1:return[2,y.apply(void 0,[b.sent(),a.asyncQueue,s,l,g])]}})})}),g.promise}var Gf=function(a,s,l,d,g,y,b,C){this.databaseId=a,this.appId=s,this.persistenceKey=l,this.host=d,this.ssl=g,this.forceLongPolling=y,this.autoDetectLongPolling=b,this.useFetchStreams=C},Du=function(){function a(s,l){this.projectId=s,this.database=l||"(default)"}return Object.defineProperty(a.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(s){return s instanceof a&&s.projectId===this.projectId&&s.database===this.database},a}(),Ac=new Map,Yl=function(a,s){this.user=s,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+a},Ql=function(){function a(){this.changeListener=null}return a.prototype.getToken=function(){return Promise.resolve(null)},a.prototype.invalidateToken=function(){},a.prototype.setChangeListener=function(s,l){this.changeListener=l,s.enqueueRetryable(function(){return l(Cr.UNAUTHENTICATED)})},a.prototype.removeChangeListener=function(){this.changeListener=null},a}(),fd=function(){function a(s){this.token=s,this.changeListener=null}return a.prototype.getToken=function(){return Promise.resolve(this.token)},a.prototype.invalidateToken=function(){},a.prototype.setChangeListener=function(s,l){var d=this;this.changeListener=l,s.enqueueRetryable(function(){return l(d.token.user)})},a.prototype.removeChangeListener=function(){this.changeListener=null},a}(),Mc=function(){function a(s){var l=this;this.currentUser=Cr.UNAUTHENTICATED,this.oc=new Gn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){l.cc++,l.currentUser=l.ac(),l.oc.resolve(),l.changeListener&&l.asyncQueue.enqueueRetryable(function(){return l.changeListener(l.currentUser)})};var d=function(g){De("FirebaseCredentialsProvider","Auth detected"),l.auth=g,l.auth.addAuthTokenListener(l.uc)};s.onInit(function(g){return d(g)}),setTimeout(function(){if(!l.auth){var g=s.getImmediate({optional:!0});g?d(g):(De("FirebaseCredentialsProvider","Auth not yet detected"),l.oc.resolve())}},0)}return a.prototype.getToken=function(){var s=this,l=this.cc,d=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(d).then(function(g){return s.cc!==l?(De("FirebaseCredentialsProvider","getToken aborted due to token change."),s.getToken()):g?(Ce("string"==typeof g.accessToken),new Yl(g.accessToken,s.currentUser)):null}):Promise.resolve(null)},a.prototype.invalidateToken=function(){this.forceRefresh=!0},a.prototype.setChangeListener=function(s,l){var d=this;this.asyncQueue=s,this.asyncQueue.enqueueRetryable(function(){return(0,T.mG)(d,void 0,void 0,function(){return(0,T.Jh)(this,function(g){switch(g.label){case 0:return[4,this.oc.promise];case 1:return g.sent(),[4,l(this.currentUser)];case 2:return g.sent(),this.changeListener=l,[2]}})})})},a.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},a.prototype.ac=function(){var s=this.auth&&this.auth.getUid();return Ce(null===s||"string"==typeof s),new Cr(s)},a}(),bg=function(){function a(s,l,d){this.hc=s,this.lc=l,this.fc=d,this.type="FirstParty",this.user=Cr.FIRST_PARTY}return Object.defineProperty(a.prototype,"authHeaders",{get:function(){var s={"X-Goog-AuthUser":this.lc},l=this.hc.auth.getAuthHeaderValueForFirstParty([]);return l&&(s.Authorization=l),this.fc&&(s["X-Goog-Iam-Authorization-Token"]=this.fc),s},enumerable:!1,configurable:!0}),a}(),pd=function(){function a(s,l,d){this.hc=s,this.lc=l,this.fc=d}return a.prototype.getToken=function(){return Promise.resolve(new bg(this.hc,this.lc,this.fc))},a.prototype.setChangeListener=function(s,l){s.enqueueRetryable(function(){return l(Cr.FIRST_PARTY)})},a.prototype.removeChangeListener=function(){},a.prototype.invalidateToken=function(){},a}();function gd(a,s,l){if(!l)throw new be(oe.INVALID_ARGUMENT,"Function "+a+"() cannot be called with an empty "+s+".")}function wg(a,s){if(void 0===s)return{merge:!1};if(void 0!==s.mergeFields&&void 0!==s.merge)throw new be(oe.INVALID_ARGUMENT,"Invalid options passed to function "+a+'(): You cannot specify both "merge" and "mergeFields".');return s}function Ca(a,s,l,d){if(!0===s&&!0===d)throw new be(oe.INVALID_ARGUMENT,a+" and "+l+" cannot be used together.")}function hs(a){if(!ze.isDocumentKey(a))throw new be(oe.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+a+" has "+a.length+".")}function Eg(a){if(ze.isDocumentKey(a))throw new be(oe.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+a+" has "+a.length+".")}function md(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=a.substring(0,20)+"..."),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";var s=function(l){if(l.constructor){var d=/function\s+([^\s(]+)\s*\(/.exec(l.constructor.toString());if(d&&d.length>1)return d[1]}return null}(a);return s?"a custom "+s+" object":"an object"}return"function"==typeof a?"a function":Je()}function vn(a,s){if("_delegate"in a&&(a=a._delegate),!(a instanceof s)){if(s.name===a.constructor.name)throw new be(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var l=md(a);throw new be(oe.INVALID_ARGUMENT,"Expected type '"+s.name+"', but it was: "+l)}return a}function Wf(a,s){if(s<=0)throw new be(oe.INVALID_ARGUMENT,"Function "+a+"() requires a positive number, but it was: "+s+".")}var Xl=function(){function a(s){var l;if(void 0===s.host){if(void 0!==s.ssl)throw new be(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=s.host,this.ssl=null===(l=s.ssl)||void 0===l||l;if(this.credentials=s.credentials,this.ignoreUndefinedProperties=!!s.ignoreUndefinedProperties,void 0===s.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==s.cacheSizeBytes&&s.cacheSizeBytes<1048576)throw new be(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=s.cacheSizeBytes}this.experimentalForceLongPolling=!!s.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!s.experimentalAutoDetectLongPolling,this.useFetchStreams=!!s.useFetchStreams,Ca("experimentalForceLongPolling",s.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",s.experimentalAutoDetectLongPolling)}return a.prototype.isEqual=function(s){return this.host===s.host&&this.ssl===s.ssl&&this.credentials===s.credentials&&this.cacheSizeBytes===s.cacheSizeBytes&&this.experimentalForceLongPolling===s.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===s.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===s.ignoreUndefinedProperties&&this.useFetchStreams===s.useFetchStreams},a}(),kc=function(){function a(s,l){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xl({}),this._settingsFrozen=!1,s instanceof Du?(this._databaseId=s,this._credentials=new Ql):(this._app=s,this._databaseId=function(d){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new be(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Du(d.options.projectId)}(s),this._credentials=new Mc(l))}return Object.defineProperty(a.prototype,"app",{get:function(){if(!this._app)throw new be(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),a.prototype._setSettings=function(s){if(this._settingsFrozen)throw new be(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xl(s),void 0!==s.credentials&&(this._credentials=function(l){if(!l)return new Ql;switch(l.type){case"gapi":var d=l.client;return Ce(!("object"!=typeof d||null===d||!d.auth||!d.auth.getAuthHeaderValueForFirstParty)),new pd(d,l.sessionIndex||"0",l.iamToken||null);case"provider":return l.client;default:throw new be(oe.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(s.credentials))},a.prototype._getSettings=function(){return this._settings},a.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},a.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},a.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},a.prototype._terminate=function(){return(l=Ac.get(this))&&(De("ComponentProvider","Removing Datastore"),Ac.delete(this),l.terminate()),Promise.resolve();var l},a}(),An=function(){function a(s,l,d){this.converter=l,this._key=d,this.type="document",this.firestore=s}return Object.defineProperty(a.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){return new js(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),a.prototype.withConverter=function(s){return new a(this.firestore,s,this._key)},a}(),Jt=function(){function a(s,l,d){this.converter=l,this._query=d,this.type="query",this.firestore=s}return a.prototype.withConverter=function(s){return new a(this.firestore,s,this._query)},a}(),js=function(a){function s(l,d,g){var y=this;return(y=a.call(this,l,d,fl(g))||this)._path=g,y.type="collection",y}return(0,T.ZT)(s,a),Object.defineProperty(s.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"parent",{get:function(){var l=this._path.popLast();return l.isEmpty()?null:new An(this.firestore,null,new ze(l))},enumerable:!1,configurable:!0}),s.prototype.withConverter=function(l){return new s(this.firestore,l,this._path)},s}(Jt);function ko(a,s){for(var l,d=[],g=2;g<arguments.length;g++)d[g-2]=arguments[g];if(a=(0,We.m9)(a),gd("collection","path",s),a instanceof kc)return Eg(l=ut.fromString.apply(ut,(0,T.ev)([s],d))),new js(a,null,l);if(!(a instanceof An||a instanceof js))throw new be(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Eg(l=ut.fromString.apply(ut,(0,T.ev)([a.path],d)).child(ut.fromString(s))),new js(a.firestore,null,l)}function Zl(a,s){for(var l,d=[],g=2;g<arguments.length;g++)d[g-2]=arguments[g];if(a=(0,We.m9)(a),1===arguments.length&&(s=ni.u()),gd("doc","path",s),a instanceof kc)return hs(l=ut.fromString.apply(ut,(0,T.ev)([s],d))),new An(a,null,new ze(l));if(!(a instanceof An||a instanceof js))throw new be(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return hs(l=a._path.child(ut.fromString.apply(ut,(0,T.ev)([s],d)))),new An(a.firestore,a instanceof js?a.converter:null,new ze(l))}function $m(a,s){return a=(0,We.m9)(a),s=(0,We.m9)(s),(a instanceof An||a instanceof js)&&(s instanceof An||s instanceof js)&&a.firestore===s.firestore&&a.path===s.path&&a.converter===s.converter}function Kf(a,s){return a=(0,We.m9)(a),s=(0,We.m9)(s),a instanceof Jt&&s instanceof Jt&&a.firestore===s.firestore&&ks(a._query,s._query)&&a.converter===s.converter}var Yf=function(){function a(){var s=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new vu(this,"async_queue_retry"),this.Ic=function(){var d=bc();d&&De("AsyncQueue","Visibility state changed to "+d.visibilityState),s.Zi.Gi()};var l=bc();l&&"function"==typeof l.addEventListener&&l.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(a.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),a.prototype.enqueueAndForget=function(s){this.enqueue(s)},a.prototype.enqueueAndForgetEvenWhileRestricted=function(s){this.Ac(),this.Rc(s)},a.prototype.enterRestrictedMode=function(s){if(!this._c){this._c=!0,this.Ec=s||!1;var l=bc();l&&"function"==typeof l.removeEventListener&&l.removeEventListener("visibilitychange",this.Ic)}},a.prototype.enqueue=function(s){var l=this;if(this.Ac(),this._c)return new Promise(function(){});var d=new Gn;return this.Rc(function(){return l._c&&l.Ec?Promise.resolve():(s().then(d.resolve,d.reject),d.promise)}).then(function(){return d.promise})},a.prototype.enqueueRetryable=function(s){var l=this;this.enqueueAndForget(function(){return l.wc.push(s),l.bc()})},a.prototype.bc=function(){return(0,T.mG)(this,void 0,void 0,function(){var s,l=this;return(0,T.Jh)(this,function(d){switch(d.label){case 0:if(0===this.wc.length)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return d.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ma(s=d.sent()))throw s;return De("AsyncQueue","Operation failed with retryable error: "+s),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return l.bc()}),d.label=5;case 5:return[2]}})})},a.prototype.Rc=function(s){var l=this,d=this.dc.then(function(){return l.gc=!0,s().catch(function(g){throw l.yc=g,l.gc=!1,yr("INTERNAL UNHANDLED ERROR: ",(b=(y=g).message||"",y.stack&&(b=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),b)),g;var y,b}).then(function(g){return l.gc=!1,g})});return this.dc=d,d},a.prototype.enqueueAfterDelay=function(s,l,d){var g=this;this.Ac(),this.Tc.indexOf(s)>-1&&(l=0);var y=id.createAndSchedule(this,s,l,d,function(b){return g.vc(b)});return this.mc.push(y),y},a.prototype.Ac=function(){this.yc&&Je()},a.prototype.verifyOperationInProgress=function(){},a.prototype.Pc=function(){return(0,T.mG)(this,void 0,void 0,function(){var s;return(0,T.Jh)(this,function(l){switch(l.label){case 0:return[4,s=this.dc];case 1:l.sent(),l.label=2;case 2:if(s!==this.dc)return[3,0];l.label=3;case 3:return[2]}})})},a.prototype.Vc=function(s){for(var l=0,d=this.mc;l<d.length;l++)if(d[l].timerId===s)return!0;return!1},a.prototype.Sc=function(s){var l=this;return this.Pc().then(function(){l.mc.sort(function(b,C){return b.targetTimeMs-C.targetTimeMs});for(var d=0,g=l.mc;d<g.length;d++){var y=g[d];if(y.skipDelay(),"all"!==s&&y.timerId===s)break}return l.Pc()})},a.prototype.Dc=function(s){this.Tc.push(s)},a.prototype.vc=function(s){var l=this.mc.indexOf(s);this.mc.splice(l,1)},a}();function Jl(a){return function(s,l){if("object"!=typeof s||null===s)return!1;for(var d=s,g=0,y=["next","error","complete"];g<y.length;g++){var b=y[g];if(b in d&&"function"==typeof d[b])return!0}return!1}(a)}!function(){function a(){this._progressObserver={},this._taskCompletionResolver=new Gn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}a.prototype.onProgress=function(s,l,d){this._progressObserver={next:s,error:l,complete:d}},a.prototype.catch=function(s){return this._taskCompletionResolver.promise.catch(s)},a.prototype.then=function(s,l){return this._taskCompletionResolver.promise.then(s,l)},a.prototype._completeWith=function(s){this._updateProgress(s),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(s)},a.prototype._failWith=function(s){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(s),this._taskCompletionResolver.reject(s)},a.prototype._updateProgress=function(s){this._lastProgress=s,this._progressObserver.next&&this._progressObserver.next(s)}}();var Dr=function(a){function s(l,d){var g=this;return(g=a.call(this,l,d)||this).type="firestore",g._queue=new Yf,g._persistenceKey="name"in l?l.name:"[DEFAULT]",g}return(0,T.ZT)(s,a),s.prototype._terminate=function(){return this._firestoreClient||Rc(this),this._firestoreClient.terminate()},s}(kc);function ln(a){return a._firestoreClient||Rc(a),a._firestoreClient.verifyNotTerminated(),a._firestoreClient}function Rc(a){var s,y,C,l=a._freezeSettings(),d=(y=(null===(s=a._app)||void 0===s?void 0:s.options.appId)||"",new Gf(a._databaseId,y,a._persistenceKey,(C=l).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,C.useFetchStreams));a._firestoreClient=new mg(a._credentials,a._queue,d)}function Dg(a,s,l){var d=this,g=new Gn;return a.asyncQueue.enqueue(function(){return(0,T.mG)(d,void 0,void 0,function(){var y;return(0,T.Jh)(this,function(b){switch(b.label){case 0:return b.trys.push([0,3,,4]),[4,vg(a,l)];case 1:return b.sent(),[4,hd(a,s)];case 2:return b.sent(),g.resolve(),[3,4];case 3:if(!("FirebaseError"===(C=y=b.sent()).name?C.code===oe.FAILED_PRECONDITION||C.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&C instanceof DOMException)||22===C.code||20===C.code||11===C.code))throw y;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+y),g.reject(y),[3,4];case 4:return[2]}var C})})}).then(function(){return g.promise})}function Sg(a){if(a._initialized||a._terminated)throw new be(oe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ro=function(){function a(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];for(var d=0;d<s.length;++d)if(0===s[d].length)throw new be(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ri(s)}return a.prototype.isEqual=function(s){return this._internalPath.isEqual(s._internalPath)},a}(),xc=function(){function a(s){this._byteString=s}return a.fromBase64String=function(s){try{return new a(Br.fromBase64String(s))}catch(l){throw new be(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+l)}},a.fromUint8Array=function(s){return new a(Br.fromUint8Array(s))},a.prototype.toBase64=function(){return this._byteString.toBase64()},a.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},a.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},a.prototype.isEqual=function(s){return this._byteString.isEqual(s._byteString)},a}(),Us=function(a){this._methodName=a},vd=function(){function a(s,l){if(!isFinite(s)||s<-90||s>90)throw new be(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+s);if(!isFinite(l)||l<-180||l>180)throw new be(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+l);this._lat=s,this._long=l}return Object.defineProperty(a.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(s){return this._lat===s._lat&&this._long===s._long},a.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},a.prototype._compareTo=function(s){return tt(this._lat,s._lat)||tt(this._long,s._long)},a}(),Dy=/^__.*__$/,Tg=function(){function a(s,l,d){this.data=s,this.fieldMask=l,this.fieldTransforms=d}return a.prototype.toMutation=function(s,l){return null!==this.fieldMask?new br(s,this.data,this.fieldMask,l,this.fieldTransforms):new bl(s,this.data,l,this.fieldTransforms)},a}(),Qf=function(){function a(s,l,d){this.data=s,this.fieldMask=l,this.fieldTransforms=d}return a.prototype.toMutation=function(s,l){return new br(s,this.data,this.fieldMask,l,this.fieldTransforms)},a}();function Wm(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}var yd=function(){function a(s,l,d,g,y,b){this.settings=s,this.databaseId=l,this.R=d,this.ignoreUndefinedProperties=g,void 0===y&&this.Cc(),this.fieldTransforms=y||[],this.fieldMask=b||[]}return Object.defineProperty(a.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),a.prototype.xc=function(s){return new a(Object.assign(Object.assign({},this.settings),s),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},a.prototype.kc=function(s){var l,d=null===(l=this.path)||void 0===l?void 0:l.child(s),g=this.xc({path:d,Fc:!1});return g.$c(s),g},a.prototype.Oc=function(s){var l,d=null===(l=this.path)||void 0===l?void 0:l.child(s),g=this.xc({path:d,Fc:!1});return g.Cc(),g},a.prototype.Mc=function(s){return this.xc({path:void 0,Fc:!0})},a.prototype.Lc=function(s){return Ag(s,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},a.prototype.contains=function(s){return void 0!==this.fieldMask.find(function(l){return s.isPrefixOf(l)})||void 0!==this.fieldTransforms.find(function(l){return s.isPrefixOf(l.field)})},a.prototype.Cc=function(){if(this.path)for(var s=0;s<this.path.length;s++)this.$c(this.path.get(s))},a.prototype.$c=function(s){if(0===s.length)throw this.Lc("Document fields must not be empty");if(Wm(this.Nc)&&Dy.test(s))throw this.Lc('Document fields cannot begin and end with "__"')},a}(),Hs=function(){function a(s,l,d){this.databaseId=s,this.ignoreUndefinedProperties=l,this.R=d||Bl(s)}return a.prototype.Uc=function(s,l,d,g){return void 0===g&&(g=!1),new yd({Nc:s,methodName:l,qc:d,path:Ri.emptyPath(),Fc:!1,Bc:g},this.databaseId,this.R,this.ignoreUndefinedProperties)},a}();function Su(a){var s=a._freezeSettings(),l=Bl(a._databaseId);return new Hs(a._databaseId,!!s.ignoreUndefinedProperties,l)}function eh(a,s,l,d,g,y){void 0===y&&(y={});var b=a.Uc(y.merge||y.mergeFields?2:0,s,l,g);_d("Data must be an object, but it was:",b,d);var C,I,O=Ty(d,b);if(y.merge)C=new hr(b.fieldMask),I=b.fieldTransforms;else if(y.mergeFields){for(var N=[],j=0,z=y.mergeFields;j<z.length;j++){var J=Pc(s,z[j],l);if(!b.contains(J))throw new be(oe.INVALID_ARGUMENT,"Field '"+J+"' is specified in your field mask but missing from your input data.");Nc(N,J)||N.push(J)}C=new hr(N),I=b.fieldTransforms.filter(function(ee){return C.covers(ee.field)})}else C=null,I=b.fieldTransforms;return new Tg(new Vr(O),C,I)}var th=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,T.ZT)(s,a),s.prototype._toFieldTransform=function(l){if(2!==l.Nc)throw l.Lc(1===l.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return l.fieldMask.push(l.path),null},s.prototype.isEqual=function(l){return l instanceof s},s}(Us);function Km(a,s,l){return new yd({Nc:3,qc:s.settings.qc,methodName:a._methodName,Fc:l},s.databaseId,s.R,s.ignoreUndefinedProperties)}var Tu=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,T.ZT)(s,a),s.prototype._toFieldTransform=function(l){return new nu(l.path,new yi)},s.prototype.isEqual=function(l){return l instanceof s},s}(Us),ds=function(a){function s(l,d){var g=this;return(g=a.call(this,l)||this).Kc=d,g}return(0,T.ZT)(s,a),s.prototype._toFieldTransform=function(l){var d=Km(this,l,!0),g=this.Kc.map(function(b){return fs(b,d)}),y=new us(g);return new nu(l.path,y)},s.prototype.isEqual=function(l){return this===l},s}(Us),Sy=function(a){function s(l,d){var g=this;return(g=a.call(this,l)||this).Kc=d,g}return(0,T.ZT)(s,a),s.prototype._toFieldTransform=function(l){var d=Km(this,l,!0),g=this.Kc.map(function(b){return fs(b,d)}),y=new eu(g);return new nu(l.path,y)},s.prototype.isEqual=function(l){return this===l},s}(Us),ie=function(a){function s(l,d){var g=this;return(g=a.call(this,l)||this).Qc=d,g}return(0,T.ZT)(s,a),s.prototype._toFieldTransform=function(l){var d=new tu(l.R,Xd(l.R,this.Qc));return new nu(l.path,d)},s.prototype.isEqual=function(l){return this===l},s}(Us);function Oc(a,s,l,d){var g=a.Uc(1,s,l);_d("Data must be an object, but it was:",g,d);var y=[],b=Vr.empty();Lt(d,function(I,O){var N=Xm(s,I,l);O=(0,We.m9)(O);var j=g.Oc(N);if(O instanceof th)y.push(N);else{var z=fs(O,j);null!=z&&(y.push(N),b.set(N,z))}});var C=new hr(y);return new Qf(b,C,g.fieldTransforms)}function Ig(a,s,l,d,g,y){var b=a.Uc(1,s,l),C=[Pc(s,d,l)],I=[g];if(y.length%2!=0)throw new be(oe.INVALID_ARGUMENT,"Function "+s+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var O=0;O<y.length;O+=2)C.push(Pc(s,y[O])),I.push(y[O+1]);for(var N=[],j=Vr.empty(),z=C.length-1;z>=0;--z)if(!Nc(N,C[z])){var J=C[z],ee=I[z];ee=(0,We.m9)(ee);var ae=b.Oc(J);if(ee instanceof th)N.push(J);else{var ke=fs(ee,ae);null!=ke&&(N.push(J),j.set(J,ke))}}var Oe=new hr(N);return new Qf(j,Oe,b.fieldTransforms)}function Ym(a,s,l,d){return void 0===d&&(d=!1),fs(l,a.Uc(d?4:3,s))}function fs(a,s){if(Qm(a=(0,We.m9)(a)))return _d("Unsupported field value:",s,a),Ty(a,s);if(a instanceof Us)return function(l,d){if(!Wm(d.Nc))throw d.Lc(l._methodName+"() can only be used with update() and set()");if(!d.path)throw d.Lc(l._methodName+"() is not currently supported inside arrays");var g=l._toFieldTransform(d);g&&d.fieldTransforms.push(g)}(a,s),null;if(void 0===a&&s.ignoreUndefinedProperties)return null;if(s.path&&s.fieldMask.push(s.path),a instanceof Array){if(s.settings.Fc&&4!==s.Nc)throw s.Lc("Nested arrays are not supported");return function(l,d){for(var g=[],y=0,b=0,C=l;b<C.length;b++){var I=fs(C[b],d.Mc(y));null==I&&(I={nullValue:"NULL_VALUE"}),g.push(I),y++}return{arrayValue:{values:g}}}(a,s)}return function(l,d){if(null===(l=(0,We.m9)(l)))return{nullValue:"NULL_VALUE"};if("number"==typeof l)return Xd(d.R,l);if("boolean"==typeof l)return{booleanValue:l};if("string"==typeof l)return{stringValue:l};if(l instanceof Date){var g=fi.fromDate(l);return{timestampValue:hc(d.R,g)}}if(l instanceof fi)return g=new fi(l.seconds,1e3*Math.floor(l.nanoseconds/1e3)),{timestampValue:hc(d.R,g)};if(l instanceof vd)return{geoPointValue:{latitude:l.latitude,longitude:l.longitude}};if(l instanceof xc)return{bytesValue:da(d.R,l._byteString)};if(l instanceof An){var y=l.firestore._databaseId;if(!y.isEqual(g=d.databaseId))throw d.Lc("Document reference is for database "+y.projectId+"/"+y.database+" but should be for database "+g.projectId+"/"+g.database);return{referenceValue:Hh(l.firestore._databaseId||d.databaseId,l._key.path)}}throw d.Lc("Unsupported field value: "+md(l))}(a,s)}function Ty(a,s){var l={};return Gi(a)?s.path&&s.path.length>0&&s.fieldMask.push(s.path):Lt(a,function(d,g){var y=fs(g,s.kc(d));null!=y&&(l[d]=y)}),{mapValue:{fields:l}}}function Qm(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof fi||a instanceof vd||a instanceof xc||a instanceof An||a instanceof Us)}function _d(a,s,l){if(!Qm(l)||"object"!=typeof(g=l)||null===g||Object.getPrototypeOf(g)!==Object.prototype&&null!==Object.getPrototypeOf(g)){var d=md(l);throw s.Lc("an object"===d?a+" a custom object":a+" "+d)}var g}function Pc(a,s,l){if((s=(0,We.m9)(s))instanceof Ro)return s._internalPath;if("string"==typeof s)return Xm(a,s);throw Ag("Field path arguments must be of type string or FieldPath.",a,!1,void 0,l)}var B_=new RegExp("[~\\*/\\[\\]]");function Xm(a,s,l){if(s.search(B_)>=0)throw Ag("Invalid field path ("+s+"). Paths must not contain '~', '*', '/', '[', or ']'",a,!1,void 0,l);try{return(new(Ro.bind.apply(Ro,(0,T.ev)([void 0],s.split(".")))))._internalPath}catch{throw Ag("Invalid field path ("+s+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",a,!1,void 0,l)}}function Ag(a,s,l,d,g){var y=d&&!d.isEmpty(),b=void 0!==g,C="Function "+s+"() called with invalid data";l&&(C+=" (via `toFirestore()`)");var I="";return(y||b)&&(I+=" (found",y&&(I+=" in field "+d),b&&(I+=" in document "+g),I+=")"),new be(oe.INVALID_ARGUMENT,(C+=". ")+a+I)}function Nc(a,s){return a.some(function(l){return l.isEqual(s)})}var bn=function(){function a(s,l,d,g,y){this._firestore=s,this._userDataWriter=l,this._key=d,this._document=g,this._converter=y}return Object.defineProperty(a.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ref",{get:function(){return new An(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),a.prototype.exists=function(){return null!==this._document},a.prototype.data=function(){if(this._document){if(this._converter){var s=new Vt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(s)}return this._userDataWriter.convertValue(this._document.data.value)}},a.prototype.get=function(s){if(this._document){var l=this._document.data.field(Iu("DocumentSnapshot.get",s));if(null!==l)return this._userDataWriter.convertValue(l)}},a}(),Vt=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,T.ZT)(s,a),s.prototype.data=function(){return a.prototype.data.call(this)},s}(bn);function Iu(a,s){return"string"==typeof s?Xm(a,s):s instanceof Ro?s._internalPath:s._delegate._internalPath}var ps=function(){function a(s,l){this.hasPendingWrites=s,this.fromCache=l}return a.prototype.isEqual=function(s){return this.hasPendingWrites===s.hasPendingWrites&&this.fromCache===s.fromCache},a}(),zs=function(a){function s(l,d,g,y,b,C){var I=this;return(I=a.call(this,l,d,g,y,C)||this)._firestore=l,I._firestoreImpl=l,I.metadata=b,I}return(0,T.ZT)(s,a),s.prototype.exists=function(){return a.prototype.exists.call(this)},s.prototype.data=function(l){if(void 0===l&&(l={}),this._document){if(this._converter){var d=new Wn(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(d,l)}return this._userDataWriter.convertValue(this._document.data.value,l.serverTimestamps)}},s.prototype.get=function(l,d){if(void 0===d&&(d={}),this._document){var g=this._document.data.field(Iu("DocumentSnapshot.get",l));if(null!==g)return this._userDataWriter.convertValue(g,d.serverTimestamps)}},s}(bn),Wn=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,T.ZT)(s,a),s.prototype.data=function(l){return void 0===l&&(l={}),a.prototype.data.call(this,l)},s}(zs),Zi=function(){function a(s,l,d,g){this._firestore=s,this._userDataWriter=l,this._snapshot=g,this.metadata=new ps(g.hasPendingWrites,g.fromCache),this.query=d}return Object.defineProperty(a.prototype,"docs",{get:function(){var s=[];return this.forEach(function(l){return s.push(l)}),s},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),a.prototype.forEach=function(s,l){var d=this;this._snapshot.docs.forEach(function(g){s.call(l,new Wn(d._firestore,d._userDataWriter,g.key,g,new ps(d._snapshot.mutatedKeys.has(g.key),d._snapshot.fromCache),d.query.converter))})},a.prototype.docChanges=function(s){void 0===s&&(s={});var l=!!s.includeMetadataChanges;if(l&&this._snapshot.excludesMetadataChanges)throw new be(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===l||(this._cachedChanges=function(d,g){if(d._snapshot.oldDocs.isEmpty()){var y=0;return d._snapshot.docChanges.map(function(C){return{type:"added",doc:new Wn(d._firestore,d._userDataWriter,C.doc.key,C.doc,new ps(d._snapshot.mutatedKeys.has(C.doc.key),d._snapshot.fromCache),d.query.converter),oldIndex:-1,newIndex:y++}})}var b=d._snapshot.oldDocs;return d._snapshot.docChanges.filter(function(C){return g||3!==C.type}).map(function(C){var I=new Wn(d._firestore,d._userDataWriter,C.doc.key,C.doc,new ps(d._snapshot.mutatedKeys.has(C.doc.key),d._snapshot.fromCache),d.query.converter),O=-1,N=-1;return 0!==C.type&&(O=b.indexOf(C.doc.key),b=b.delete(C.doc.key)),1!==C.type&&(N=(b=b.add(C.doc)).indexOf(C.doc.key)),{type:Bi(C.type),doc:I,oldIndex:O,newIndex:N}})}(this,l),this._cachedChangesIncludeMetadataChanges=l),this._cachedChanges},a}();function Bi(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}function bd(a,s){return a instanceof zs&&s instanceof zs?a._firestore===s._firestore&&a._key.isEqual(s._key)&&(null===a._document?null===s._document:a._document.isEqual(s._document))&&a._converter===s._converter:a instanceof Zi&&s instanceof Zi&&a._firestore===s._firestore&&Kf(a.query,s.query)&&a.metadata.isEqual(s.metadata)&&a._snapshot.isEqual(s._snapshot)}function Xf(a){if(Qd(a)&&0===a.explicitOrderBy.length)throw new be(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Au=function(){};function qr(a){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];for(var d=0,g=s;d<g.length;d++){var y=g[d];a=y._apply(a)}return a}var wd=function(a){function s(l,d,g){var y=this;return(y=a.call(this)||this).jc=l,y.Wc=d,y.Gc=g,y.type="where",y}return(0,T.ZT)(s,a),s.prototype._apply=function(l){var y,C,d=Su(l.firestore),g=function(y,b,C,I,O,N,j){var z;if(O.isKeyField()){if("array-contains"===N||"array-contains-any"===N)throw new be(oe.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+N+"' queries on FieldPath.documentId().");if("in"===N||"not-in"===N){Fc(j,N);for(var J=[],ee=0,ae=j;ee<ae.length;ee++)J.push(Cd(I,y,ae[ee]));z={arrayValue:{values:J}}}else z=Cd(I,y,j)}else"in"!==N&&"not-in"!==N&&"array-contains-any"!==N||Fc(j,N),z=Ym(C,"where",j,"in"===N||"not-in"===N);var Oe=ho.create(O,N,z);return function(ht,ft){if(ft.g()){var hn=Vh(ht);if(null!==hn&&!hn.isEqual(ft.field))throw new be(oe.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+hn.toString()+"' and '"+ft.field.toString()+"'");var Dn=sc(ht);null!==Dn&&rh(0,ft.field,Dn)}var Qt=function(eo,Ry){for(var Jm=0,j_=eo.filters;Jm<j_.length;Jm++){var ev=j_[Jm];if(Ry.indexOf(ev.op)>=0)return ev.op}return null}(ht,function(eo){switch(eo){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ft.op));if(null!==Qt)throw new be(oe.INVALID_ARGUMENT,Qt===ft.op?"Invalid query. You cannot use more than one '"+ft.op.toString()+"' filter.":"Invalid query. You cannot use '"+ft.op.toString()+"' filters with '"+Qt.toString()+"' filters.")}(y,Oe),Oe}(l._query,0,d,l.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Jt(l.firestore,l.converter,(C=(y=l._query).filters.concat([g]),new Eo(y.path,y.collectionGroup,y.explicitOrderBy.slice(),C,y.limit,y.limitType,y.startAt,y.endAt)))},s}(Au),Zf=function(a){function s(l,d){var g=this;return(g=a.call(this)||this).jc=l,g.zc=d,g.type="orderBy",g}return(0,T.ZT)(s,a),s.prototype._apply=function(l){var g,b,d=function(g,y,b){if(null!==g.startAt)throw new be(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==g.endAt)throw new be(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var C=new ss(y,b);return function(I,O){if(null===sc(I)){var N=Vh(I);null!==N&&rh(0,N,O.field)}}(g,C),C}(l._query,this.jc,this.zc);return new Jt(l.firestore,l.converter,(b=(g=l._query).explicitOrderBy.concat([d]),new Eo(g.path,g.collectionGroup,b,g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)))},s}(Au),nh=function(a){function s(l,d,g){var y=this;return(y=a.call(this)||this).type=l,y.Hc=d,y.Jc=g,y}return(0,T.ZT)(s,a),s.prototype._apply=function(l){return new Jt(l.firestore,l.converter,Op(l._query,this.Hc,this.Jc))},s}(Au),Mg=function(a){function s(l,d,g){var y=this;return(y=a.call(this)||this).type=l,y.Yc=d,y.Xc=g,y}return(0,T.ZT)(s,a),s.prototype._apply=function(l){var g,y,d=Iy(l,this.type,this.Yc,this.Xc);return new Jt(l.firestore,l.converter,(y=d,new Eo((g=l._query).path,g.collectionGroup,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,y,g.endAt)))},s}(Au),Ed=function(a){function s(l,d,g){var y=this;return(y=a.call(this)||this).type=l,y.Yc=d,y.Xc=g,y}return(0,T.ZT)(s,a),s.prototype._apply=function(l){var g,y,d=Iy(l,this.type,this.Yc,this.Xc);return new Jt(l.firestore,l.converter,(y=d,new Eo((g=l._query).path,g.collectionGroup,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,y)))},s}(Au);function Iy(a,s,l,d){if(l[0]=(0,We.m9)(l[0]),l[0]instanceof bn)return function(y,b,C,I,O){if(!I)throw new be(oe.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+C+"().");for(var N=[],j=0,z=aa(y);j<z.length;j++){var J=z[j];if(J.field.isKeyField())N.push(ll(b,I.key));else{var ee=I.data.field(J.field);if(sl(ee))throw new be(oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+J.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ee){var ae=J.field.canonicalString();throw new be(oe.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+ae+"' (used as the orderBy) does not exist.")}N.push(ee)}}return new Bh(N,O)}(a._query,a.firestore._databaseId,s,l[0]._document,d);var g=Su(a.firestore);return function(y,b,C,I,O,N){var j=y.explicitOrderBy;if(O.length>j.length)throw new be(oe.INVALID_ARGUMENT,"Too many arguments provided to "+I+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var z=[],J=0;J<O.length;J++){var ee=O[J];if(j[J].field.isKeyField()){if("string"!=typeof ee)throw new be(oe.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+I+"(), but got a "+typeof ee);if(!ac(y)&&-1!==ee.indexOf("/"))throw new be(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+I+"() must be a plain document ID, but '"+ee+"' contains a slash.");var ae=y.path.child(ut.fromString(ee));if(!ze.isDocumentKey(ae))throw new be(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+I+"() must result in a valid document path, but '"+ae+"' is not because it contains an odd number of segments.");var ke=new ze(ae);z.push(ll(b,ke))}else{var Oe=Ym(C,I,ee);z.push(Oe)}}return new Bh(z,N)}(a._query,a.firestore._databaseId,g,s,l,d)}function Cd(a,s,l){if("string"==typeof(l=(0,We.m9)(l))){if(""===l)throw new be(oe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ac(s)&&-1!==l.indexOf("/"))throw new be(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+l+"' contains a '/' character.");var d=s.path.child(ut.fromString(l));if(!ze.isDocumentKey(d))throw new be(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+d+"' is not because it has an odd number of segments ("+d.length+").");return ll(a,new ze(d))}if(l instanceof An)return ll(a,l._key);throw new be(oe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+md(l)+".")}function Fc(a,s){if(!Array.isArray(a)||0===a.length)throw new be(oe.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+s.toString()+"' filters.");if(a.length>10)throw new be(oe.INVALID_ARGUMENT,"Invalid Query. '"+s.toString()+"' filters support a maximum of 10 elements in the value array.")}function rh(a,s,l){if(!l.isEqual(s))throw new be(oe.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+s.toString()+"' and so you must also use '"+s.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+l.toString()+"' instead.")}var ih=function(){function a(){}return a.prototype.convertValue=function(s,l){switch(void 0===l&&(l="none"),gi(s)){case 0:return null;case 1:return s.booleanValue;case 2:return _r(s.integerValue||s.doubleValue);case 3:return this.convertTimestamp(s.timestampValue);case 4:return this.convertServerTimestamp(s,l);case 5:return s.stringValue;case 6:return this.convertBytes(Ph(s.bytesValue));case 7:return this.convertReference(s.referenceValue);case 8:return this.convertGeoPoint(s.geoPointValue);case 9:return this.convertArray(s.arrayValue,l);case 10:return this.convertObject(s.mapValue,l);default:throw Je()}},a.prototype.convertObject=function(s,l){var d=this,g={};return Lt(s.fields,function(y,b){g[y]=d.convertValue(b,l)}),g},a.prototype.convertGeoPoint=function(s){return new vd(_r(s.latitude),_r(s.longitude))},a.prototype.convertArray=function(s,l){var d=this;return(s.values||[]).map(function(g){return d.convertValue(g,l)})},a.prototype.convertServerTimestamp=function(s,l){switch(l){case"previous":var d=pi(s);return null==d?null:this.convertValue(d,l);case"estimate":return this.convertTimestamp(Wi(s));default:return null}},a.prototype.convertTimestamp=function(s){var l=rs(s);return new fi(l.seconds,l.nanos)},a.prototype.convertDocumentKey=function(s,l){var d=ut.fromString(s);Ce(Lp(d));var g=new Du(d.get(1),d.get(3)),y=new ze(d.popFirst(5));return g.isEqual(l)||yr("Document "+y+" contains a document reference within a different database ("+g.projectId+"/"+g.database+") which is not supported. It will be treated as a reference in the current database ("+l.projectId+"/"+l.database+") instead."),y},a}();function Lc(a,s,l){return a?l&&(l.merge||l.mergeFields)?a.toFirestore(s,l):a.toFirestore(s):s}var Ay=function(a){function s(l){var d=this;return(d=a.call(this)||this).firestore=l,d}return(0,T.ZT)(s,a),s.prototype.convertBytes=function(l){return new xc(l)},s.prototype.convertReference=function(l){var d=this.convertDocumentKey(l,this.firestore._databaseId);return new An(this.firestore,null,d)},s}(ih),My=function(){function a(s,l){this._firestore=s,this._commitHandler=l,this._mutations=[],this._committed=!1,this._dataReader=Su(s)}return a.prototype.set=function(s,l,d){this._verifyNotCommitted();var g=Da(s,this._firestore),y=Lc(g.converter,l,d),b=eh(this._dataReader,"WriteBatch.set",g._key,y,null!==g.converter,d);return this._mutations.push(b.toMutation(g._key,nr.none())),this},a.prototype.update=function(s,l,d){for(var g=[],y=3;y<arguments.length;y++)g[y-3]=arguments[y];this._verifyNotCommitted();var b,C=Da(s,this._firestore);return b="string"==typeof(l=(0,We.m9)(l))||l instanceof Ro?Ig(this._dataReader,"WriteBatch.update",C._key,l,d,g):Oc(this._dataReader,"WriteBatch.update",C._key,l),this._mutations.push(b.toMutation(C._key,nr.exists(!0))),this},a.prototype.delete=function(s){this._verifyNotCommitted();var l=Da(s,this._firestore);return this._mutations=this._mutations.concat(new iu(l._key,nr.none())),this},a.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},a.prototype._verifyNotCommitted=function(){if(this._committed)throw new be(oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},a}();function Da(a,s){if((a=(0,We.m9)(a)).firestore!==s)throw new be(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}var Bc=function(a){function s(l){var d=this;return(d=a.call(this)||this).firestore=l,d}return(0,T.ZT)(s,a),s.prototype.convertBytes=function(l){return new xc(l)},s.prototype.convertReference=function(l){var d=this.convertDocumentKey(l,this.firestore._databaseId);return new An(this.firestore,null,d)},s}(ih);function Jf(a,s,l){a=vn(a,An);var d=vn(a.firestore,Dr),g=Lc(a.converter,s,l);return sh(d,[eh(Su(d),"setDoc",a._key,g,null!==a.converter,l).toMutation(a._key,nr.none())])}function oh(a,s,l){for(var d=[],g=3;g<arguments.length;g++)d[g-3]=arguments[g];a=vn(a,An);var y=vn(a.firestore,Dr),b=Su(y);return sh(y,[("string"==typeof(s=(0,We.m9)(s))||s instanceof Ro?Ig(b,"updateDoc",a._key,s,l,d):Oc(b,"updateDoc",a._key,s)).toMutation(a._key,nr.exists(!0))])}function kg(a){for(var s,l,d,g=[],y=1;y<arguments.length;y++)g[y-1]=arguments[y];a=(0,We.m9)(a);var b={includeMetadataChanges:!1},C=0;"object"!=typeof g[C]||Jl(g[C])||(b=g[C],C++);var I,O,N,j={includeMetadataChanges:b.includeMetadataChanges};if(Jl(g[C])){var z=g[C];g[C]=null===(s=z.next)||void 0===s?void 0:s.bind(z),g[C+1]=null===(l=z.error)||void 0===l?void 0:l.bind(z),g[C+2]=null===(d=z.complete)||void 0===d?void 0:d.bind(z)}if(a instanceof An)O=vn(a.firestore,Dr),N=fl(a._key.path),I={next:function(ae){g[C]&&g[C](Rg(O,a,ae))},error:g[C+1],complete:g[C+2]};else{var J=vn(a,Jt);O=vn(J.firestore,Dr),N=J._query;var ee=new Bc(O);I={next:function(ae){g[C]&&g[C](new Zi(O,ee,J,ae))},error:g[C+1],complete:g[C+2]},Xf(a._query)}return function(ae,ke,Oe,ht){var ft=this,hn=new Ea(ht),Dn=new Cc(ke,hn,Oe);return ae.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(ft,void 0,void 0,function(){var Qt;return(0,T.Jh)(this,function(eo){switch(eo.label){case 0:return Qt=Vs,[4,qo(ae)];case 1:return[2,Qt.apply(void 0,[eo.sent(),Dn])]}})})}),function(){hn.Wo(),ae.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(ft,void 0,void 0,function(){var Qt;return(0,T.Jh)(this,function(eo){switch(eo.label){case 0:return Qt=Ec,[4,qo(ae)];case 1:return[2,Qt.apply(void 0,[eo.sent(),Dn])]}})})})}}(ln(O),N,j,I)}function sh(a,s){return function(l,d){var g=this,y=new Gn;return l.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(g,void 0,void 0,function(){var b;return(0,T.Jh)(this,function(C){switch(C.label){case 0:return b=ag,[4,Ic(l)];case 1:return[2,b.apply(void 0,[C.sent(),d,y])]}})})}),y.promise}(ln(a),s)}function Rg(a,s,l){var d=l.docs.get(s._key),g=new Bc(a);return new zs(a,g,s._key,d,new ps(l.hasPendingWrites,l.fromCache),s.converter)}var Ge=function(a){function s(l,d){var g=this;return(g=a.call(this,l,d)||this)._firestore=l,g}return(0,T.ZT)(s,a),s.prototype.get=function(l){var d=this,g=Da(l,this._firestore),y=new Bc(this._firestore);return a.prototype.get.call(this,l).then(function(b){return new zs(d._firestore,y,g._key,b._document,new ps(!1,!1),g.converter)})},s}(function(){function a(s,l){this._firestore=s,this._transaction=l,this._dataReader=Su(s)}return a.prototype.get=function(s){var l=this,d=Da(s,this._firestore),g=new Ay(this._firestore);return this._transaction.lookup([d._key]).then(function(y){if(!y||1!==y.length)return Je();var b=y[0];if(b.isFoundDocument())return new bn(l._firestore,g,b.key,b,d.converter);if(b.isNoDocument())return new bn(l._firestore,g,d._key,null,d.converter);throw Je()})},a.prototype.set=function(s,l,d){var g=Da(s,this._firestore),y=Lc(g.converter,l,d),b=eh(this._dataReader,"Transaction.set",g._key,y,null!==g.converter,d);return this._transaction.set(g._key,b),this},a.prototype.update=function(s,l,d){for(var g=[],y=3;y<arguments.length;y++)g[y-3]=arguments[y];var b,C=Da(s,this._firestore);return b="string"==typeof(l=(0,We.m9)(l))||l instanceof Ro?Ig(this._dataReader,"Transaction.update",C._key,l,d,g):Oc(this._dataReader,"Transaction.update",C._key,l),this._transaction.update(C._key,b),this},a.prototype.delete=function(s){var l=Da(s,this._firestore);return this._transaction.delete(l._key),this},a}());function Dd(){if(typeof Uint8Array>"u")throw new be(oe.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Sr(){if(typeof atob>"u")throw new be(oe.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Sa=function(){function a(s){this._delegate=s}return a.fromBase64String=function(s){return Sr(),new a(xc.fromBase64String(s))},a.fromUint8Array=function(s){return Dd(),new a(xc.fromUint8Array(s))},a.prototype.toBase64=function(){return Sr(),this._delegate.toBase64()},a.prototype.toUint8Array=function(){return Dd(),this._delegate.toUint8Array()},a.prototype.isEqual=function(s){return this._delegate.isEqual(s._delegate)},a.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},a}(),Ta=function(){function a(){}return a.prototype.enableIndexedDbPersistence=function(s,l){return function(d,g){Sg(d=vn(d,Dr));var y=ln(d),b=d._freezeSettings(),C=new Kl;return Dg(y,C,new fg(C,b.cacheSizeBytes,g?.forceOwnership))}(s._delegate,{forceOwnership:l})},a.prototype.enableMultiTabIndexedDbPersistence=function(s){return function(l){Sg(l=vn(l,Dr));var d=ln(l),g=l._freezeSettings(),y=new Kl;return Dg(d,y,new Cy(y,g.cacheSizeBytes))}(s._delegate)},a.prototype.clearIndexedDbPersistence=function(s){return function(l){var d=this;if(l._initialized&&!l._terminated)throw new be(oe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var g=new Gn;return l._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,T.mG)(d,void 0,void 0,function(){var y;return(0,T.Jh)(this,function(b){switch(b.label){case 0:return b.trys.push([0,2,,3]),[4,function(C){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(O){switch(O.label){case 0:return Wh.yt()?[4,Wh.delete(C+"main")]:[2,Promise.resolve()];case 1:return O.sent(),[2]}})})}(Kp(l._databaseId,l._persistenceKey))];case 1:return b.sent(),g.resolve(),[3,3];case 2:return y=b.sent(),g.reject(y),[3,3];case 3:return[2]}})})}),g.promise}(s._delegate)},a}(),ky=function(){function a(s,l,d){var g=this;this._delegate=l,this.Zc=d,this.INTERNAL={delete:function(){return g.terminate()}},s instanceof Du||(this.tu=s)}return Object.defineProperty(a.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),a.prototype.settings=function(s){var l=this._delegate._getSettings();s.merge||l.host===s.host||Bo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),s.merge&&delete(s=Object.assign(Object.assign({},l),s)).merge,this._delegate._setSettings(s)},a.prototype.useEmulator=function(s,l,d){void 0===d&&(d={}),function(g,y,b,C){var I;void 0===C&&(C={});var O=(g=vn(g,kc))._getSettings();if("firestore.googleapis.com"!==O.host&&O.host!==y&&Bo("Host has been set in both settings() and useEmulator(), emulator host will be used"),g._setSettings(Object.assign(Object.assign({},O),{host:y+":"+b,ssl:!1})),C.mockUserToken){var N,j;if("string"==typeof C.mockUserToken)N=C.mockUserToken,j=Cr.MOCK_USER;else{N=(0,We.Sg)(C.mockUserToken,null===(I=g._app)||void 0===I?void 0:I.options.projectId);var z=C.mockUserToken.sub||C.mockUserToken.user_id;if(!z)throw new be(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");j=new Cr(z)}g._credentials=new fd(new Yl(N,j))}}(this._delegate,s,l,d)},a.prototype.enableNetwork=function(){return function(s){var l=this;return s.asyncQueue.enqueue(function(){return(0,T.mG)(l,void 0,void 0,function(){var d,g;return(0,T.Jh)(this,function(y){switch(y.label){case 0:return[4,yg(s)];case 1:return d=y.sent(),[4,_g(s)];case 2:return g=y.sent(),[2,(d.setNetworkEnabled(!0),b=g,C=Le(b),C.Or.delete(0),oi(C))]}var b,C})})})}(ln(vn(this._delegate,Dr)))},a.prototype.disableNetwork=function(){return function(s){var l=this;return s.asyncQueue.enqueue(function(){return(0,T.mG)(l,void 0,void 0,function(){var d,g;return(0,T.Jh)(this,function(y){switch(y.label){case 0:return[4,yg(s)];case 1:return d=y.sent(),[4,_g(s)];case 2:return g=y.sent(),[2,(d.setNetworkEnabled(!1),function(b){return(0,T.mG)(this,void 0,void 0,function(){var C;return(0,T.Jh)(this,function(I){switch(I.label){case 0:return(C=Le(b)).Or.add(0),[4,yu(C)];case 1:return I.sent(),C.Br.set("Offline"),[2]}})})}(g))]}})})})}(ln(vn(this._delegate,Dr)))},a.prototype.enablePersistence=function(s){var l=!1,d=!1;return s&&Ca("synchronizeTabs",l=!!s.synchronizeTabs,"experimentalForceOwningTab",d=!!s.experimentalForceOwningTab),l?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,d)},a.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},a.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},a.prototype.waitForPendingWrites=function(){return function(s){var l=this,d=new Gn;return s.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(l,void 0,void 0,function(){var g;return(0,T.Jh)(this,function(y){switch(y.label){case 0:return g=cg,[4,Ic(s)];case 1:return[2,g.apply(void 0,[y.sent(),d])]}})})}),d.promise}(ln(vn(this._delegate,Dr)))},a.prototype.onSnapshotsInSync=function(s){return d=s,function(g,y){var b=this,C=new Ea(y);return g.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(b,void 0,void 0,function(){var I;return(0,T.Jh)(this,function(O){switch(O.label){case 0:return I=function(N,j){Le(N).Gr.add(j),j.next()},[4,qo(g)];case 1:return[2,I.apply(void 0,[O.sent(),C])]}})})}),function(){C.Wo(),g.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(b,void 0,void 0,function(){var I;return(0,T.Jh)(this,function(O){switch(O.label){case 0:return I=function(N,j){Le(N).Gr.delete(j)},[4,qo(g)];case 1:return[2,I.apply(void 0,[O.sent(),C])]}})})})}}(ln(vn(this._delegate,Dr)),Jl(d)?d:{next:d});var d},Object.defineProperty(a.prototype,"app",{get:function(){if(!this.tu)throw new be(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),a.prototype.collection=function(s){try{return new u(this,ko(this._delegate,s))}catch(l){throw Ji(l,"collection()","Firestore.collection()")}},a.prototype.doc=function(s){try{return new Ru(this,Zl(this._delegate,s))}catch(l){throw Ji(l,"doc()","Firestore.doc()")}},a.prototype.collectionGroup=function(s){try{return new Zn(this,function(l,d){if(l=vn(l,kc),gd("collectionGroup","collection id",d),d.indexOf("/")>=0)throw new be(oe.INVALID_ARGUMENT,"Invalid collection ID '"+d+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Jt(l,null,(g=d,new Eo(ut.emptyPath(),g)));var g}(this._delegate,s))}catch(l){throw Ji(l,"collectionGroup()","Firestore.collectionGroup()")}},a.prototype.runTransaction=function(s){var d,l=this;return function(y,b){var C=this,I=new Gn;return y.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(C,void 0,void 0,function(){var O;return(0,T.Jh)(this,function(N){switch(N.label){case 0:return[4,(j=y,$f(j).then(function(z){return z.datastore}))];case 1:return O=N.sent(),new ld(y.asyncQueue,O,b,I).run(),[2]}var j})})}),I.promise}(ln(d=this._delegate),function(y){return function(d){return s(new Mu(l,d))}(new Ge(d,y))})},a.prototype.batch=function(){var s=this;return ln(this._delegate),new Zm(new My(this._delegate,function(l){return sh(s._delegate,l)}))},a.prototype.loadBundle=function(s){throw new be(oe.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},a.prototype.namedQuery=function(s){throw new be(oe.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},a}(),xg=function(a){function s(l){var d=this;return(d=a.call(this)||this).firestore=l,d}return(0,T.ZT)(s,a),s.prototype.convertBytes=function(l){return new Sa(new xc(l))},s.prototype.convertReference=function(l){var d=this.convertDocumentKey(l,this.firestore._databaseId);return Ru.eu(d,this.firestore,null)},s}(ih),Mu=function(){function a(s,l){this._firestore=s,this._delegate=l,this._userDataWriter=new xg(s)}return a.prototype.get=function(s){var l=this,d=f(s);return this._delegate.get(d).then(function(g){return new Pn(l._firestore,new zs(l._firestore._delegate,l._userDataWriter,g._key,g._document,g.metadata,d.converter))})},a.prototype.set=function(s,l,d){var g=f(s);return d?(wg("Transaction.set",d),this._delegate.set(g,l,d)):this._delegate.set(g,l),this},a.prototype.update=function(s,l,d){for(var g,y=[],b=3;b<arguments.length;b++)y[b-3]=arguments[b];var C=f(s);return 2===arguments.length?this._delegate.update(C,l):(g=this._delegate).update.apply(g,(0,T.ev)([C,l,d],y)),this},a.prototype.delete=function(s){var l=f(s);return this._delegate.delete(l),this},a}(),Zm=function(){function a(s){this._delegate=s}return a.prototype.set=function(s,l,d){var g=f(s);return d?(wg("WriteBatch.set",d),this._delegate.set(g,l,d)):this._delegate.set(g,l),this},a.prototype.update=function(s,l,d){for(var g,y=[],b=3;b<arguments.length;b++)y[b-3]=arguments[b];var C=f(s);return 2===arguments.length?this._delegate.update(C,l):(g=this._delegate).update.apply(g,(0,T.ev)([C,l,d],y)),this},a.prototype.delete=function(s){var l=f(s);return this._delegate.delete(l),this},a.prototype.commit=function(){return this._delegate.commit()},a}(),ku=function(){function a(s,l,d){this._firestore=s,this._userDataWriter=l,this._delegate=d}return a.prototype.fromFirestore=function(s,l){var d=new Wn(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,null);return this._delegate.fromFirestore(new ah(this._firestore,d),l??{})},a.prototype.toFirestore=function(s,l){return l?this._delegate.toFirestore(s,l):this._delegate.toFirestore(s)},a.nu=function(s,l){var d=a.su,g=d.get(s);g||d.set(s,g=new WeakMap);var y=g.get(l);return y||(y=new a(s,new xg(s),l),g.set(l,y)),y},a}();ku.su=new WeakMap;var Ru=function(){function a(s,l){this.firestore=s,this._delegate=l,this._userDataWriter=new xg(s)}return a.iu=function(s,l,d){if(s.length%2!=0)throw new be(oe.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+s.canonicalString()+" has "+s.length);return new a(l,new An(l._delegate,d,new ze(s)))},a.eu=function(s,l,d){return new a(l,new An(l._delegate,d,s))},Object.defineProperty(a.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){return new u(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),a.prototype.collection=function(s){try{return new u(this.firestore,ko(this._delegate,s))}catch(l){throw Ji(l,"collection()","DocumentReference.collection()")}},a.prototype.isEqual=function(s){return(s=(0,We.m9)(s))instanceof An&&$m(this._delegate,s)},a.prototype.set=function(s,l){l=wg("DocumentReference.set",l);try{return l?Jf(this._delegate,s,l):Jf(this._delegate,s)}catch(d){throw Ji(d,"setDoc()","DocumentReference.set()")}},a.prototype.update=function(s,l){for(var d=[],g=2;g<arguments.length;g++)d[g-2]=arguments[g];try{return 1===arguments.length?oh(this._delegate,s):oh.apply(void 0,(0,T.ev)([this._delegate,s,l],d))}catch(y){throw Ji(y,"updateDoc()","DocumentReference.update()")}},a.prototype.delete=function(){return sh(vn((s=this._delegate).firestore,Dr),[new iu(s._key,nr.none())]);var s},a.prototype.onSnapshot=function(){for(var s=this,l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var g=ep(l),y=On(l,function(b){return new Pn(s.firestore,new zs(s.firestore._delegate,s._userDataWriter,b._key,b._document,b.metadata,s._delegate.converter))});return kg(this._delegate,g,y)},a.prototype.get=function(s){var l=this;return("cache"===s?.source?function(d){d=vn(d,An);var g=vn(d.firestore,Dr),y=ln(g),b=new Bc(g);return function(C,I){var O=this,N=new Gn;return C.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(O,void 0,void 0,function(){var j;return(0,T.Jh)(this,function(z){switch(z.label){case 0:return j=function(J,ee,ae){return(0,T.mG)(this,void 0,void 0,function(){var ke,Oe;return(0,T.Jh)(this,function(ht){switch(ht.label){case 0:return ht.trys.push([0,2,,3]),[4,(ft=J,hn=ee,Dn=Le(ft),Dn.persistence.runTransaction("read document","readonly",function(Qt){return Dn.Mn.mn(Qt,hn)}))];case 1:return(Oe=ht.sent()).isFoundDocument()?ae.resolve(Oe):Oe.isNoDocument()?ae.resolve(null):ae.reject(new be(oe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return ke=ht.sent(),Oe=wu(ke,"Failed to get document '"+ee+" from cache"),ae.reject(Oe),[3,3];case 3:return[2]}var ft,hn,Dn})})},[4,dd(C)];case 1:return[2,j.apply(void 0,[z.sent(),I,N])]}})})}),N.promise}(y,d._key).then(function(C){return new zs(g,b,d._key,C,new ps(null!==C&&C.hasLocalMutations,!0),d.converter)})}(this._delegate):"server"===s?.source?function(d){d=vn(d,An);var g=vn(d.firestore,Dr);return qm(ln(g),d._key,{source:"server"}).then(function(y){return Rg(g,d,y)})}(this._delegate):function(d){d=vn(d,An);var g=vn(d.firestore,Dr);return qm(ln(g),d._key).then(function(y){return Rg(g,d,y)})}(this._delegate)).then(function(d){return new Pn(l.firestore,new zs(l.firestore._delegate,l._userDataWriter,d._key,d._document,d.metadata,l._delegate.converter))})},a.prototype.withConverter=function(s){return new a(this.firestore,this._delegate.withConverter(s?ku.nu(this.firestore,s):null))},a}();function Ji(a,s,l){return a.message=a.message.replace(s,l),a}function ep(a){for(var s=0,l=a;s<l.length;s++){var d=l[s];if("object"==typeof d&&!Jl(d))return d}return{}}function On(a,s){var l,d,g;return{next:function(y){g.next&&g.next(s(y))},error:null===(l=(g=Jl(a[0])?a[0]:Jl(a[1])?a[1]:"function"==typeof a[0]?{next:a[0],error:a[1],complete:a[2]}:{next:a[1],error:a[2],complete:a[3]}).error)||void 0===l?void 0:l.bind(g),complete:null===(d=g.complete)||void 0===d?void 0:d.bind(g)}}var Pn=function(){function a(s,l){this._firestore=s,this._delegate=l}return Object.defineProperty(a.prototype,"ref",{get:function(){return new Ru(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),a.prototype.data=function(s){return this._delegate.data(s)},a.prototype.get=function(s,l){return this._delegate.get(s,l)},a.prototype.isEqual=function(s){return bd(this._delegate,s._delegate)},a}(),ah=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,T.ZT)(s,a),s.prototype.data=function(l){return this._delegate.data(l)},s}(Pn),Zn=function(){function a(s,l){this.firestore=s,this._delegate=l,this._userDataWriter=new xg(s)}return a.prototype.where=function(s,l,d){try{return new a(this.firestore,qr(this._delegate,(b=d,C=l,I=Iu("where",g=s),new wd(I,C,b))))}catch(g){throw Ji(g,/(orderBy|where)\(\)/,"Query.$1()")}var g,b,C,I},a.prototype.orderBy=function(s,l){try{return new a(this.firestore,qr(this._delegate,function(d,g){void 0===g&&(g="asc");var y=g,b=Iu("orderBy",d);return new Zf(b,y)}(s,l)))}catch(d){throw Ji(d,/(orderBy|where)\(\)/,"Query.$1()")}},a.prototype.limit=function(s){try{return new a(this.firestore,qr(this._delegate,(Wf("limit",l=s),new nh("limit",l,"F"))))}catch(l){throw Ji(l,"limit()","Query.limit()")}var l},a.prototype.limitToLast=function(s){try{return new a(this.firestore,qr(this._delegate,(Wf("limitToLast",l=s),new nh("limitToLast",l,"L"))))}catch(l){throw Ji(l,"limitToLast()","Query.limitToLast()")}var l},a.prototype.startAt=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return new a(this.firestore,qr(this._delegate,function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return new Mg("startAt",d,!0)}.apply(void 0,s)))}catch(d){throw Ji(d,"startAt()","Query.startAt()")}},a.prototype.startAfter=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return new a(this.firestore,qr(this._delegate,function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return new Mg("startAfter",d,!1)}.apply(void 0,s)))}catch(d){throw Ji(d,"startAfter()","Query.startAfter()")}},a.prototype.endBefore=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return new a(this.firestore,qr(this._delegate,function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return new Ed("endBefore",d,!0)}.apply(void 0,s)))}catch(d){throw Ji(d,"endBefore()","Query.endBefore()")}},a.prototype.endAt=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return new a(this.firestore,qr(this._delegate,function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return new Ed("endAt",d,!1)}.apply(void 0,s)))}catch(d){throw Ji(d,"endAt()","Query.endAt()")}},a.prototype.isEqual=function(s){return Kf(this._delegate,s._delegate)},a.prototype.get=function(s){var l=this;return("cache"===s?.source?function(d){d=vn(d,Jt);var g=vn(d.firestore,Dr),y=ln(g),b=new Bc(g);return function(C,I){var O=this,N=new Gn;return C.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(O,void 0,void 0,function(){var j;return(0,T.Jh)(this,function(z){switch(z.label){case 0:return j=function(J,ee,ae){return(0,T.mG)(this,void 0,void 0,function(){var ke,Oe,ht,ft,hn;return(0,T.Jh)(this,function(Dn){switch(Dn.label){case 0:return Dn.trys.push([0,2,,3]),[4,Nl(J,ee,!0)];case 1:return hn=Dn.sent(),ke=new Dc(ee,hn.Bn),Oe=ke._o(hn.documents),ht=ke.applyChanges(Oe,!1),ae.resolve(ht.snapshot),[3,3];case 2:return ft=Dn.sent(),hn=wu(ft,"Failed to execute query '"+ee+" against cache"),ae.reject(hn),[3,3];case 3:return[2]}})})},[4,dd(C)];case 1:return[2,j.apply(void 0,[z.sent(),I,N])]}})})}),N.promise}(y,d._query).then(function(C){return new Zi(g,b,d,C)})}(this._delegate):"server"===s?.source?function(d){d=vn(d,Jt);var g=vn(d.firestore,Dr),y=ln(g),b=new Bc(g);return Li(y,d._query,{source:"server"}).then(function(C){return new Zi(g,b,d,C)})}(this._delegate):function(d){d=vn(d,Jt);var g=vn(d.firestore,Dr),y=ln(g),b=new Bc(g);return Xf(d._query),Li(y,d._query).then(function(C){return new Zi(g,b,d,C)})}(this._delegate)).then(function(d){return new np(l.firestore,new Zi(l.firestore._delegate,l._userDataWriter,l._delegate,d._snapshot))})},a.prototype.onSnapshot=function(){for(var s=this,l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var g=ep(l),y=On(l,function(b){return new np(s.firestore,new Zi(s.firestore._delegate,s._userDataWriter,s._delegate,b._snapshot))});return kg(this._delegate,g,y)},a.prototype.withConverter=function(s){return new a(this.firestore,this._delegate.withConverter(s?ku.nu(this.firestore,s):null))},a}(),tp=function(){function a(s,l){this._firestore=s,this._delegate=l}return Object.defineProperty(a.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"doc",{get:function(){return new ah(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),a}(),np=function(){function a(s,l){this._firestore=s,this._delegate=l}return Object.defineProperty(a.prototype,"query",{get:function(){return new Zn(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"docs",{get:function(){var s=this;return this._delegate.docs.map(function(l){return new ah(s._firestore,l)})},enumerable:!1,configurable:!0}),a.prototype.docChanges=function(s){var l=this;return this._delegate.docChanges(s).map(function(d){return new tp(l._firestore,d)})},a.prototype.forEach=function(s,l){var d=this;this._delegate.forEach(function(g){s.call(l,new ah(d._firestore,g))})},a.prototype.isEqual=function(s){return bd(this._delegate,s._delegate)},a}(),u=function(a){function s(l,d){var g=this;return(g=a.call(this,l,d)||this).firestore=l,g._delegate=d,g}return(0,T.ZT)(s,a),Object.defineProperty(s.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"parent",{get:function(){var l=this._delegate.parent;return l?new Ru(this.firestore,l):null},enumerable:!1,configurable:!0}),s.prototype.doc=function(l){try{return new Ru(this.firestore,void 0===l?Zl(this._delegate):Zl(this._delegate,l))}catch(d){throw Ji(d,"doc()","CollectionReference.doc()")}},s.prototype.add=function(l){var g,y,b,C,I,d=this;return(g=this._delegate,y=l,b=vn(g.firestore,Dr),C=Zl(g),I=Lc(g.converter,y),sh(b,[eh(Su(g.firestore),"addDoc",C._key,I,null!==g.converter,{}).toMutation(C._key,nr.exists(!1))]).then(function(){return C})).then(function(g){return new Ru(d.firestore,g)})},s.prototype.isEqual=function(l){return $m(this._delegate,l._delegate)},s.prototype.withConverter=function(l){return new s(this.firestore,this._delegate.withConverter(l?ku.nu(this.firestore,l):null))},s}(Zn);function f(a){return vn(a,An)}var v=function(){function a(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];this._delegate=new(Ro.bind.apply(Ro,(0,T.ev)([void 0],s)))}return a.documentId=function(){return new a(Ri.keyField().canonicalString())},a.prototype.isEqual=function(s){return(s=(0,We.m9)(s))instanceof Ro&&this._delegate._internalPath.isEqual(s._internalPath)},a}(),w=function(){function a(s){this._delegate=s}return a.serverTimestamp=function(){var s=new Tu("serverTimestamp");return s._methodName="FieldValue.serverTimestamp",new a(s)},a.delete=function(){var s=new th("deleteField");return s._methodName="FieldValue.delete",new a(s)},a.arrayUnion=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var d=function(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];return new ds("arrayUnion",g)}.apply(void 0,s);return d._methodName="FieldValue.arrayUnion",new a(d)},a.arrayRemove=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var d=function(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];return new Sy("arrayRemove",g)}.apply(void 0,s);return d._methodName="FieldValue.arrayRemove",new a(d)},a.increment=function(s){var l=new ie("increment",s);return l._methodName="FieldValue.increment",new a(l)},a.prototype.isEqual=function(s){return this._delegate.isEqual(s._delegate)},a}(),P=Wt(461),U={Firestore:ky,GeoPoint:vd,Timestamp:fi,Blob:Sa,Transaction:Mu,WriteBatch:Zm,DocumentReference:Ru,DocumentSnapshot:Pn,Query:Zn,QueryDocumentSnapshot:ah,QuerySnapshot:np,CollectionReference:u,FieldPath:v,FieldValue:w,setLogLevel:function V_(a){tr.setLogLevel(a)},CACHE_SIZE_UNLIMITED:-1};!function ue(a){a.INTERNAL.registerComponent(new P.wA("firestore",function(d){return s=d.getProvider("app").getImmediate(),l=d.getProvider("auth-internal"),new ky(s,new Dr(s,l),new Ta);var s,l},"PUBLIC").setServiceProps(Object.assign({},U))),a.registerVersion("@firebase/firestore","2.4.1")}(pe.Z)},589:(Ba,ci,Wt)=>{Wt.r(ci);var pe=Wt(367),T=Wt(655),We=Wt(492),ot=Wt(461),zt="firebasestorage.googleapis.com",io="storageBucket",se=function(k){function M(L,H){var K=k.call(this,$(L),"Firebase Storage: "+H+" ("+$(L)+")")||this;return K.customData={serverResponse:null},K._baseMessage=K.message,Object.setPrototypeOf(K,M.prototype),K}return(0,T.ZT)(M,k),M.prototype._codeEquals=function(L){return $(L)===this.code},Object.defineProperty(M.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(L){this.customData.serverResponse=L,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),M}(We.ZR);function $(k){return"storage/"+k}function we(){return new se("unknown","An unknown error occurred, please check the error payload for server response.")}function bt(){return new se("canceled","User canceled the upload/download.")}function Et(){return new se("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function nn(k){return new se("invalid-argument",k)}function oo(){return new se("app-deleted","The Firebase app was deleted.")}function pt(k){return new se("invalid-root-operation","The operation '"+k+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function de(k,M){return new se("invalid-format","String does not match format '"+k+"': "+M)}function V(k){throw new se("internal-error","Internal error: "+k)}var _e={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Pe=function k(M,L){this.data=M,this.contentType=L||null};function le(k,M){switch(k){case _e.RAW:return new Pe(ct(M));case _e.BASE64:case _e.BASE64URL:return new Pe(cr(k,M));case _e.DATA_URL:return new Pe(function Se(k){var M=new nt(k);return M.base64?cr(_e.BASE64,M.rest):function St(k){var M;try{M=decodeURIComponent(k)}catch{throw de(_e.DATA_URL,"Malformed data URL.")}return ct(M)}(M.rest)}(M),function Ke(k){return new nt(k).contentType}(M))}throw we()}function ct(k){for(var M=[],L=0;L<k.length;L++){var H=k.charCodeAt(L);if(H<=127)M.push(H);else if(H<=2047)M.push(192|H>>6,128|63&H);else if(55296==(64512&H))if(L<k.length-1&&56320==(64512&k.charCodeAt(L+1))){var te=H,ye=k.charCodeAt(++L);M.push(240|(H=65536|(1023&te)<<10|1023&ye)>>18,128|H>>12&63,128|H>>6&63,128|63&H)}else M.push(239,191,189);else 56320==(64512&H)?M.push(239,191,189):M.push(224|H>>12,128|H>>6&63,128|63&H)}return new Uint8Array(M)}function cr(k,M){switch(k){case _e.BASE64:var L=-1!==M.indexOf("-"),H=-1!==M.indexOf("_");if(L||H)throw de(k,"Invalid character '"+(L?"-":"_")+"' found: is it base64url encoded?");break;case _e.BASE64URL:var te=-1!==M.indexOf("+"),ye=-1!==M.indexOf("/");if(te||ye)throw de(k,"Invalid character '"+(te?"+":"/")+"' found: is it base64 encoded?");M=M.replace(/-/g,"+").replace(/_/g,"/")}var Ue;try{Ue=function ge(k){return atob(k)}(M)}catch{throw de(k,"Invalid character found")}for(var ve=new Uint8Array(Ue.length),Ye=0;Ye<Ue.length;Ye++)ve[Ye]=Ue.charCodeAt(Ye);return ve}var nt=function k(M){this.base64=!1,this.contentType=null;var L=M.match(/^data:([^,]+)?,/);if(null===L)throw de(_e.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var H=L[1]||null;null!=H&&(this.base64=function st(k,M){return k.length>=M.length&&k.substring(k.length-M.length)===M}(H,";base64"),this.contentType=this.base64?H.substring(0,H.length-7):H),this.rest=M.substring(M.indexOf(",")+1)},gt={STATE_CHANGED:"state_changed"},rt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Si(k){switch(k){case"running":case"pausing":case"canceling":return rt.RUNNING;case"paused":return rt.PAUSED;case"success":return rt.SUCCESS;case"canceled":return rt.CANCELED;default:return rt.ERROR}}var mt=(()=>{return(k=mt||(mt={}))[k.NO_ERROR=0]="NO_ERROR",k[k.NETWORK_ERROR=1]="NETWORK_ERROR",k[k.ABORT=2]="ABORT",mt;var k})(),Qr=function(){function k(){var M=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=mt.NO_ERROR,this.sendPromise_=new Promise(function(L){M.xhr_.addEventListener("abort",function(){M.errorCode_=mt.ABORT,L()}),M.xhr_.addEventListener("error",function(){M.errorCode_=mt.NETWORK_ERROR,L()}),M.xhr_.addEventListener("load",function(){L()})})}return k.prototype.send=function(M,L,H,K){if(this.sent_)throw V("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(L,M,!0),void 0!==K)for(var te in K)K.hasOwnProperty(te)&&this.xhr_.setRequestHeader(te,K[te].toString());return void 0!==H?this.xhr_.send(H):this.xhr_.send(),this.sendPromise_},k.prototype.getErrorCode=function(){if(!this.sent_)throw V("cannot .getErrorCode() before sending");return this.errorCode_},k.prototype.getStatus=function(){if(!this.sent_)throw V("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},k.prototype.getResponseText=function(){if(!this.sent_)throw V("cannot .getResponseText() before sending");return this.xhr_.responseText},k.prototype.abort=function(){this.xhr_.abort()},k.prototype.getResponseHeader=function(M){return this.xhr_.getResponseHeader(M)},k.prototype.addUploadProgressListener=function(M){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",M)},k.prototype.removeUploadProgressListener=function(M){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",M)},k}(),En=function(){function k(){}return k.prototype.createConnection=function(){return function Wo(){return new Qr}()},k}(),pr=function(){function k(M,L){this.bucket=M,this.path_=L}return Object.defineProperty(k.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),k.prototype.fullServerUrl=function(){var M=encodeURIComponent;return"/b/"+M(this.bucket)+"/o/"+M(this.path)},k.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},k.makeFromBucketSpec=function(M,L){var H;try{H=k.makeFromUrl(M,L)}catch{return new k(M,"")}if(""===H.path)return H;throw function Xt(k){return new se("invalid-default-bucket","Invalid default bucket '"+k+"'.")}(M)},k.makeFromUrl=function(M,L){var H=null,K="([A-Za-z0-9.\\-_]+)",Ue=new RegExp("^gs://"+K+"(/(.*))?$","i");function Ye(an){an.path_=decodeURIComponent(an.path)}for(var _t=L.replace(/[.]/g,"\\."),Vn=[{regex:Ue,indices:{bucket:1,path:3},postModify:function te(an){"/"===an.path.charAt(an.path.length-1)&&(an.path_=an.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+_t+"/v[A-Za-z0-9_]+/b/"+K+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:Ye},{regex:new RegExp("^https?://"+(L===zt?"(?:storage.googleapis.com|storage.cloud.google.com)":L)+"/"+K+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:Ye}],Kn=0;Kn<Vn.length;Kn++){var Rr=Vn[Kn],Nr=Rr.regex.exec(M);if(Nr){var Ze=Nr[Rr.indices.path];Ze||(Ze=""),H=new k(Nr[Rr.indices.bucket],Ze),Rr.postModify(H);break}}if(null==H)throw function fr(k){return new se("invalid-url","Invalid URL '"+k+"'.")}(M);return H},k}(),$u=function(){function k(M){this.promise_=Promise.reject(M)}return k.prototype.getPromise=function(){return this.promise_},k.prototype.cancel=function(M){},k}();function Un(k){return"string"==typeof k||k instanceof String}function yn(k){return Hn()&&k instanceof Blob}function Hn(){return typeof Blob<"u"}function ys(k,M,L,H){if(H<M)throw nn("Invalid value for '"+k+"'. Expected "+M+" or greater.");if(H>L)throw nn("Invalid value for '"+k+"'. Expected "+L+" or less.")}function so(k,M){var H=M.match(/^(\w+):\/\/.+/)?.[1],K=M;return null==H&&(K="https://"+M),K+"/v0"+k}function yh(k){var M=encodeURIComponent,L="?";for(var H in k)k.hasOwnProperty(H)&&(L=L+(M(H)+"=")+M(k[H])+"&");return L.slice(0,-1)}var Ar=function(){function k(M,L,H,K,te,ye,Ue,ve,Ye,yt,_t){var or=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=M,this.method_=L,this.headers_=H,this.body_=K,this.successCodes_=te.slice(),this.additionalRetryCodes_=ye.slice(),this.callback_=Ue,this.errorCallback_=ve,this.progressCallback_=yt,this.timeout_=Ye,this.pool_=_t,this.promise_=new Promise(function(Nt,Cn){or.resolve_=Nt,or.reject_=Cn,or.start_()})}return k.prototype.start_=function(){var M=this;function H(K,te){var ye=M.resolve_,Ue=M.reject_,ve=te.connection;if(te.wasSuccessCode)try{var Ye=M.callback_(ve,ve.getResponseText());!function li(k){return void 0!==k}(Ye)?ye():ye(Ye)}catch(_t){Ue(_t)}else if(null!==ve)(yt=we()).serverResponse=ve.getResponseText(),Ue(M.errorCallback_?M.errorCallback_(ve,yt):yt);else if(te.canceled)Ue(yt=M.appDelete_?oo():bt());else{var yt;Ue(yt=function Pt(){return new se("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())}}this.canceled_?H(0,new Ko(!1,null,!0)):this.backoffId_=function Kt(k,M,L){var H=1,K=null,te=!1,ye=0;function Ue(){return 2===ye}var ve=!1;function Ye(){for(var Cn=[],Bn=0;Bn<arguments.length;Bn++)Cn[Bn]=arguments[Bn];ve||(ve=!0,M.apply(null,Cn))}function yt(Cn){K=setTimeout(function(){K=null,k(_t,Ue())},Cn)}function _t(Cn){for(var Bn=[],Rt=1;Rt<arguments.length;Rt++)Bn[Rt-1]=arguments[Rt];if(!ve){if(Cn)return void Ye.call.apply(Ye,(0,T.ev)([null,Cn],Bn));var Ut;if(Ue()||te)return void Ye.call.apply(Ye,(0,T.ev)([null,Cn],Bn));H<64&&(H*=2),1===ye?(ye=2,Ut=0):Ut=1e3*(H+Math.random()),yt(Ut)}}var or=!1;function Nt(Cn){or||(or=!0,!ve&&(null!==K?(Cn||(ye=2),clearTimeout(K),yt(0)):Cn||(ye=1)))}return yt(0),setTimeout(function(){te=!0,Nt(!0)},L),Nt}(function L(K,te){if(te)K(!1,new Ko(!1,null,!0));else{var ye=M.pool_.createConnection();M.pendingConnection_=ye,null!==M.progressCallback_&&ye.addUploadProgressListener(Ue),ye.send(M.url_,M.method_,M.body_,M.headers_).then(function(){null!==M.progressCallback_&&ye.removeUploadProgressListener(Ue),M.pendingConnection_=null;var ve=ye.getErrorCode()===mt.NO_ERROR,Ye=ye.getStatus();if(ve&&!M.isRetryStatusCode_(Ye)){var _t=-1!==M.successCodes_.indexOf(Ye);K(!0,new Ko(_t,ye))}else{var yt=ye.getErrorCode()===mt.ABORT;K(!1,new Ko(!1,null,yt))}})}function Ue(ve){null!==M.progressCallback_&&M.progressCallback_(ve.loaded,ve.lengthComputable?ve.total:-1)}},H,this.timeout_)},k.prototype.getPromise=function(){return this.promise_},k.prototype.cancel=function(M){this.canceled_=!0,this.appDelete_=M||!1,null!==this.backoffId_&&function rn(k){k(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},k.prototype.isRetryStatusCode_=function(M){var L=M>=500&&M<600,K=-1!==[408,429].indexOf(M),te=-1!==this.additionalRetryCodes_.indexOf(M);return L||K||te},k}(),Ko=function k(M,L,H){this.wasSuccessCode=M,this.connection=L,this.canceled=!!H};function gr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Kc(){for(var k=[],M=0;M<arguments.length;M++)k[M]=arguments[M];var L=gr();if(void 0!==L){for(var H=new L,K=0;K<k.length;K++)H.append(k[K]);return H.getBlob()}if(Hn())return new Blob(k);throw new se("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Ln=function(){function k(M,L){var H=0,K="";yn(M)?(this.data_=M,H=M.size,K=M.type):M instanceof ArrayBuffer?(L?this.data_=new Uint8Array(M):(this.data_=new Uint8Array(M.byteLength),this.data_.set(new Uint8Array(M))),H=this.data_.length):M instanceof Uint8Array&&(L?this.data_=M:(this.data_=new Uint8Array(M.length),this.data_.set(M)),H=M.length),this.size_=H,this.type_=K}return k.prototype.size=function(){return this.size_},k.prototype.type=function(){return this.type_},k.prototype.slice=function(M,L){if(yn(this.data_)){var K=function Gu(k,M,L){return k.webkitSlice?k.webkitSlice(M,L):k.mozSlice?k.mozSlice(M,L):k.slice?k.slice(M,L):null}(this.data_,M,L);return null===K?null:new k(K)}return new k(new Uint8Array(this.data_.buffer,M,L-M),!0)},k.getBlob=function(){for(var M=[],L=0;L<arguments.length;L++)M[L]=arguments[L];if(Hn()){var H=M.map(function(ve){return ve instanceof k?ve.data_:ve});return new k(Kc.apply(null,H))}var K=M.map(function(ve){return Un(ve)?le(_e.RAW,ve).data:ve.data_}),te=0;K.forEach(function(ve){te+=ve.byteLength});var ye=new Uint8Array(te),Ue=0;return K.forEach(function(ve){for(var Ye=0;Ye<ve.length;Ye++)ye[Ue++]=ve[Ye]}),new k(ye,!0)},k.prototype.uploadData=function(){return this.data_},k}();function No(k){var M;try{M=JSON.parse(k)}catch{return null}return function Fn(k){return"object"==typeof k&&!Array.isArray(k)}(M)?M:null}function X(k){var M=k.lastIndexOf("/",k.length-2);return-1===M?k:k.slice(M+1)}function ne(k,M){return M}var Q=function k(M,L,H,K){this.server=M,this.local=L||M,this.writable=!!H,this.xform=K||ne},Me=null;function on(){if(Me)return Me;var k=[];k.push(new Q("bucket")),k.push(new Q("generation")),k.push(new Q("metageneration")),k.push(new Q("name","fullPath",!0));var L=new Q("name");L.xform=function M(te,ye){return function dt(k){return!Un(k)||k.length<2?k:X(k)}(ye)},k.push(L);var K=new Q("size");return K.xform=function H(te,ye){return void 0!==ye?Number(ye):ye},k.push(K),k.push(new Q("timeCreated")),k.push(new Q("updated")),k.push(new Q("md5Hash",null,!0)),k.push(new Q("cacheControl",null,!0)),k.push(new Q("contentDisposition",null,!0)),k.push(new Q("contentEncoding",null,!0)),k.push(new Q("contentLanguage",null,!0)),k.push(new Q("contentType",null,!0)),k.push(new Q("metadata","customMetadata",!0)),Me=k}function Mr(k,M,L){var H=No(M);return null===H?null:function cn(k,M,L){for(var H={type:"file"},K=L.length,te=0;te<K;te++){var ye=L[te];H[ye.local]=ye.xform(H,M[ye.server])}return function mn(k,M){Object.defineProperty(k,"ref",{get:function L(){var te=new pr(k.bucket,k.fullPath);return M._makeStorageReference(te)}})}(H,k),H}(k,H,L)}function Ct(k,M){for(var L={},H=M.length,K=0;K<H;K++){var te=M[K];te.writable&&(L[te.server]=k[te.local])}return JSON.stringify(L)}var Xr="prefixes";var ao=function k(M,L,H,K){this.url=M,this.method=L,this.handler=H,this.timeout=K,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function vt(k){if(!k)throw we()}function Yo(k,M){return function L(H,K){var te=Mr(k,K,M);return vt(null!==te),te}}function at(k){return function M(L,H){var K;return K=401===L.getStatus()?L.getResponseText().includes("Firebase App Check token is invalid")?function qt(){return new se("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Fe(){return new se("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===L.getStatus()?function Ae(k){return new se("quota-exceeded","Quota for bucket '"+k+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(k.bucket):403===L.getStatus()?function Gt(k){return new se("unauthorized","User does not have permission to access '"+k+"'.")}(k.path):H,K.serverResponse=H.serverResponse,K}}function Qo(k){var M=at(k);return function L(H,K){var te=M(H,K);return 404===H.getStatus()&&(te=function Re(k){return new se("object-not-found","Object '"+k+"' does not exist.")}(k.path)),te.serverResponse=K.serverResponse,te}}function Eh(k,M,L){var K=so(M.fullServerUrl(),k.host),ye=k.maxOperationRetryTime,Ue=new ao(K,"GET",Yo(k,L),ye);return Ue.errorHandler=Qo(M),Ue}function Ee(k,M,L,H,K){var te={};te.prefix=M.isRoot?"":M.path+"/",L&&L.length>0&&(te.delimiter=L),H&&(te.pageToken=H),K&&(te.maxResults=K);var Ue=so(M.bucketOnlyServerUrl(),k.host),Ye=k.maxOperationRetryTime,yt=new ao(Ue,"GET",function wh(k,M){return function L(H,K){var te=function Mn(k,M,L){var H=No(L);return null===H?null:function bh(k,M,L){var H={prefixes:[],items:[],nextPageToken:L.nextPageToken};if(L[Xr])for(var K=0,te=L[Xr];K<te.length;K++){var Ue=te[K].replace(/\/$/,""),ve=k._makeStorageReference(new pr(M,Ue));H.prefixes.push(ve)}if(L.items)for(var Ye=0,yt=L.items;Ye<yt.length;Ye++)ve=k._makeStorageReference(new pr(M,yt[Ye].name)),H.items.push(ve);return H}(k,M,H)}(k,M,K);return vt(null!==te),te}}(k,M.bucket),Ye);return yt.urlParams=te,yt.errorHandler=at(M),yt}function yp(k,M,L){var H=Object.assign({},L);return H.fullPath=k.path,H.size=M.size(),H.contentType||(H.contentType=function Ch(k,M){return k&&k.contentType||M&&M.type()||"application/octet-stream"}(null,M)),H}var Xo=function k(M,L,H,K){this.current=M,this.total=L,this.finalized=!!H,this.metadata=K||null};function kr(k,M){var L=null;try{L=k.getResponseHeader("X-Goog-Upload-Status")}catch{vt(!1)}return vt(!!L&&-1!==(M||["active"]).indexOf(L)),L}var ja=function k(M,L,H){var K=function Rn(k){return"function"==typeof k}(M)||null!=L||null!=H;if(K)this.next=M,this.error=L,this.complete=H;else{var te=M;this.next=te.next,this.error=te.error,this.complete=te.complete}};function Wu(k){return function(){for(var M=[],L=0;L<arguments.length;L++)M[L]=arguments[L];Promise.resolve().then(function(){return k.apply(void 0,M)})}}var Nd=function(){function k(M,L,H){var K=this;void 0===H&&(H=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=M,this._blob=L,this._metadata=H,this._mappings=on(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(te){K._request=void 0,K._chunkMultiplier=1,te._codeEquals("canceled")?(K._needToFetchStatus=!0,K.completeTransitions_()):(K._error=te,K._transition("error"))},this._metadataErrorHandler=function(te){K._request=void 0,te._codeEquals("canceled")?K.completeTransitions_():(K._error=te,K._transition("error"))},this._promise=new Promise(function(te,ye){K._resolve=te,K._reject=ye,K._start()}),this._promise.then(null,function(){})}return k.prototype._makeProgressCallback=function(){var M=this,L=this._transferred;return function(H){return M._updateProgress(L+H)}},k.prototype._shouldDoResumable=function(M){return M.size()>262144},k.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},k.prototype._resolveToken=function(M){var L=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(H){var K=H[0],te=H[1];switch(L._state){case"running":M(K,te);break;case"canceling":L._transition("canceled");break;case"pausing":L._transition("paused")}})},k.prototype._createResumable=function(){var M=this;this._resolveToken(function(L,H){var K=function Dh(k,M,L,H,K){var te=M.bucketOnlyServerUrl(),ye=yp(M,H,K),Ue={name:ye.fullPath},ve=so(te,k.host),yt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+H.size(),"X-Goog-Upload-Header-Content-Type":ye.contentType,"Content-Type":"application/json; charset=utf-8"},_t=Ct(ye,L),Cn=new ao(ve,"POST",function Nt(Bn){var Rt;kr(Bn);try{Rt=Bn.getResponseHeader("X-Goog-Upload-URL")}catch{vt(!1)}return vt(Un(Rt)),Rt},k.maxUploadRetryTime);return Cn.urlParams=Ue,Cn.headers=yt,Cn.body=_t,Cn.errorHandler=at(M),Cn}(M._ref.storage,M._ref._location,M._mappings,M._blob,M._metadata),te=M._ref.storage._makeRequest(K,L,H);M._request=te,te.getPromise().then(function(ye){M._request=void 0,M._uploadUrl=ye,M._needToFetchStatus=!1,M.completeTransitions_()},M._errorHandler)})},k.prototype._fetchStatus=function(){var M=this,L=this._uploadUrl;this._resolveToken(function(H,K){var te=function Yc(k,M,L,H){var ve=new ao(L,"POST",function te(Ye){var yt=kr(Ye,["active","final"]),_t=null;try{_t=Ye.getResponseHeader("X-Goog-Upload-Size-Received")}catch{vt(!1)}_t||vt(!1);var or=Number(_t);return vt(!isNaN(or)),new Xo(or,H.size(),"final"===yt)},k.maxUploadRetryTime);return ve.headers={"X-Goog-Upload-Command":"query"},ve.errorHandler=at(M),ve}(M._ref.storage,M._ref._location,L,M._blob),ye=M._ref.storage._makeRequest(te,H,K);M._request=ye,ye.getPromise().then(function(Ue){M._request=void 0,M._updateProgress(Ue.current),M._needToFetchStatus=!1,Ue.finalized&&(M._needToFetchMetadata=!0),M.completeTransitions_()},M._errorHandler)})},k.prototype._continueUpload=function(){var M=this,L=262144*this._chunkMultiplier,H=new Xo(this._transferred,this._blob.size()),K=this._uploadUrl;this._resolveToken(function(te,ye){var Ue;try{Ue=function mr(k,M,L,H,K,te,ye,Ue){var ve=new Xo(0,0);if(ye?(ve.current=ye.current,ve.total=ye.total):(ve.current=0,ve.total=H.size()),H.size()!==ve.total)throw function Jn(){return new se("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();var Ye=ve.total-ve.current,yt=Ye;K>0&&(yt=Math.min(yt,K));var _t=ve.current,Cn={"X-Goog-Upload-Command":yt===Ye?"upload, finalize":"upload","X-Goog-Upload-Offset":""+ve.current},Bn=H.slice(_t,_t+yt);if(null===Bn)throw Et();var Vn=new ao(L,"POST",function Rt(Kn,Rr){var an,Nr=kr(Kn,["active","final"]),Ie=ve.current+yt,Ze=H.size();return an="final"===Nr?Yo(M,te)(Kn,Rr):null,new Xo(Ie,Ze,"final"===Nr,an)},M.maxUploadRetryTime);return Vn.headers=Cn,Vn.body=Bn.uploadData(),Vn.progressCallback=Ue||null,Vn.errorHandler=at(k),Vn}(M._ref._location,M._ref.storage,K,M._blob,L,M._mappings,H,M._makeProgressCallback())}catch(Ye){return M._error=Ye,void M._transition("error")}var ve=M._ref.storage._makeRequest(Ue,te,ye);M._request=ve,ve.getPromise().then(function(Ye){M._increaseMultiplier(),M._request=void 0,M._updateProgress(Ye.current),Ye.finalized?(M._metadata=Ye.metadata,M._transition("success")):M.completeTransitions_()},M._errorHandler)})},k.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},k.prototype._fetchMetadata=function(){var M=this;this._resolveToken(function(L,H){var K=Eh(M._ref.storage,M._ref._location,M._mappings),te=M._ref.storage._makeRequest(K,L,H);M._request=te,te.getPromise().then(function(ye){M._request=void 0,M._metadata=ye,M._transition("success")},M._metadataErrorHandler)})},k.prototype._oneShotUpload=function(){var M=this;this._resolveToken(function(L,H){var K=function Va(k,M,L,H,K){var te=M.bucketOnlyServerUrl(),ye={"X-Goog-Upload-Protocol":"multipart"},ve=function Ue(){for(var Vn="",Kn=0;Kn<2;Kn++)Vn+=Math.random().toString().slice(2);return Vn}();ye["Content-Type"]="multipart/related; boundary="+ve;var Ye=yp(M,H,K),yt=Ct(Ye,L),Nt=Ln.getBlob("--"+ve+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+yt+"\r\n--"+ve+"\r\nContent-Type: "+Ye.contentType+"\r\n\r\n",H,"\r\n--"+ve+"--");if(null===Nt)throw Et();var Cn={name:Ye.fullPath},Bn=so(te,k.host),sr=k.maxUploadRetryTime,Ut=new ao(Bn,"POST",Yo(k,L),sr);return Ut.urlParams=Cn,Ut.headers=ye,Ut.body=Nt.uploadData(),Ut.errorHandler=at(M),Ut}(M._ref.storage,M._ref._location,M._mappings,M._blob,M._metadata),te=M._ref.storage._makeRequest(K,L,H);M._request=te,te.getPromise().then(function(ye){M._request=void 0,M._metadata=ye,M._updateProgress(M._blob.size()),M._transition("success")},M._errorHandler)})},k.prototype._updateProgress=function(M){var L=this._transferred;this._transferred=M,this._transferred!==L&&this._notifyObservers()},k.prototype._transition=function(M){if(this._state!==M)switch(M){case"canceling":case"pausing":this._state=M,void 0!==this._request&&this._request.cancel();break;case"running":var L="paused"===this._state;this._state=M,L&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=M,this._notifyObservers();break;case"canceled":this._error=bt(),this._state=M,this._notifyObservers()}},k.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(k.prototype,"snapshot",{get:function(){var M=Si(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:M,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),k.prototype.on=function(M,L,H,K){var te=this,ye=new ja(L,H,K);return this._addObserver(ye),function(){te._removeObserver(ye)}},k.prototype.then=function(M,L){return this._promise.then(M,L)},k.prototype.catch=function(M){return this.then(null,M)},k.prototype._addObserver=function(M){this._observers.push(M),this._notifyObserver(M)},k.prototype._removeObserver=function(M){var L=this._observers.indexOf(M);-1!==L&&this._observers.splice(L,1)},k.prototype._notifyObservers=function(){var M=this;this._finishPromise(),this._observers.slice().forEach(function(H){M._notifyObserver(H)})},k.prototype._finishPromise=function(){if(void 0!==this._resolve){var M=!0;switch(Si(this._state)){case rt.SUCCESS:Wu(this._resolve.bind(null,this.snapshot))();break;case rt.CANCELED:case rt.ERROR:Wu(this._reject.bind(null,this._error))();break;default:M=!1}M&&(this._resolve=void 0,this._reject=void 0)}},k.prototype._notifyObserver=function(M){switch(Si(this._state)){case rt.RUNNING:case rt.PAUSED:M.next&&Wu(M.next.bind(M,this.snapshot))();break;case rt.SUCCESS:M.complete&&Wu(M.complete.bind(M))();break;default:M.error&&Wu(M.error.bind(M,this._error))()}},k.prototype.resume=function(){var M="paused"===this._state||"pausing"===this._state;return M&&this._transition("running"),M},k.prototype.pause=function(){var M="running"===this._state;return M&&this._transition("pausing"),M},k.prototype.cancel=function(){var M="running"===this._state||"pausing"===this._state;return M&&this._transition("canceling"),M},k}(),Zo=function(){function k(M,L){this._service=M,this._location=L instanceof pr?L:pr.makeFromUrl(L,M.host)}return k.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},k.prototype._newRef=function(M,L){return new k(M,L)},Object.defineProperty(k.prototype,"root",{get:function(){var M=new pr(this._location.bucket,"");return this._newRef(this._service,M)},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"name",{get:function(){return X(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"parent",{get:function(){var M=function W(k){if(0===k.length)return null;var M=k.lastIndexOf("/");return-1===M?"":k.slice(0,M)}(this._location.path);if(null===M)return null;var L=new pr(this._location.bucket,M);return new k(this._service,L)},enumerable:!1,configurable:!0}),k.prototype._throwIfRoot=function(M){if(""===this._location.path)throw pt(M)},k}();function Ua(k){var M={prefixes:[],items:[]};return Ku(k,M).then(function(){return M})}function Ku(k,M,L){return(0,T.mG)(this,void 0,void 0,function(){var K,te,ye;return(0,T.Jh)(this,function(Ue){switch(Ue.label){case 0:return[4,Ys(k,{pageToken:L})];case 1:return K=Ue.sent(),(te=M.prefixes).push.apply(te,K.prefixes),(ye=M.items).push.apply(ye,K.items),null==K.nextPageToken?[3,3]:[4,Ku(k,M,K.nextPageToken)];case 2:Ue.sent(),Ue.label=3;case 3:return[2]}})})}function Ys(k,M){return(0,T.mG)(this,void 0,void 0,function(){var L,H;return(0,T.Jh)(this,function(K){switch(K.label){case 0:return null!=M&&"number"==typeof M.maxResults&&ys("options.maxResults",1,1e3,M.maxResults),H=Ee(k.storage,k._location,"/",(L=M||{}).pageToken,L.maxResults),[4,k.storage.makeRequestWithTokens(H)];case 1:return[2,K.sent().getPromise()]}})})}function Fd(k){return(0,T.mG)(this,void 0,void 0,function(){var M;return(0,T.Jh)(this,function(L){switch(L.label){case 0:return k._throwIfRoot("getDownloadURL"),M=function _s(k,M,L){var K=so(M.fullServerUrl(),k.host),ye=k.maxOperationRetryTime,Ue=new ao(K,"GET",function Ks(k,M){return function L(H,K){var te=Mr(k,K,M);return vt(null!==te),function sn(k,M,L){var H=No(M);if(null===H||!Un(H.downloadTokens))return null;var K=H.downloadTokens;if(0===K.length)return null;var te=encodeURIComponent;return K.split(",").map(function(ve){var yt=k.fullPath;return so("/b/"+te(k.bucket)+"/o/"+te(yt),L)+yh({alt:"media",token:ve})})[0]}(te,K,k.host)}}(k,L),ye);return Ue.errorHandler=Qo(M),Ue}(k.storage,k._location,on()),[4,k.storage.makeRequestWithTokens(M)];case 1:return[2,L.sent().getPromise().then(function(H){if(null===H)throw function Xe(){return new se("no-download-url","The given file does not have any download URLs.")}();return H})]}})})}function Yu(k,M){var L=function G(k,M){var L=M.split("/").filter(function(H){return H.length>0}).join("/");return 0===k.length?L:k+"/"+L}(k._location.path,M),H=new pr(k._location.bucket,L);return new Zo(k.storage,H)}function Ne(k){return/^[A-Za-z]+:\/\//.test(k)}function fn(k,M){if(k instanceof za){var L=k;if(null==L._bucket)throw function Di(){return new se("no-default-bucket","No default bucket found. Did you set the '"+io+"' property when initializing the app?")}();var H=new Zo(L,L._bucket);return null!=M?fn(H,M):H}return void 0!==M?Yu(k,M):k}function Qu(k,M){if(M&&Ne(M)){if(k instanceof za)return function Ld(k,M){return new Zo(k,M)}(k,M);throw nn("To use ref(service, url), the first argument must be a Storage instance.")}return fn(k,M)}function bs(k,M){var L=M?.[io];return null==L?null:pr.makeFromBucketSpec(L,k)}var za=function(){function k(M,L,H,K,te,ye){this.app=M,this._authProvider=L,this._appCheckProvider=H,this._pool=K,this._url=te,this._firebaseVersion=ye,this._bucket=null,this._host=zt,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=te?pr.makeFromBucketSpec(te,this._host):bs(this._host,this.app.options)}return Object.defineProperty(k.prototype,"host",{get:function(){return this._host},set:function(M){this._host=M,this._bucket=null!=this._url?pr.makeFromBucketSpec(this._url,M):bs(M,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(M){ys("time",0,Number.POSITIVE_INFINITY,M),this._maxUploadRetryTime=M},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(M){ys("time",0,Number.POSITIVE_INFINITY,M),this._maxOperationRetryTime=M},enumerable:!1,configurable:!0}),k.prototype._getAuthToken=function(){return(0,T.mG)(this,void 0,void 0,function(){var M,L;return(0,T.Jh)(this,function(H){switch(H.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(M=this._authProvider.getImmediate({optional:!0}))?[4,M.getToken()]:[3,2];case 1:if(null!==(L=H.sent()))return[2,L.accessToken];H.label=2;case 2:return[2,null]}})})},k.prototype._getAppCheckToken=function(){return(0,T.mG)(this,void 0,void 0,function(){var M;return(0,T.Jh)(this,function(H){switch(H.label){case 0:return(M=this._appCheckProvider.getImmediate({optional:!0}))?[4,M.getToken()]:[3,2];case 1:return[2,H.sent().token];case 2:return[2,null]}})})},k.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(M){return M.cancel()}),this._requests.clear()),Promise.resolve()},k.prototype._makeStorageReference=function(M){return new Zo(this,M)},k.prototype._makeRequest=function(M,L,H){var K=this;if(this._deleted)return new $u(oo());var te=function zi(k,M,L,H,K,te){var ye=yh(k.urlParams),Ue=k.url+ye,ve=Object.assign({},k.headers);return function _h(k,M){M&&(k["X-Firebase-GMPID"]=M)}(ve,M),function Pd(k,M){null!==M&&M.length>0&&(k.Authorization="Firebase "+M)}(ve,L),function Ti(k,M){k["X-Firebase-Storage-Version"]="webjs/"+(M??"AppManager")}(ve,te),function Tt(k,M){null!==M&&(k["X-Firebase-AppCheck"]=M)}(ve,H),new Ar(Ue,k.method,ve,k.body,k.successCodes,k.additionalRetryCodes,k.handler,k.errorHandler,k.timeout,k.progressCallback,K)}(M,this._appId,L,H,this._pool,this._firebaseVersion);return this._requests.add(te),te.getPromise().then(function(){return K._requests.delete(te)},function(){return K._requests.delete(te)}),te},k.prototype.makeRequestWithTokens=function(M){return(0,T.mG)(this,void 0,void 0,function(){var L;return(0,T.Jh)(this,function(te){switch(te.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return L=te.sent(),[2,this._makeRequest(M,L[0],L[1])]}})})},k}();function $a(k,M){return Qu(k=(0,We.m9)(k),M)}var jt=function(){function k(M,L,H){this._delegate=M,this.task=L,this.ref=H}return Object.defineProperty(k.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),k}(),hi=function(){function k(M,L){this._delegate=M,this._ref=L,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(k.prototype,"snapshot",{get:function(){return new jt(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),k.prototype.then=function(M,L){var H=this;return this._delegate.then(function(K){if(M)return M(new jt(K,H,H._ref))},L)},k.prototype.on=function(M,L,H,K){var te=this,ye=void 0;return L&&(ye="function"==typeof L?function(Ue){return L(new jt(Ue,te,te._ref))}:{next:L.next?function(Ue){return L.next(new jt(Ue,te,te._ref))}:void 0,complete:L.complete||void 0,error:L.error||void 0}),this._delegate.on(M,ye,H||void 0,K||void 0)},k}(),lr=function(){function k(M,L){this._delegate=M,this._service=L}return Object.defineProperty(k.prototype,"prefixes",{get:function(){var M=this;return this._delegate.prefixes.map(function(L){return new qi(L,M._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"items",{get:function(){var M=this;return this._delegate.items.map(function(L){return new qi(L,M._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),k}(),qi=function(){function k(M,L){this._delegate=M,this.storage=L}return Object.defineProperty(k.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),k.prototype.toString=function(){return this._delegate.toString()},k.prototype.child=function(M){var L=function uo(k,M){return Yu(k,M)}(this._delegate,M);return new k(L,this.storage)},Object.defineProperty(k.prototype,"root",{get:function(){return new k(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"parent",{get:function(){var M=this._delegate.parent;return null==M?null:new k(M,this.storage)},enumerable:!1,configurable:!0}),k.prototype.put=function(M,L){return this._throwIfRoot("put"),new hi(function Qs(k,M,L){return function Sh(k,M,L){return k._throwIfRoot("uploadBytesResumable"),new Nd(k,new Ln(M),L)}(k=(0,We.m9)(k),M,L)}(this._delegate,M,L),this)},k.prototype.putString=function(M,L,H){void 0===L&&(L=_e.RAW),this._throwIfRoot("putString");var K=le(L,M),te=(0,T.pi)({},H);return null==te.contentType&&null!=K.contentType&&(te.contentType=K.contentType),new hi(new Nd(this._delegate,new Ln(K.data,!0),te),this)},k.prototype.listAll=function(){var M=this;return function Qc(k){return Ua(k=(0,We.m9)(k))}(this._delegate).then(function(L){return new lr(L,M.storage)})},k.prototype.list=function(M){var L=this;return function Ih(k,M){return Ys(k=(0,We.m9)(k),M)}(this._delegate,M||void 0).then(function(H){return new lr(H,L.storage)})},k.prototype.getMetadata=function(){return function ws(k){return function Zr(k){return(0,T.mG)(this,void 0,void 0,function(){var M;return(0,T.Jh)(this,function(L){switch(L.label){case 0:return k._throwIfRoot("getMetadata"),M=Eh(k.storage,k._location,on()),[4,k.storage.makeRequestWithTokens(M)];case 1:return[2,L.sent().getPromise()]}})})}(k=(0,We.m9)(k))}(this._delegate)},k.prototype.updateMetadata=function(M){return function Jo(k,M){return function Mt(k,M){return(0,T.mG)(this,void 0,void 0,function(){var L;return(0,T.Jh)(this,function(H){switch(H.label){case 0:return k._throwIfRoot("updateMetadata"),L=function lt(k,M,L,H){var te=so(M.fullServerUrl(),k.host),Ue=Ct(L,H),Ye=k.maxOperationRetryTime,yt=new ao(te,"PATCH",Yo(k,H),Ye);return yt.headers={"Content-Type":"application/json; charset=utf-8"},yt.body=Ue,yt.errorHandler=Qo(M),yt}(k.storage,k._location,M,on()),[4,k.storage.makeRequestWithTokens(L)];case 1:return[2,H.sent().getPromise()]}})})}(k=(0,We.m9)(k),M)}(this._delegate,M)},k.prototype.getDownloadURL=function(){return function et(k){return Fd(k=(0,We.m9)(k))}(this._delegate)},k.prototype.delete=function(){return this._throwIfRoot("delete"),function qa(k){return function Ha(k){return(0,T.mG)(this,void 0,void 0,function(){var M;return(0,T.Jh)(this,function(L){switch(L.label){case 0:return k._throwIfRoot("deleteObject"),M=function dn(k,M){var H=so(M.fullServerUrl(),k.host),Ue=new ao(H,"DELETE",function ye(ve,Ye){},k.maxOperationRetryTime);return Ue.successCodes=[200,204],Ue.errorHandler=Qo(M),Ue}(k.storage,k._location),[4,k.storage.makeRequestWithTokens(M)];case 1:return[2,L.sent().getPromise()]}})})}(k=(0,We.m9)(k))}(this._delegate)},k.prototype._throwIfRoot=function(M){if(""===this._delegate._location.path)throw pt(M)},k}(),Zc=function(){function k(M,L){this.app=M,this._delegate=L}return Object.defineProperty(k.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),k.prototype.ref=function(M){if(Ne(M))throw nn("ref() expected a child path but got a URL, use refFromURL instead.");return new qi($a(this._delegate,M),this)},k.prototype.refFromURL=function(M){if(!Ne(M))throw nn("refFromURL() expected a full URL but got a child path, use ref() instead.");try{pr.makeFromUrl(M,this._delegate.host)}catch{throw nn("refFromUrl() expected a valid full URL but got an invalid one.")}return new qi($a(this._delegate,M),this)},k.prototype.setMaxUploadRetryTime=function(M){this._delegate.maxUploadRetryTime=M},k.prototype.setMaxOperationRetryTime=function(M){this._delegate.maxOperationRetryTime=M},k.prototype.useEmulator=function(M,L,H){void 0===H&&(H={}),function Xc(k,M,L,H){void 0===H&&(H={}),function Th(k,M,L,H){void 0===H&&(H={}),k.host="http://"+M+":"+L;var K=H.mockUserToken;K&&(k._overrideAuthToken="string"==typeof K?K:(0,We.Sg)(K,k.app.options.projectId))}(k,M,L,H)}(this._delegate,M,L,H)},k}();function er(k,M){var L=M.instanceIdentifier,H=k.getProvider("app").getImmediate(),K=k.getProvider("auth-internal"),te=k.getProvider("app-check-internal");return new Zc(H,new za(H,K,te,new En,L,pe.Z.SDK_VERSION))}!function es(k){var M={TaskState:rt,TaskEvent:gt,StringFormat:_e,Storage:za,Reference:qi};k.INTERNAL.registerComponent(new ot.wA("storage",er,"PUBLIC").setServiceProps(M).setMultipleInstances(!0)),k.registerVersion("@firebase/storage","0.7.1")}(pe.Z)},655:(Ba,ci,Wt)=>{Wt.d(ci,{CR:()=>Ae,FC:()=>bt,Jh:()=>se,KL:()=>Xt,XA:()=>Re,ZT:()=>T,ev:()=>Gt,mG:()=>Ci,pi:()=>We,qq:()=>Pt});var pe=function(de,V){return(pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ge,_e){ge.__proto__=_e}||function(ge,_e){for(var Pe in _e)Object.prototype.hasOwnProperty.call(_e,Pe)&&(ge[Pe]=_e[Pe])})(de,V)};function T(de,V){if("function"!=typeof V&&null!==V)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");function ge(){this.constructor=de}pe(de,V),de.prototype=null===V?Object.create(V):(ge.prototype=V.prototype,new ge)}var We=function(){return We=Object.assign||function(V){for(var ge,_e=1,Pe=arguments.length;_e<Pe;_e++)for(var le in ge=arguments[_e])Object.prototype.hasOwnProperty.call(ge,le)&&(V[le]=ge[le]);return V},We.apply(this,arguments)};function Ci(de,V,ge,_e){return new(ge||(ge=Promise))(function(le,ct){function St(Se){try{nt(_e.next(Se))}catch(Ke){ct(Ke)}}function cr(Se){try{nt(_e.throw(Se))}catch(Ke){ct(Ke)}}function nt(Se){Se.done?le(Se.value):function Pe(le){return le instanceof ge?le:new ge(function(ct){ct(le)})}(Se.value).then(St,cr)}nt((_e=_e.apply(de,V||[])).next())})}function se(de,V){var _e,Pe,le,ct,ge={label:0,sent:function(){if(1&le[0])throw le[1];return le[1]},trys:[],ops:[]};return ct={next:St(0),throw:St(1),return:St(2)},"function"==typeof Symbol&&(ct[Symbol.iterator]=function(){return this}),ct;function St(nt){return function(Se){return function cr(nt){if(_e)throw new TypeError("Generator is already executing.");for(;ge;)try{if(_e=1,Pe&&(le=2&nt[0]?Pe.return:nt[0]?Pe.throw||((le=Pe.return)&&le.call(Pe),0):Pe.next)&&!(le=le.call(Pe,nt[1])).done)return le;switch(Pe=0,le&&(nt=[2&nt[0],le.value]),nt[0]){case 0:case 1:le=nt;break;case 4:return ge.label++,{value:nt[1],done:!1};case 5:ge.label++,Pe=nt[1],nt=[0];continue;case 7:nt=ge.ops.pop(),ge.trys.pop();continue;default:if(!(le=(le=ge.trys).length>0&&le[le.length-1])&&(6===nt[0]||2===nt[0])){ge=0;continue}if(3===nt[0]&&(!le||nt[1]>le[0]&&nt[1]<le[3])){ge.label=nt[1];break}if(6===nt[0]&&ge.label<le[1]){ge.label=le[1],le=nt;break}if(le&&ge.label<le[2]){ge.label=le[2],ge.ops.push(nt);break}le[2]&&ge.ops.pop(),ge.trys.pop();continue}nt=V.call(de,ge)}catch(Se){nt=[6,Se],Pe=0}finally{_e=le=0}if(5&nt[0])throw nt[1];return{value:nt[0]?nt[1]:void 0,done:!0}}([nt,Se])}}}function Re(de){var V="function"==typeof Symbol&&Symbol.iterator,ge=V&&de[V],_e=0;if(ge)return ge.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&_e>=de.length&&(de=void 0),{value:de&&de[_e++],done:!de}}};throw new TypeError(V?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ae(de,V){var ge="function"==typeof Symbol&&de[Symbol.iterator];if(!ge)return de;var Pe,ct,_e=ge.call(de),le=[];try{for(;(void 0===V||V-- >0)&&!(Pe=_e.next()).done;)le.push(Pe.value)}catch(St){ct={error:St}}finally{try{Pe&&!Pe.done&&(ge=_e.return)&&ge.call(_e)}finally{if(ct)throw ct.error}}return le}function Gt(de,V,ge){if(ge||2===arguments.length)for(var le,_e=0,Pe=V.length;_e<Pe;_e++)(le||!(_e in V))&&(le||(le=Array.prototype.slice.call(V,0,_e)),le[_e]=V[_e]);return de.concat(le||Array.prototype.slice.call(V))}function Pt(de){return this instanceof Pt?(this.v=de,this):new Pt(de)}function bt(de,V,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,_e=ge.apply(de,V||[]),le=[];return Pe={},ct("next"),ct("throw"),ct("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function ct(st){_e[st]&&(Pe[st]=function(gt){return new Promise(function(rt,Si){le.push([st,gt,rt,Si])>1||St(st,gt)})})}function St(st,gt){try{!function cr(st){st.value instanceof Pt?Promise.resolve(st.value.v).then(nt,Se):Ke(le[0][2],st)}(_e[st](gt))}catch(rt){Ke(le[0][3],rt)}}function nt(st){St("next",st)}function Se(st){St("throw",st)}function Ke(st,gt){st(gt),le.shift(),le.length&&St(le[0][0],le[0][1])}}function Xt(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,V=de[Symbol.asyncIterator];return V?V.call(de):(de=Re(de),ge={},_e("next"),_e("throw"),_e("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function _e(le){ge[le]=de[le]&&function(ct){return new Promise(function(St,cr){!function Pe(le,ct,St,cr){Promise.resolve(cr).then(function(nt){le({value:nt,done:St})},ct)}(St,cr,(ct=de[le](ct)).done,ct.value)})}}}}},Ba=>{Ba(Ba.s=759)}]);